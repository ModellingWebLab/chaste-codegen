============================= test session starts =============================
platform win32 -- Python 3.7.4, pytest-5.1.0, py-1.8.0, pluggy-0.12.0
rootdir: C:\Users\uczmh2\Desktop\venv_weblab-cg\weblab-cg
plugins: cov-2.7.1
collected 2 items

weblab_cg\tests\test_chaste_cg.py F.                                     [100%]

================================== FAILURES ===================================
___________________ TestChasteCG.test_generate_chate_models ___________________

self = <weblab_cg.tests.test_chaste_cg.TestChasteCG object at 0x0649C270>
tmp_path = 'C:\\Users\\uczmh2\\AppData\\Local\\Temp\\pytest-of-uczmh2\\pytest-20\\test_generate_chate_models0'
chaste_models = [{'class_name': 'TestManualaslanidi_model_2009', 'model': <cellmlmanip.model.Model object at 0x0649C310>, 'model_name_...mh2\\Desktop\\venv_weblab-cg\\weblab-cg\\weblab_cg\\data\\tests\\chaste_reference_models\\Normal\\mahajan_2008.hpp'}}}]

    def test_generate_chate_models(self, tmp_path, chaste_models):
        """ Check generation of Normal models against reference"""
        tmp_path = str(tmp_path)
        for model in chaste_models:
            for model_type in model['reference_models'].keys():
                LOGGER.info('Converting: '+ model_type +' '+ model['class_name']+'\n')
                # Generate chaste code
                chaste_model = cg.NormalChasteModel(model['model'], model['class_name'], model['model_name_from_file'])
                chaste_model.generate_chaste_code()
    
                # Write generated files
                hhp_gen_file_path = os.path.join(tmp_path, model_type, chaste_model.file_name + ".hpp")
                cpp_gen_file_path = os.path.join(tmp_path, model_type, chaste_model.file_name + ".cpp")
                write_file(hhp_gen_file_path, chaste_model.generated_hpp)
                write_file(cpp_gen_file_path, chaste_model.generated_cpp)
    
                # Load reference files
                expected_hpp = get_file_lines(model['reference_models'][model_type]['expected_hpp_path'])
                expected_cpp = get_file_lines(model['reference_models'][model_type]['expected_cpp_path'])
    
                # Load generated files
                generated_hpp = get_file_lines(hhp_gen_file_path)
                generated_cpp = get_file_lines(cpp_gen_file_path)
    
                assert expected_hpp == generated_hpp
                assert expected_cpp == generated_cpp
>       assert False
E       assert False

weblab_cg\tests\test_chaste_cg.py:55: AssertionError
---------------------------- Captured stderr setup ----------------------------
INFO:cellmlmanip.model:The source variable has not been assigned to a symbol (i.e. expecting a connection): L_type_Ca_channel_f_L_gate$V \u27f6 L_type_Ca_channel$V\nINFO:cellmlmanip.model:The source variable has not been assigned to a symbol (i.e. expecting a connection): delayed_rectifier_K_current_pi_gate$time \u27f6 delayed_rectifier_K_current$time\nINFO:cellmlmanip.model:The source variable has not been assigned to a symbol (i.e. expecting a connection): Ca_independent_transient_outward_K_current_s1_gate$V \u27f6 Ca_independent_transient_outward_K_current$V\nINFO:cellmlmanip.model:The source variable has not been assigned to a symbol (i.e. expecting a connection): T_type_Ca_channel_f_T_gate$V \u27f6 T_type_Ca_channel$V\nINFO:cellmlmanip.model:The source variable has not been assigned to a symbol (i.e. expecting a connection): T_type_Ca_channel_d_T_gate$V \u27f6 T_type_Ca_channel$V\nINFO:cellmlmanip.model:The source variable has not been assigned to a symbol (i.e. expecting a connection): delayed_rectifier_K_current_pa_gate$time \u27f6 delayed_rectifier_K_current$time\nINFO:cellmlmanip.model:The source variable has not been assigned to a symbol (i.e. expecting a connection): L_type_Ca_channel_d_L_gate$V \u27f6 L_type_Ca_channel$V\nINFO:cellmlmanip.model:The source variable has not been assigned to a symbol (i.e. expecting a connection): sodium_current_m_gate$time \u27f6 sodium_current$time\nINFO:cellmlmanip.model:The source variable has not been assigned to a symbol (i.e. expecting a connection): sodium_current_j_gate$time \u27f6 sodium_current$time\nINFO:cellmlmanip.model:The source variable has not been assigned to a symbol (i.e. expecting a connection): slow_inward_current_d_gate$V \u27f6 slow_inward_current$V\nINFO:cellmlmanip.model:The source variable has not been assigned to a symbol (i.e. expecting a connection): slow_inward_current_f_gate$time \u27f6 slow_inward_current$time\nINFO:cellmlmanip.model:The source variable has not been assigned to a symbol (i.e. expecting a connection): slow_inward_current_d_gate$time \u27f6 slow_inward_current$time\nINFO:cellmlmanip.model:The source variable has not been assigned to a symbol (i.e. expecting a connection): sodium_channel_h_gate$V \u27f6 sodium_channel$V\nINFO:cellmlmanip.model:The source variable has not been assigned to a symbol (i.e. expecting a connection): sodium_channel_m_gate$V \u27f6 sodium_channel$V
----------------------------- Captured log setup ------------------------------
INFO     cellmlmanip.model:model.py:315 The source variable has not been assigned to a symbol (i.e. expecting a connection): L_type_Ca_channel_f_L_gate$V \u27f6 L_type_Ca_channel$V\nINFO     cellmlmanip.model:model.py:315 The source variable has not been assigned to a symbol (i.e. expecting a connection): delayed_rectifier_K_current_pi_gate$time \u27f6 delayed_rectifier_K_current$time\nINFO     cellmlmanip.model:model.py:315 The source variable has not been assigned to a symbol (i.e. expecting a connection): Ca_independent_transient_outward_K_current_s1_gate$V \u27f6 Ca_independent_transient_outward_K_current$V\nINFO     cellmlmanip.model:model.py:315 The source variable has not been assigned to a symbol (i.e. expecting a connection): T_type_Ca_channel_f_T_gate$V \u27f6 T_type_Ca_channel$V\nINFO     cellmlmanip.model:model.py:315 The source variable has not been assigned to a symbol (i.e. expecting a connection): T_type_Ca_channel_d_T_gate$V \u27f6 T_type_Ca_channel$V\nINFO     cellmlmanip.model:model.py:315 The source variable has not been assigned to a symbol (i.e. expecting a connection): delayed_rectifier_K_current_pa_gate$time \u27f6 delayed_rectifier_K_current$time\nINFO     cellmlmanip.model:model.py:315 The source variable has not been assigned to a symbol (i.e. expecting a connection): L_type_Ca_channel_d_L_gate$V \u27f6 L_type_Ca_channel$V\nINFO     cellmlmanip.model:model.py:315 The source variable has not been assigned to a symbol (i.e. expecting a connection): sodium_current_m_gate$time \u27f6 sodium_current$time\nINFO     cellmlmanip.model:model.py:315 The source variable has not been assigned to a symbol (i.e. expecting a connection): sodium_current_j_gate$time \u27f6 sodium_current$time\nINFO     cellmlmanip.model:model.py:315 The source variable has not been assigned to a symbol (i.e. expecting a connection): slow_inward_current_d_gate$V \u27f6 slow_inward_current$V\nINFO     cellmlmanip.model:model.py:315 The source variable has not been assigned to a symbol (i.e. expecting a connection): slow_inward_current_f_gate$time \u27f6 slow_inward_current$time\nINFO     cellmlmanip.model:model.py:315 The source variable has not been assigned to a symbol (i.e. expecting a connection): slow_inward_current_d_gate$time \u27f6 slow_inward_current$time\nINFO     cellmlmanip.model:model.py:315 The source variable has not been assigned to a symbol (i.e. expecting a connection): sodium_channel_h_gate$V \u27f6 sodium_channel$V\nINFO     cellmlmanip.model:model.py:315 The source variable has not been assigned to a symbol (i.e. expecting a connection): sodium_channel_m_gate$V \u27f6 sodium_channel$V
---------------------------- Captured stderr call -----------------------------
INFO:weblab_cg.tests.test_chaste_cg:Converting: Normal TestManualaslanidi_model_2009

INFO:weblab_cg.tests.test_chaste_cg:Converting: Normal TestManualbeeler_reuter_model_1977

INFO:weblab_cg.tests.test_chaste_cg:Converting: Normal TestManualbondarenko_model_2004_apex

INFO:weblab_cg.tests.test_chaste_cg:Converting: Normal TestManualhodgkin_huxley_squid_axon_model_1952_modified

INFO:weblab_cg.tests.test_chaste_cg:Converting: Normal TestManualmahajan_2008

------------------------------ Captured log call ------------------------------
INFO     weblab_cg.tests.test_chaste_cg:test_chaste_cg.py:34 Converting: Normal TestManualaslanidi_model_2009
INFO     weblab_cg.tests.test_chaste_cg:test_chaste_cg.py:34 Converting: Normal TestManualbeeler_reuter_model_1977
INFO     weblab_cg.tests.test_chaste_cg:test_chaste_cg.py:34 Converting: Normal TestManualbondarenko_model_2004_apex
INFO     weblab_cg.tests.test_chaste_cg:test_chaste_cg.py:34 Converting: Normal TestManualhodgkin_huxley_squid_axon_model_1952_modified
INFO     weblab_cg.tests.test_chaste_cg:test_chaste_cg.py:34 Converting: Normal TestManualmahajan_2008
============================== warnings summary ===============================
c:\users\uczmh2\desktop\venv_weblab-cg\lib\site-packages\jinja2\utils.py:485
  c:\users\uczmh2\desktop\venv_weblab-cg\lib\site-packages\jinja2\utils.py:485: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working
    from collections import MutableMapping

c:\users\uczmh2\desktop\venv_weblab-cg\lib\site-packages\jinja2\runtime.py:318
  c:\users\uczmh2\desktop\venv_weblab-cg\lib\site-packages\jinja2\runtime.py:318: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working
    from collections import Mapping

-- Docs: https://docs.pytest.org/en/latest/warnings.html
================== 1 failed, 1 passed, 2 warnings in 33.40s ===================
