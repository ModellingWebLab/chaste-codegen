//! @file
//! 
//! This source file was generated from CellML.
//! 
//! Model: aslanidi_model_2009
//! 
//! Processed by pycml - CellML Tools in Python
//!     (translators: , pycml: , optimize: )
//! on Tue Mar  3 10:39:56 2020
//! 
//! <autogenerated>

#include "dynamic_aslanidi_model_2009.hpp"
#include <cmath>
#include <cassert>
#include <memory>
#include "CardiacNewtonSolver.hpp"
#include "Exception.hpp"
#include "OdeSystemInformation.hpp"
#include "RegularStimulus.hpp"
#include "HeartConfig.hpp"
#include "IsNan.hpp"
#include "MathsCustomFunctions.hpp"

    boost::shared_ptr<RegularStimulus> Dynamicaslanidi_model_2009FromCellMLBackwardEuler::UseCellMLDefaultStimulus()
    {
        // Use the default stimulus specified by CellML metadata
        const double var_membrane__Cm = 5.0000000000000002e-05; // nanoF
        const double var_chaste_interface__membrane__stim_start = 10.0; // millisecond
        const double var_chaste_interface__membrane__stim_period = 500.0; // millisecond
        const double var_chaste_interface__membrane__stim_duration = 0.20000000000000001; // millisecond
        const double var_chaste_interface__membrane__stim_amplitude = 0.001 * (( -20.0 / var_membrane__Cm) * HeartConfig::Instance()->GetCapacitance()); // uA_per_cm2
        boost::shared_ptr<RegularStimulus> p_cellml_stim(new RegularStimulus(
                -fabs(var_chaste_interface__membrane__stim_amplitude),
                var_chaste_interface__membrane__stim_duration,
                var_chaste_interface__membrane__stim_period,
                var_chaste_interface__membrane__stim_start
                ));
        mpIntracellularStimulus = p_cellml_stim;
        return p_cellml_stim;
    }
    
    Dynamicaslanidi_model_2009FromCellMLBackwardEuler::Dynamicaslanidi_model_2009FromCellMLBackwardEuler(boost::shared_ptr<AbstractIvpOdeSolver> /* unused; should be empty */, boost::shared_ptr<AbstractStimulusFunction> pIntracellularStimulus)
        : AbstractBackwardEulerCardiacCell<14>(
                29,
                0,
                pIntracellularStimulus)
    {
        // Time units: millisecond
        // 
        this->mpSystemInfo = OdeSystemInformation<Dynamicaslanidi_model_2009FromCellMLBackwardEuler>::Instance();
        Init();

        // We have a default stimulus specified in the CellML file metadata
        this->mHasDefaultStimulusFromCellML = true;
    }
    
    Dynamicaslanidi_model_2009FromCellMLBackwardEuler::~Dynamicaslanidi_model_2009FromCellMLBackwardEuler()
    {
    }
    
    double Dynamicaslanidi_model_2009FromCellMLBackwardEuler::GetIIonic(const std::vector<double>* pStateVariables)
    {
        // For state variable interpolation (SVI) we read in interpolated state variables,
        // otherwise for ionic current interpolation (ICI) we use the state variables of this model (node).
        if (!pStateVariables) pStateVariables = &rGetStateVariables();
        const std::vector<double>& rY = *pStateVariables;
        double var_chaste_interface__membrane__V = (mSetVoltageDerivativeToZero ? this->mFixedVoltage : rY[0]);
        // Units: millivolt; Initial value: -80
        double var_chaste_interface__sodium_current_m_gate__m = rY[1];
        // Units: dimensionless; Initial value: 0.01309
        double var_chaste_interface__sodium_current_h1_gate__h1 = rY[2];
        // Units: dimensionless; Initial value: 0.706
        double var_chaste_interface__sodium_current_h2_gate__h2 = rY[3];
        // Units: dimensionless; Initial value: 0.61493
        double var_chaste_interface__L_type_Ca_channel_d_L_gate__d_L = rY[4];
        // Units: dimensionless; Initial value: 0.00003
        double var_chaste_interface__L_type_Ca_channel_f_L_gate__f_L = rY[5];
        // Units: dimensionless; Initial value: 0.99981
        double var_chaste_interface__T_type_Ca_channel_d_T_gate__d_T = rY[6];
        // Units: dimensionless; Initial value: 0.00046
        double var_chaste_interface__T_type_Ca_channel_f_T_gate__f_T = rY[7];
        // Units: dimensionless; Initial value: 0.30752
        double var_chaste_interface__Ca_independent_transient_outward_K_current_r_gate__r = rY[8];
        // Units: dimensionless; Initial value: 0.00006
        double var_chaste_interface__Ca_independent_transient_outward_K_current_s1_gate__s1 = rY[9];
        // Units: dimensionless; Initial value: 0.5753
        double var_chaste_interface__Ca_independent_transient_outward_K_current_s2_gate__s2 = rY[10];
        // Units: dimensionless; Initial value: 0.39871
        double var_chaste_interface__Ca_independent_transient_outward_K_current_s3_gate__s3 = rY[11];
        // Units: dimensionless; Initial value: 0.57363
        double var_chaste_interface__delayed_rectifier_K_current_z_gate__z = rY[12];
        // Units: dimensionless; Initial value: 0.02032
        double var_chaste_interface__delayed_rectifier_K_current_pa_gate__p_a = rY[13];
        // Units: dimensionless; Initial value: 0.00016
        double var_chaste_interface__delayed_rectifier_K_current_pi_gate__p_i = rY[14];
        // Units: dimensionless; Initial value: 0.76898
        double var_chaste_interface__intracellular_ion_concentrations__Na_i = rY[15];
        // Units: millimolar; Initial value: 8.4
        double var_chaste_interface__intracellular_ion_concentrations__Ca_i = rY[16];
        // Units: millimolar; Initial value: 0.000071
        double var_chaste_interface__intracellular_ion_concentrations__K_i = rY[17];
        // Units: millimolar; Initial value: 100
        double var_chaste_interface__cleft_space_ion_concentrations__K_c = rY[22];
        // Units: millimolar; Initial value: 5
        
        const double var_membrane__Cm = 5.0000000000000002e-05; // nanoF
        const double var_sodium_current__E_Na = 26.53945091048535 * log(140.0 / var_chaste_interface__intracellular_ion_concentrations__Na_i); // millivolt
        const double var_sodium_current__i_Na = (((pow(var_chaste_interface__sodium_current_m_gate__m, 3.0) * ((0.63500000000000001 * var_chaste_interface__sodium_current_h1_gate__h1) + (0.36499999999999999 * var_chaste_interface__sodium_current_h2_gate__h2)) * var_chaste_interface__membrane__V * 1824709.2691239999) * 3.9051638762969049e-07) * (exp(((var_chaste_interface__membrane__V - var_sodium_current__E_Na) * 96487.0) * 3.9051638762969049e-07) - 1.0)) / (exp((var_chaste_interface__membrane__V * 96487.0) * 3.9051638762969049e-07) - 1.0); // picoA
        const double var_L_type_Ca_channel__i_Ca_L = ((var_chaste_interface__L_type_Ca_channel_d_L_gate__d_L * var_chaste_interface__L_type_Ca_channel_f_L_gate__f_L) + (1.0 / (1.0 + exp((var_chaste_interface__membrane__V - 23.0) *  -0.083333333333333329)))) * (var_chaste_interface__membrane__V - 50.0) * 0.0072000000000000007; // picoA
        const double var_T_type_Ca_channel__i_Ca_T = 0.0060000000000000001 * var_chaste_interface__T_type_Ca_channel_d_T_gate__d_T * var_chaste_interface__T_type_Ca_channel_f_T_gate__f_T * (var_chaste_interface__membrane__V - 38.0); // picoA
        const double var_Ca_independent_transient_outward_K_current__E_K = 26.53945091048535 * log(var_chaste_interface__cleft_space_ion_concentrations__K_c / var_chaste_interface__intracellular_ion_concentrations__K_i); // millivolt
        const double var_Ca_independent_transient_outward_K_current__i_to = var_chaste_interface__Ca_independent_transient_outward_K_current_r_gate__r * ((0.58999999999999997 * pow(var_chaste_interface__Ca_independent_transient_outward_K_current_s1_gate__s1, 3.0)) + (0.40999999999999998 * pow(var_chaste_interface__Ca_independent_transient_outward_K_current_s2_gate__s2, 3.0))) * ((0.59999999999999998 * pow(var_chaste_interface__Ca_independent_transient_outward_K_current_s3_gate__s3, 6.0)) + 0.40000000000000002) * (var_chaste_interface__membrane__V - var_Ca_independent_transient_outward_K_current__E_K) * 0.0100004; // picoA
        const double var_Ca_independent_transient_outward_K_current__i_sus = 0.0014 * (var_chaste_interface__membrane__V + 70.0); // picoA
        const double var_inward_rectifier__i_K1 = ((var_chaste_interface__membrane__V - var_Ca_independent_transient_outward_K_current__E_K) * pow(var_chaste_interface__cleft_space_ion_concentrations__K_c / (var_chaste_interface__cleft_space_ion_concentrations__K_c + 0.58999999999999997), 3.0) * 0.010160000000000001) / (1.0 + exp((((var_chaste_interface__membrane__V - var_Ca_independent_transient_outward_K_current__E_K) -  -3.6000000000000001) * 134406.391) * 3.9051638762969049e-07)); // picoA
        const double var_delayed_rectifier_K_current__i_Kr = 0.0035000000000000001 * var_chaste_interface__delayed_rectifier_K_current_pa_gate__p_a * var_chaste_interface__delayed_rectifier_K_current_pi_gate__p_i * (var_chaste_interface__membrane__V - var_Ca_independent_transient_outward_K_current__E_K); // picoA
        const double var_delayed_rectifier_K_current__i_Ks = 0.0025000000000000001 * var_chaste_interface__delayed_rectifier_K_current_z_gate__z * (var_chaste_interface__membrane__V - var_Ca_independent_transient_outward_K_current__E_K); // picoA
        const double var_background_currents__i_B_Na = 2.0000000000000002e-05 * (var_chaste_interface__membrane__V - var_sodium_current__E_Na); // picoA
        const double var_background_currents__i_B_Ca = 2.0000000000000002e-05 * (var_chaste_interface__membrane__V - (13.269725455242675 * log(2.5 / var_chaste_interface__intracellular_ion_concentrations__Ca_i))); // picoA
        const double var_sodium_potassium_pump__i_p = (((((0.064409999999999995 * var_chaste_interface__cleft_space_ion_concentrations__K_c) / (var_chaste_interface__cleft_space_ion_concentrations__K_c + 1.0)) * pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 1.5)) / (pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 1.5) + 36.4828726939094)) * 1.6000000000000001) / (1.5 + exp((var_chaste_interface__membrane__V + 60.0) *  -0.025000000000000001)); // picoA
        const double var_sarcolemmal_calcium_pump_current__i_CaP = (0.0095090000000000001 * var_chaste_interface__intracellular_ion_concentrations__Ca_i) / (var_chaste_interface__intracellular_ion_concentrations__Ca_i + 0.00020000000000000001); // picoA
        const double var_Na_Ca_ion_exchanger_current__i_NaCa = (2.0000000000000002e-05 * ((pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 3.0) * 2.5 * exp((var_chaste_interface__membrane__V * 43419.150000000001) * 3.9051638762969049e-07)) - (2744000.0 * var_chaste_interface__intracellular_ion_concentrations__Ca_i * exp((var_chaste_interface__membrane__V *  -53067.850000000006) * 3.9051638762969049e-07)))) / (1.0 + (0.00029999999999999997 * ((2744000.0 * var_chaste_interface__intracellular_ion_concentrations__Ca_i) + (pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 3.0) * 2.5)))); // picoA
        const double var_chaste_interface__i_ionic = 0.001 * (((var_delayed_rectifier_K_current__i_Kr + var_delayed_rectifier_K_current__i_Ks + var_sodium_current__i_Na + var_L_type_Ca_channel__i_Ca_L + var_T_type_Ca_channel__i_Ca_T + var_Ca_independent_transient_outward_K_current__i_to + var_Ca_independent_transient_outward_K_current__i_sus + var_inward_rectifier__i_K1 + var_background_currents__i_B_Na + var_background_currents__i_B_Ca + var_sodium_potassium_pump__i_p + var_sarcolemmal_calcium_pump_current__i_CaP + var_Na_Ca_ion_exchanger_current__i_NaCa) / var_membrane__Cm) * HeartConfig::Instance()->GetCapacitance()); // uA_per_cm2
        
        const double i_ionic = var_chaste_interface__i_ionic;
        EXCEPT_IF_NOT(!std::isnan(i_ionic));
        return i_ionic;
    }
    
    void Dynamicaslanidi_model_2009FromCellMLBackwardEuler::ComputeResidual(double var_chaste_interface__environment__time, const double rCurrentGuess[14], double rResidual[14])
    {
        std::vector<double>& rY = rGetStateVariables();
        double var_chaste_interface__membrane__V = (mSetVoltageDerivativeToZero ? this->mFixedVoltage : rY[0]);
        // Units: millivolt; Initial value: -80
        double var_chaste_interface__sodium_current_m_gate__m = rY[1];
        // Units: dimensionless; Initial value: 0.01309
        double var_chaste_interface__sodium_current_h1_gate__h1 = rY[2];
        // Units: dimensionless; Initial value: 0.706
        double var_chaste_interface__sodium_current_h2_gate__h2 = rY[3];
        // Units: dimensionless; Initial value: 0.61493
        double var_chaste_interface__L_type_Ca_channel_d_L_gate__d_L = rY[4];
        // Units: dimensionless; Initial value: 0.00003
        double var_chaste_interface__L_type_Ca_channel_f_L_gate__f_L = rY[5];
        // Units: dimensionless; Initial value: 0.99981
        double var_chaste_interface__T_type_Ca_channel_d_T_gate__d_T = rY[6];
        // Units: dimensionless; Initial value: 0.00046
        double var_chaste_interface__T_type_Ca_channel_f_T_gate__f_T = rY[7];
        // Units: dimensionless; Initial value: 0.30752
        double var_chaste_interface__Ca_independent_transient_outward_K_current_r_gate__r = rY[8];
        // Units: dimensionless; Initial value: 0.00006
        double var_chaste_interface__Ca_independent_transient_outward_K_current_s1_gate__s1 = rY[9];
        // Units: dimensionless; Initial value: 0.5753
        double var_chaste_interface__Ca_independent_transient_outward_K_current_s2_gate__s2 = rY[10];
        // Units: dimensionless; Initial value: 0.39871
        double var_chaste_interface__Ca_independent_transient_outward_K_current_s3_gate__s3 = rY[11];
        // Units: dimensionless; Initial value: 0.57363
        double var_chaste_interface__delayed_rectifier_K_current_z_gate__z = rY[12];
        // Units: dimensionless; Initial value: 0.02032
        double var_chaste_interface__delayed_rectifier_K_current_pa_gate__p_a = rY[13];
        // Units: dimensionless; Initial value: 0.00016
        double var_chaste_interface__delayed_rectifier_K_current_pi_gate__p_i = rY[14];
        // Units: dimensionless; Initial value: 0.76898
        
        //output_nonlinear_state_assignments
        double var_chaste_interface__Ca_handling_by_the_SR__Ca_rel = rCurrentGuess[0];
        double var_chaste_interface__Ca_handling_by_the_SR__Ca_up = rCurrentGuess[1];
        double var_chaste_interface__Ca_handling_by_the_SR__F1 = rCurrentGuess[2];
        double var_chaste_interface__Ca_handling_by_the_SR__F2 = rCurrentGuess[3];
        double var_chaste_interface__Ca_handling_by_the_SR__F3 = rCurrentGuess[4];
        double var_chaste_interface__Ca_handling_by_the_SR__O_Calse = rCurrentGuess[5];
        double var_chaste_interface__cleft_space_ion_concentrations__K_c = rCurrentGuess[6];
        double var_chaste_interface__intracellular_Ca_buffering__O_C = rCurrentGuess[7];
        double var_chaste_interface__intracellular_Ca_buffering__O_TC = rCurrentGuess[8];
        double var_chaste_interface__intracellular_Ca_buffering__O_TMgC = rCurrentGuess[9];
        double var_chaste_interface__intracellular_Ca_buffering__O_TMgMg = rCurrentGuess[10];
        double var_chaste_interface__intracellular_ion_concentrations__Ca_i = rCurrentGuess[11];
        double var_chaste_interface__intracellular_ion_concentrations__K_i = rCurrentGuess[12];
        double var_chaste_interface__intracellular_ion_concentrations__Na_i = rCurrentGuess[13];
        
        //output_equations
        const double var_sodium_current__E_Na = 26.53945091048535 * log(140.0 / var_chaste_interface__intracellular_ion_concentrations__Na_i); // millivolt
        const double var_sodium_current__i_Na = (((pow(var_chaste_interface__sodium_current_m_gate__m, 3.0) * ((0.63500000000000001 * var_chaste_interface__sodium_current_h1_gate__h1) + (0.36499999999999999 * var_chaste_interface__sodium_current_h2_gate__h2)) * var_chaste_interface__membrane__V * 1824709.2691239999) * 3.9051638762969049e-07) * (exp(((var_chaste_interface__membrane__V - var_sodium_current__E_Na) * 96487.0) * 3.9051638762969049e-07) - 1.0)) / (exp((var_chaste_interface__membrane__V * 96487.0) * 3.9051638762969049e-07) - 1.0); // picoA
        const double var_L_type_Ca_channel__i_Ca_L = ((var_chaste_interface__L_type_Ca_channel_d_L_gate__d_L * var_chaste_interface__L_type_Ca_channel_f_L_gate__f_L) + (1.0 / (1.0 + exp((var_chaste_interface__membrane__V - 23.0) *  -0.083333333333333329)))) * (var_chaste_interface__membrane__V - 50.0) * 0.0072000000000000007; // picoA
        const double var_T_type_Ca_channel__i_Ca_T = 0.0060000000000000001 * var_chaste_interface__T_type_Ca_channel_d_T_gate__d_T * var_chaste_interface__T_type_Ca_channel_f_T_gate__f_T * (var_chaste_interface__membrane__V - 38.0); // picoA
        const double var_Ca_independent_transient_outward_K_current__E_K = 26.53945091048535 * log(var_chaste_interface__cleft_space_ion_concentrations__K_c / var_chaste_interface__intracellular_ion_concentrations__K_i); // millivolt
        const double var_Ca_independent_transient_outward_K_current__i_to = var_chaste_interface__Ca_independent_transient_outward_K_current_r_gate__r * ((0.58999999999999997 * pow(var_chaste_interface__Ca_independent_transient_outward_K_current_s1_gate__s1, 3.0)) + (0.40999999999999998 * pow(var_chaste_interface__Ca_independent_transient_outward_K_current_s2_gate__s2, 3.0))) * ((0.59999999999999998 * pow(var_chaste_interface__Ca_independent_transient_outward_K_current_s3_gate__s3, 6.0)) + 0.40000000000000002) * (var_chaste_interface__membrane__V - var_Ca_independent_transient_outward_K_current__E_K) * 0.0100004; // picoA
        const double var_Ca_independent_transient_outward_K_current__i_sus = 0.0014 * (var_chaste_interface__membrane__V + 70.0); // picoA
        const double var_inward_rectifier__i_K1 = ((var_chaste_interface__membrane__V - var_Ca_independent_transient_outward_K_current__E_K) * pow(var_chaste_interface__cleft_space_ion_concentrations__K_c / (var_chaste_interface__cleft_space_ion_concentrations__K_c + 0.58999999999999997), 3.0) * 0.010160000000000001) / (1.0 + exp((((var_chaste_interface__membrane__V - var_Ca_independent_transient_outward_K_current__E_K) -  -3.6000000000000001) * 134406.391) * 3.9051638762969049e-07)); // picoA
        const double var_delayed_rectifier_K_current__i_Kr = 0.0035000000000000001 * var_chaste_interface__delayed_rectifier_K_current_pa_gate__p_a * var_chaste_interface__delayed_rectifier_K_current_pi_gate__p_i * (var_chaste_interface__membrane__V - var_Ca_independent_transient_outward_K_current__E_K); // picoA
        const double var_delayed_rectifier_K_current__i_Ks = 0.0025000000000000001 * var_chaste_interface__delayed_rectifier_K_current_z_gate__z * (var_chaste_interface__membrane__V - var_Ca_independent_transient_outward_K_current__E_K); // picoA
        const double var_background_currents__i_B_Na = 2.0000000000000002e-05 * (var_chaste_interface__membrane__V - var_sodium_current__E_Na); // picoA
        const double var_background_currents__i_B_Ca = 2.0000000000000002e-05 * (var_chaste_interface__membrane__V - (13.269725455242675 * log(2.5 / var_chaste_interface__intracellular_ion_concentrations__Ca_i))); // picoA
        const double var_sodium_potassium_pump__i_p = (((((0.064409999999999995 * var_chaste_interface__cleft_space_ion_concentrations__K_c) / (var_chaste_interface__cleft_space_ion_concentrations__K_c + 1.0)) * pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 1.5)) / (pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 1.5) + 36.4828726939094)) * 1.6000000000000001) / (1.5 + exp((var_chaste_interface__membrane__V + 60.0) *  -0.025000000000000001)); // picoA
        const double var_sarcolemmal_calcium_pump_current__i_CaP = (0.0095090000000000001 * var_chaste_interface__intracellular_ion_concentrations__Ca_i) / (var_chaste_interface__intracellular_ion_concentrations__Ca_i + 0.00020000000000000001); // picoA
        const double var_Na_Ca_ion_exchanger_current__i_NaCa = (2.0000000000000002e-05 * ((pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 3.0) * 2.5 * exp((var_chaste_interface__membrane__V * 43419.150000000001) * 3.9051638762969049e-07)) - (2744000.0 * var_chaste_interface__intracellular_ion_concentrations__Ca_i * exp((var_chaste_interface__membrane__V *  -53067.850000000006) * 3.9051638762969049e-07)))) / (1.0 + (0.00029999999999999997 * ((2744000.0 * var_chaste_interface__intracellular_ion_concentrations__Ca_i) + (pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 3.0) * 2.5)))); // picoA
        const double var_Ca_handling_by_the_SR__i_up = (2.7999999999999998 * ((var_chaste_interface__intracellular_ion_concentrations__Ca_i * 3333.3333333333335) - ((0.16000000000000003 * var_chaste_interface__Ca_handling_by_the_SR__Ca_up) * 2.0))) / (((var_chaste_interface__intracellular_ion_concentrations__Ca_i + 0.00029999999999999997) * 3333.3333333333335) + ((0.40000000000000002 * (var_chaste_interface__Ca_handling_by_the_SR__Ca_up + 0.5)) * 2.0)); // picoA
        const double var_Ca_handling_by_the_SR__i_rel = 200.0 * pow(var_chaste_interface__Ca_handling_by_the_SR__F2 / (var_chaste_interface__Ca_handling_by_the_SR__F2 + 0.25), 2.0) * (var_chaste_interface__Ca_handling_by_the_SR__Ca_rel - var_chaste_interface__intracellular_ion_concentrations__Ca_i); // picoA
        const double var_intracellular_Ca_buffering__dOCdt = (200000.0 * var_chaste_interface__intracellular_ion_concentrations__Ca_i * (1.0 - var_chaste_interface__intracellular_Ca_buffering__O_C)) - (476.0 * var_chaste_interface__intracellular_Ca_buffering__O_C); // per_second
        const double var_intracellular_Ca_buffering__dOTCdt = (78400.0 * var_chaste_interface__intracellular_ion_concentrations__Ca_i * (1.0 - var_chaste_interface__intracellular_Ca_buffering__O_TC)) - (392.0 * var_chaste_interface__intracellular_Ca_buffering__O_TC); // per_second
        const double var_intracellular_Ca_buffering__dOTMgCdt = (200000.0 * var_chaste_interface__intracellular_ion_concentrations__Ca_i * ((1.0 - var_chaste_interface__intracellular_Ca_buffering__O_TMgC) - var_chaste_interface__intracellular_Ca_buffering__O_TMgMg)) - (6.5999999999999996 * var_chaste_interface__intracellular_Ca_buffering__O_TMgC); // per_second
        const double var_Ca_handling_by_the_SR__i_tr = ((var_chaste_interface__Ca_handling_by_the_SR__Ca_up - var_chaste_interface__Ca_handling_by_the_SR__Ca_rel) * 0.0084908559999999998) * 100.0; // picoA
        const double var_Ca_handling_by_the_SR__r_act = (240.0 * exp(0.080000000000000002 * (var_chaste_interface__membrane__V - 20.0))) + (203.80000000000001 * pow(var_chaste_interface__intracellular_ion_concentrations__Ca_i / (var_chaste_interface__intracellular_ion_concentrations__Ca_i + 0.00029999999999999997), 4.0)); // per_second
        const double var_Ca_handling_by_the_SR__r_inact = 33.960000000000001 + (339.60000000000002 * pow(var_chaste_interface__intracellular_ion_concentrations__Ca_i / (var_chaste_interface__intracellular_ion_concentrations__Ca_i + 0.00029999999999999997), 4.0)); // per_second
        const double var_Ca_handling_by_the_SR__d_O_Calse_d_environment__time = (480.0 * var_chaste_interface__Ca_handling_by_the_SR__Ca_rel * (1.0 - var_chaste_interface__Ca_handling_by_the_SR__O_Calse)) - (400.0 * var_chaste_interface__Ca_handling_by_the_SR__O_Calse); // per_second
        const double d_dt_chaste_interface__intracellular_ion_concentrations__Na_i = 0.001 * ((-(var_sodium_current__i_Na + var_background_currents__i_B_Na + (3.0 * var_sodium_potassium_pump__i_p) + (3.0 * var_Na_Ca_ion_exchanger_current__i_NaCa))) * 0.82254686501890784); // 'millimole per litre per millisecond'
        const double d_dt_chaste_interface__intracellular_ion_concentrations__Ca_i = 0.001 * (((-((((var_L_type_Ca_channel__i_Ca_L + var_T_type_Ca_channel__i_Ca_T + var_background_currents__i_B_Ca + var_sarcolemmal_calcium_pump_current__i_CaP) - (2.0 * var_Na_Ca_ion_exchanger_current__i_NaCa)) + var_Ca_handling_by_the_SR__i_up) - var_Ca_handling_by_the_SR__i_rel)) * 0.88070109612833447) - ((0.080000000000000002 * var_intracellular_Ca_buffering__dOTCdt) + (0.16 * var_intracellular_Ca_buffering__dOTMgCdt) + (0.044999999999999998 * var_intracellular_Ca_buffering__dOCdt))); // 'millimole per litre per millisecond'
        const double d_dt_chaste_interface__intracellular_ion_concentrations__K_i = 0.001 * ((-((var_Ca_independent_transient_outward_K_current__i_to + var_Ca_independent_transient_outward_K_current__i_sus + var_inward_rectifier__i_K1 + var_delayed_rectifier_K_current__i_Kr + var_delayed_rectifier_K_current__i_Ks) - (2.0 * var_sodium_potassium_pump__i_p))) * 0.82254686501890784); // 'millimole per litre per millisecond'
        const double d_dt_chaste_interface__intracellular_Ca_buffering__O_C = 0.001 * var_intracellular_Ca_buffering__dOCdt; // 'per millisecond'
        const double d_dt_chaste_interface__intracellular_Ca_buffering__O_TC = 0.001 * var_intracellular_Ca_buffering__dOTCdt; // 'per millisecond'
        const double d_dt_chaste_interface__intracellular_Ca_buffering__O_TMgC = 0.001 * var_intracellular_Ca_buffering__dOTMgCdt; // 'per millisecond'
        const double d_dt_chaste_interface__intracellular_Ca_buffering__O_TMgMg = 0.001 * ((((1.0 - var_chaste_interface__intracellular_Ca_buffering__O_TMgC) - var_chaste_interface__intracellular_Ca_buffering__O_TMgMg) * 5000.0) - (666.0 * var_chaste_interface__intracellular_Ca_buffering__O_TMgMg)); // 'per millisecond'
        const double d_dt_chaste_interface__cleft_space_ion_concentrations__K_c = 0.001 * (((var_Ca_independent_transient_outward_K_current__i_to + var_Ca_independent_transient_outward_K_current__i_sus + var_inward_rectifier__i_K1 + var_delayed_rectifier_K_current__i_Kr + var_delayed_rectifier_K_current__i_Ks) - (2.0 * var_sodium_potassium_pump__i_p)) * 4.1456361996952955); // 'millimole per litre per millisecond'
        const double d_dt_chaste_interface__Ca_handling_by_the_SR__Ca_rel = 0.001 * (((var_Ca_handling_by_the_SR__i_tr - var_Ca_handling_by_the_SR__i_rel) * 117.77375567316182) - (31.0 * var_Ca_handling_by_the_SR__d_O_Calse_d_environment__time)); // 'millimole per litre per millisecond'
        const double d_dt_chaste_interface__Ca_handling_by_the_SR__Ca_up = 0.001 * ((var_Ca_handling_by_the_SR__i_up - var_Ca_handling_by_the_SR__i_tr) * 13.056299444744567); // 'millimole per litre per millisecond'
        const double d_dt_chaste_interface__Ca_handling_by_the_SR__O_Calse = 0.001 * var_Ca_handling_by_the_SR__d_O_Calse_d_environment__time; // 'per millisecond'
        const double d_dt_chaste_interface__Ca_handling_by_the_SR__F1 = 0.001 * ((0.81499999999999995 * var_chaste_interface__Ca_handling_by_the_SR__F3) - (var_Ca_handling_by_the_SR__r_act * var_chaste_interface__Ca_handling_by_the_SR__F1)); // 'per millisecond'
        const double d_dt_chaste_interface__Ca_handling_by_the_SR__F2 = 0.001 * ((var_Ca_handling_by_the_SR__r_act * var_chaste_interface__Ca_handling_by_the_SR__F1) - (var_Ca_handling_by_the_SR__r_inact * var_chaste_interface__Ca_handling_by_the_SR__F2)); // 'per millisecond'
        const double d_dt_chaste_interface__Ca_handling_by_the_SR__F3 = 0.001 * ((var_chaste_interface__Ca_handling_by_the_SR__F2 * var_Ca_handling_by_the_SR__r_inact) - (0.81499999999999995 * var_chaste_interface__Ca_handling_by_the_SR__F3)); // 'per millisecond'
        
        rResidual[13] = rCurrentGuess[13] - rY[15] - mDt*d_dt_chaste_interface__intracellular_ion_concentrations__Na_i;
        rResidual[11] = rCurrentGuess[11] - rY[16] - mDt*d_dt_chaste_interface__intracellular_ion_concentrations__Ca_i;
        rResidual[12] = rCurrentGuess[12] - rY[17] - mDt*d_dt_chaste_interface__intracellular_ion_concentrations__K_i;
        rResidual[7] = rCurrentGuess[7] - rY[18] - mDt*d_dt_chaste_interface__intracellular_Ca_buffering__O_C;
        rResidual[8] = rCurrentGuess[8] - rY[19] - mDt*d_dt_chaste_interface__intracellular_Ca_buffering__O_TC;
        rResidual[9] = rCurrentGuess[9] - rY[20] - mDt*d_dt_chaste_interface__intracellular_Ca_buffering__O_TMgC;
        rResidual[10] = rCurrentGuess[10] - rY[21] - mDt*d_dt_chaste_interface__intracellular_Ca_buffering__O_TMgMg;
        rResidual[6] = rCurrentGuess[6] - rY[22] - mDt*d_dt_chaste_interface__cleft_space_ion_concentrations__K_c;
        rResidual[0] = rCurrentGuess[0] - rY[23] - mDt*d_dt_chaste_interface__Ca_handling_by_the_SR__Ca_rel;
        rResidual[1] = rCurrentGuess[1] - rY[24] - mDt*d_dt_chaste_interface__Ca_handling_by_the_SR__Ca_up;
        rResidual[5] = rCurrentGuess[5] - rY[25] - mDt*d_dt_chaste_interface__Ca_handling_by_the_SR__O_Calse;
        rResidual[2] = rCurrentGuess[2] - rY[26] - mDt*d_dt_chaste_interface__Ca_handling_by_the_SR__F1;
        rResidual[3] = rCurrentGuess[3] - rY[27] - mDt*d_dt_chaste_interface__Ca_handling_by_the_SR__F2;
        rResidual[4] = rCurrentGuess[4] - rY[28] - mDt*d_dt_chaste_interface__Ca_handling_by_the_SR__F3;
    }
    
    void Dynamicaslanidi_model_2009FromCellMLBackwardEuler::ComputeJacobian(double var_chaste_interface__environment__time, const double rCurrentGuess[14], double rJacobian[14][14])
    {
        std::vector<double>& rY = rGetStateVariables();
        double var_chaste_interface__membrane__V = (mSetVoltageDerivativeToZero ? this->mFixedVoltage : rY[0]);
        // Units: millivolt; Initial value: -80
        double var_chaste_interface__sodium_current_m_gate__m = rY[1];
        // Units: dimensionless; Initial value: 0.01309
        double var_chaste_interface__sodium_current_h1_gate__h1 = rY[2];
        // Units: dimensionless; Initial value: 0.706
        double var_chaste_interface__sodium_current_h2_gate__h2 = rY[3];
        // Units: dimensionless; Initial value: 0.61493
        double var_chaste_interface__Ca_independent_transient_outward_K_current_r_gate__r = rY[8];
        // Units: dimensionless; Initial value: 0.00006
        double var_chaste_interface__Ca_independent_transient_outward_K_current_s1_gate__s1 = rY[9];
        // Units: dimensionless; Initial value: 0.5753
        double var_chaste_interface__Ca_independent_transient_outward_K_current_s2_gate__s2 = rY[10];
        // Units: dimensionless; Initial value: 0.39871
        double var_chaste_interface__Ca_independent_transient_outward_K_current_s3_gate__s3 = rY[11];
        // Units: dimensionless; Initial value: 0.57363
        double var_chaste_interface__delayed_rectifier_K_current_z_gate__z = rY[12];
        // Units: dimensionless; Initial value: 0.02032
        double var_chaste_interface__delayed_rectifier_K_current_pa_gate__p_a = rY[13];
        // Units: dimensionless; Initial value: 0.00016
        double var_chaste_interface__delayed_rectifier_K_current_pi_gate__p_i = rY[14];
        // Units: dimensionless; Initial value: 0.76898
        
        double var_chaste_interface__Ca_handling_by_the_SR__Ca_rel = rCurrentGuess[0];
        double var_chaste_interface__Ca_handling_by_the_SR__Ca_up = rCurrentGuess[1];
        double var_chaste_interface__Ca_handling_by_the_SR__F1 = rCurrentGuess[2];
        double var_chaste_interface__Ca_handling_by_the_SR__F2 = rCurrentGuess[3];
        double var_chaste_interface__Ca_handling_by_the_SR__O_Calse = rCurrentGuess[5];
        double var_chaste_interface__cleft_space_ion_concentrations__K_c = rCurrentGuess[6];
        double var_chaste_interface__intracellular_Ca_buffering__O_C = rCurrentGuess[7];
        double var_chaste_interface__intracellular_Ca_buffering__O_TC = rCurrentGuess[8];
        double var_chaste_interface__intracellular_Ca_buffering__O_TMgC = rCurrentGuess[9];
        double var_chaste_interface__intracellular_Ca_buffering__O_TMgMg = rCurrentGuess[10];
        double var_chaste_interface__intracellular_ion_concentrations__Ca_i = rCurrentGuess[11];
        double var_chaste_interface__intracellular_ion_concentrations__K_i = rCurrentGuess[12];
        double var_chaste_interface__intracellular_ion_concentrations__Na_i = rCurrentGuess[13];
        
        const double var_chaste_interface__environment__dt = mDt;

        const double var_environment__dt = 0.001 * var_chaste_interface__environment__dt; // second
        const double var_t3 = (0.0035000000000000001 * var_chaste_interface__delayed_rectifier_K_current_pa_gate__p_a) * var_chaste_interface__delayed_rectifier_K_current_pi_gate__p_i; // dimensionless
        const double var_t4 = 0.0025000000000000001 * var_chaste_interface__delayed_rectifier_K_current_z_gate__z; // dimensionless
        const double var_t6 = pow(var_chaste_interface__sodium_current_m_gate__m, 2.0) * var_chaste_interface__sodium_current_m_gate__m; // dimensionless
        const double var_t7 = 1.3999999999999999e-06 * var_t6; // dimensionless
        const double var_t11 = ((0.63500000000000001 * var_chaste_interface__sodium_current_h1_gate__h1) + (0.36499999999999999 * var_chaste_interface__sodium_current_h2_gate__h2)) * 140.0; // dimensionless
        const double var_t19 = 1.0 / var_chaste_interface__intracellular_ion_concentrations__Na_i; // dimensionless
        const double var_t28 = exp(((var_chaste_interface__membrane__V - (26.539450910485353 * log(140.0 * var_t19))) * 96487.0) * 3.9051638762969054e-07); // dimensionless
        const double var_t33 = exp((var_chaste_interface__membrane__V * 96487.0) * 3.9051638762969054e-07); // dimensionless
        const double var_t34 = var_t33 - 1.0; // dimensionless
        const double var_t35 = 1.0 / var_t34; // dimensionless
        const double var_t40 = var_t7 * (var_t11 * var_chaste_interface__membrane__V); // dimensionless
        const double var_t75 = 0.050001999999999998 * var_chaste_interface__Ca_independent_transient_outward_K_current_r_gate__r; // dimensionless
        const double var_t76 = pow(var_chaste_interface__Ca_independent_transient_outward_K_current_s1_gate__s1, 2.0); // dimensionless
        const double var_t79 = pow(var_chaste_interface__Ca_independent_transient_outward_K_current_s2_gate__s2, 2.0); // dimensionless
        const double var_t82 = ((0.58999999999999997 * var_t76) * var_chaste_interface__Ca_independent_transient_outward_K_current_s1_gate__s1) + ((0.40999999999999998 * var_t79) * var_chaste_interface__Ca_independent_transient_outward_K_current_s2_gate__s2); // dimensionless
        const double var_t83 = pow(var_chaste_interface__Ca_independent_transient_outward_K_current_s3_gate__s3, 2.0); // dimensionless
        const double var_t84 = pow(var_t83, 2.0); // dimensionless
        const double var_t87 = ((0.59999999999999998 * var_t84) * var_t83) + 0.40000000000000002; // dimensionless
        const double var_t89 = var_t75 * (var_t82 * var_t87); // dimensionless
        const double var_t90 = pow(var_chaste_interface__cleft_space_ion_concentrations__K_c, 2.0); // dimensionless
        const double var_t91 = var_t90 * var_chaste_interface__cleft_space_ion_concentrations__K_c; // dimensionless
        const double var_t93 = var_chaste_interface__cleft_space_ion_concentrations__K_c + 0.58999999999999997; // dimensionless
        const double var_t94 = pow(var_t93, 2.0); // dimensionless
        const double var_t96 = (1.0 / var_t94) / var_t93; // dimensionless
        const double var_t98 = 1.0 / var_chaste_interface__intracellular_ion_concentrations__K_i; // dimensionless
        const double var_t102 = 26.539450910485353 * log(var_chaste_interface__cleft_space_ion_concentrations__K_c * var_t98); // dimensionless
        const double var_t107 = exp(((134406.391 * ((var_chaste_interface__membrane__V - var_t102) -  -3.6000000000000001)) * 0.00012027904738994468) * 0.003246753246753247); // dimensionless
        const double var_t108 = 1.0 + var_t107; // dimensionless
        const double var_t109 = 1.0 / var_t108; // dimensionless
        const double var_t110 = var_t96 * var_t109; // dimensionless
        const double var_t112 = var_chaste_interface__membrane__V - var_t102; // dimensionless
        const double var_t113 = 0.0050800000000000003 * var_t112; // dimensionless
        const double var_t114 = var_t91 * var_t96; // dimensionless
        const double var_t116 = 1.0 / pow(var_t108, 2.0); // dimensionless
        const double var_t122 = 0.064409999999999995 * var_chaste_interface__cleft_space_ion_concentrations__K_c; // dimensionless
        const double var_t123 = var_chaste_interface__cleft_space_ion_concentrations__K_c + 1.0; // dimensionless
        const double var_t124 = 1.0 / var_t123; // dimensionless
        const double var_t125 = var_t122 * var_t124; // dimensionless
        const double var_t126 = pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 1.5); // dimensionless
        const double var_t128 = var_t126 + 36.4828726939094; // dimensionless
        const double var_t129 = 1.0 / var_t128; // dimensionless
        const double var_t130 = var_t126 * var_t129; // dimensionless
        const double var_t133 = exp(( -0.025000000000000001 * var_chaste_interface__membrane__V) - 1.5); // dimensionless
        const double var_t134 = 1.5 + var_t133; // dimensionless
        const double var_t141 = pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 2.0); // dimensionless
        const double var_t143 = (var_t141 * var_chaste_interface__intracellular_ion_concentrations__Na_i) * 2.5; // dimensionless
        const double var_t150 = exp(((43419.150000000001 * var_chaste_interface__membrane__V) * 0.00012027904738994468) * 0.003246753246753247); // dimensionless
        const double var_t156 = 2744000.0 * var_chaste_interface__intracellular_ion_concentrations__Ca_i; // dimensionless
        const double var_t162 = exp(( -0.55000000000000004 * var_chaste_interface__membrane__V) * 0.037679754693225952); // dimensionless
        const double var_t170 = 1.0 + (0.00029999999999999997 * (var_t156 + var_t143)); // dimensionless
        const double var_t171 = 1.0 / var_t170; // dimensionless
        const double var_t236 = 1.0 / var_t134; // dimensionless
        const double var_t238 = ((var_t125 * pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 0.5)) * var_t129) * var_t236; // dimensionless
        const double var_t245 = ((var_t125 * pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 2.0)) / pow(var_t128, 2.0)) * var_t236; // dimensionless
        const double var_t250 = (((2.0000000000000002e-05 * var_t141) * 2.5) * var_t150) * var_t171; // dimensionless
        const double var_t255 = 2.0000000000000002e-05 * ((var_t143 * var_t150) - (var_t156 * var_t162)); // dimensionless
        const double var_t257 = 1.0 / pow(var_t170, 2.0); // dimensionless
        const double var_t261 = (((var_t255 * var_t257) * 0.00029999999999999997) * var_t141) * 2.5; // dimensionless
        const double var_t270 = var_chaste_interface__intracellular_ion_concentrations__Ca_i + 0.00020000000000000001; // dimensionless
        const double var_t279 = (54.880000000000003 * var_t162) * var_t171; // dimensionless
        const double var_t282 = ((var_t255 * var_t257) * 0.00029999999999999997) * 2744000.0; // dimensionless
        const double var_t286 = 26.539450910485353 * var_t98; // dimensionless
        const double var_t288 = var_t4 * 8314.0; // dimensionless
        const double var_t302 = ((((var_t3 * var_t286) + ((var_t288 * 0.0031921398737653778) * var_t98)) + (var_t89 * var_t286)) + (((0.13482041062526559 * var_t98) * var_t91) * var_t110)) - (((((var_t113 * var_t114) * var_t116) * 1.393) * var_t98) * var_t107); // dimensionless
        const double var_t304 = 1.0 / var_chaste_interface__cleft_space_ion_concentrations__K_c; // dimensionless
        const double var_t306 = 26.539450910485353 * var_t304; // dimensionless
        const double var_t331 = var_t130 * var_t236; // dimensionless
        const double var_t332 = (0.064409999999999995 * var_t124) * var_t331; // dimensionless
        const double var_t337 = (var_t122 / pow(var_t123, 2.0)) * var_t331; // dimensionless
        const double var_t835 = ((var_chaste_interface__intracellular_ion_concentrations__Ca_i + 0.00029999999999999997) * 3333.3333333333335) + ((0.40000000000000002 * (var_chaste_interface__Ca_handling_by_the_SR__Ca_up + 0.5)) * 2.0); // dimensionless
        const double var_t836 = 1.0 / var_t835; // dimensionless
        const double var_t837 = 9333.3333333333339 * var_t836; // dimensionless
        const double var_t843 = 2.7999999999999998 * ((var_chaste_interface__intracellular_ion_concentrations__Ca_i * 3333.3333333333335) - ((0.16000000000000003 * var_chaste_interface__Ca_handling_by_the_SR__Ca_up) * 2.0)); // dimensionless
        const double var_t845 = 1.0 / pow(var_t835, 2.0); // dimensionless
        const double var_t847 = (var_t843 * var_t845) * 3333.3333333333335; // dimensionless
        const double var_t849 = 200.0 * pow(var_chaste_interface__Ca_handling_by_the_SR__F2, 2.0); // dimensionless
        const double var_t850 = var_chaste_interface__Ca_handling_by_the_SR__F2 + 0.25; // dimensionless
        const double var_t851 = pow(var_t850, 2.0); // dimensionless
        const double var_t852 = 1.0 / var_t851; // dimensionless
        const double var_t853 = var_t849 * var_t852; // dimensionless
        const double var_t867 = 32000.0 * var_chaste_interface__intracellular_ion_concentrations__Ca_i; // dimensionless
        const double var_t875 = 0.89600000000000013 * var_t836; // dimensionless
        const double var_t878 = ((var_t843 * var_t845) * 0.40000000000000002) * 2.0; // dimensionless
        const double var_t884 = var_chaste_interface__Ca_handling_by_the_SR__Ca_rel - var_chaste_interface__intracellular_ion_concentrations__Ca_i; // dimensionless
        const double var_t891 = (((200.0 * var_chaste_interface__Ca_handling_by_the_SR__F2) * var_t852) * var_t884) - (((var_t849 / var_t851) / var_t850) * var_t884); // dimensionless
        const double var_t925 = (4.7999999999999998 * var_t238) - (4.7999999999999998 * var_t245); // dimensionless
        const double var_t932 = ((((((((var_t89 * var_t306) + ((0.13482041062526559 * var_t90) * var_t110)) - ((((3.0 * var_t113) * var_t90) * var_t96) * var_t109)) + ((((3.0 * var_t113) * var_t91) / pow(var_t94, 2.0)) * var_t109)) - (((((var_t113 * var_t90) * var_t96) * var_t116) * 1.393) * var_t107)) + (var_t3 * var_t306)) + ((var_t288 * 0.0031921398737653778) * var_t304)) + (3.2000000000000002 * var_t332)) - (3.2000000000000002 * var_t337); // dimensionless
        const double var_t936 = 200000.0 * var_chaste_interface__intracellular_ion_concentrations__Ca_i; // dimensionless
        const double var_t1005 = exp((0.080000000000000002 * var_chaste_interface__membrane__V) - 1.6000000000000001); // dimensionless
        const double var_t1008 = pow(var_chaste_interface__intracellular_ion_concentrations__Ca_i, 2.0); // dimensionless
        const double var_t1010 = var_chaste_interface__intracellular_ion_concentrations__Ca_i + 0.00029999999999999997; // dimensionless
        const double var_t1012 = pow(pow(var_t1010, 2.0), 2.0); // dimensionless
        const double var_t1013 = 1.0 / var_t1012; // dimensionless
        const double var_t1014 = (var_t1008 * var_chaste_interface__intracellular_ion_concentrations__Ca_i) * var_t1013; // dimensionless
        const double var_t1016 = pow(var_t1008, 2.0); // dimensionless
        const double var_t1019 = (var_t1016 / var_t1012) / var_t1010; // dimensionless
        const double var_t1022 = ((815.20000000000005 * var_t1014) - (815.20000000000005 * var_t1019)) * var_chaste_interface__Ca_handling_by_the_SR__F1; // dimensionless
        const double var_t1024 = var_t1016 * var_t1013; // dimensionless
        const double var_t1026 = ( -240.0 * var_t1005) - (203.80000000000001 * var_t1024); // dimensionless
        const double var_t1030 = ((1358.4000000000001 * var_t1014) - (1358.4000000000001 * var_t1019)) * var_chaste_interface__Ca_handling_by_the_SR__F2; // dimensionless
        const double var_t1033 =  -33.960000000000001 - (339.60000000000002 * var_t1024); // dimensionless
        
        rJacobian[0][0] = 1.0 - (var_environment__dt * (((((0.5 * ( -0.8490856 - var_t853)) * 22727272.72727273) * 1.036409049923824e-05) - 14880.0) + (14880.0 * var_chaste_interface__Ca_handling_by_the_SR__O_Calse)));
        rJacobian[0][1] = -(var_environment__dt * 100.0);
        rJacobian[0][2] = 0.0;
        rJacobian[0][3] = -(var_environment__dt * (((-var_t891) * 22727272.72727273) * 1.036409049923824e-05));
        rJacobian[0][4] = 0.0;
        rJacobian[0][5] = -(var_environment__dt * ((14880.0 * var_chaste_interface__Ca_handling_by_the_SR__Ca_rel) + 12400.0));
        rJacobian[0][6] = 0.0;
        rJacobian[0][7] = 0.0;
        rJacobian[0][8] = 0.0;
        rJacobian[0][9] = 0.0;
        rJacobian[0][10] = 0.0;
        rJacobian[0][11] = -(var_environment__dt * ((((0.5 * var_t849) * var_t852) * 22727272.72727273) * 1.036409049923824e-05));
        rJacobian[0][12] = 0.0;
        rJacobian[0][13] = 0.0;
        rJacobian[1][0] = -(var_environment__dt * 11.085915847820608);
        rJacobian[1][1] = 1.0 - (var_environment__dt * (((0.5 * (((-var_t875) - var_t878) - 0.8490856)) * 2519526.3290501386) * 1.036409049923824e-05));
        rJacobian[1][2] = 0.0;
        rJacobian[1][3] = 0.0;
        rJacobian[1][4] = 0.0;
        rJacobian[1][5] = 0.0;
        rJacobian[1][6] = 0.0;
        rJacobian[1][7] = 0.0;
        rJacobian[1][8] = 0.0;
        rJacobian[1][9] = 0.0;
        rJacobian[1][10] = 0.0;
        rJacobian[1][11] = -(var_environment__dt * (((0.5 * (var_t837 - var_t847)) * 2519526.3290501386) * 1.036409049923824e-05));
        rJacobian[1][12] = 0.0;
        rJacobian[1][13] = 0.0;
        rJacobian[2][0] = 0.0;
        rJacobian[2][1] = 0.0;
        rJacobian[2][2] = 1.0 - (var_environment__dt * var_t1026);
        rJacobian[2][3] = 0.0;
        rJacobian[2][4] = -(var_environment__dt * 0.81499999999999995);
        rJacobian[2][5] = 0.0;
        rJacobian[2][6] = 0.0;
        rJacobian[2][7] = 0.0;
        rJacobian[2][8] = 0.0;
        rJacobian[2][9] = 0.0;
        rJacobian[2][10] = 0.0;
        rJacobian[2][11] = -(var_environment__dt * (-var_t1022));
        rJacobian[2][12] = 0.0;
        rJacobian[2][13] = 0.0;
        rJacobian[3][0] = 0.0;
        rJacobian[3][1] = 0.0;
        rJacobian[3][2] = -(var_environment__dt * (-var_t1026));
        rJacobian[3][3] = 1.0 - (var_environment__dt * var_t1033);
        rJacobian[3][4] = 0.0;
        rJacobian[3][5] = 0.0;
        rJacobian[3][6] = 0.0;
        rJacobian[3][7] = 0.0;
        rJacobian[3][8] = 0.0;
        rJacobian[3][9] = 0.0;
        rJacobian[3][10] = 0.0;
        rJacobian[3][11] = -(var_environment__dt * (var_t1022 - var_t1030));
        rJacobian[3][12] = 0.0;
        rJacobian[3][13] = 0.0;
        rJacobian[4][0] = 0.0;
        rJacobian[4][1] = 0.0;
        rJacobian[4][2] = 0.0;
        rJacobian[4][3] = -(var_environment__dt * (-var_t1033));
        rJacobian[4][4] = 1.0 - (var_environment__dt *  -0.81499999999999995);
        rJacobian[4][5] = 0.0;
        rJacobian[4][6] = 0.0;
        rJacobian[4][7] = 0.0;
        rJacobian[4][8] = 0.0;
        rJacobian[4][9] = 0.0;
        rJacobian[4][10] = 0.0;
        rJacobian[4][11] = -(var_environment__dt * var_t1030);
        rJacobian[4][12] = 0.0;
        rJacobian[4][13] = 0.0;
        rJacobian[5][0] = -(var_environment__dt * (480.0 - (480.0 * var_chaste_interface__Ca_handling_by_the_SR__O_Calse)));
        rJacobian[5][1] = 0.0;
        rJacobian[5][2] = 0.0;
        rJacobian[5][3] = 0.0;
        rJacobian[5][4] = 0.0;
        rJacobian[5][5] = 1.0 - (var_environment__dt * (( -480.0 * var_chaste_interface__Ca_handling_by_the_SR__Ca_rel) - 400.0));
        rJacobian[5][6] = 0.0;
        rJacobian[5][7] = 0.0;
        rJacobian[5][8] = 0.0;
        rJacobian[5][9] = 0.0;
        rJacobian[5][10] = 0.0;
        rJacobian[5][11] = 0.0;
        rJacobian[5][12] = 0.0;
        rJacobian[5][13] = 0.0;
        rJacobian[6][0] = 0.0;
        rJacobian[6][1] = 0.0;
        rJacobian[6][2] = 0.0;
        rJacobian[6][3] = 0.0;
        rJacobian[6][4] = 0.0;
        rJacobian[6][5] = 0.0;
        rJacobian[6][6] = 1.0 - (var_environment__dt * (((-var_t932) * 399999.99999999994) * 1.036409049923824e-05));
        rJacobian[6][7] = 0.0;
        rJacobian[6][8] = 0.0;
        rJacobian[6][9] = 0.0;
        rJacobian[6][10] = 0.0;
        rJacobian[6][11] = 0.0;
        rJacobian[6][12] = -(var_environment__dt * ((var_t302 * 399999.99999999994) * 1.036409049923824e-05));
        rJacobian[6][13] = -(var_environment__dt * (((-var_t925) * 399999.99999999994) * 1.036409049923824e-05));
        rJacobian[7][0] = 0.0;
        rJacobian[7][1] = 0.0;
        rJacobian[7][2] = 0.0;
        rJacobian[7][3] = 0.0;
        rJacobian[7][4] = 0.0;
        rJacobian[7][5] = 0.0;
        rJacobian[7][6] = 0.0;
        rJacobian[7][7] = 1.0 - (var_environment__dt * ((-var_t936) - 476.0));
        rJacobian[7][8] = 0.0;
        rJacobian[7][9] = 0.0;
        rJacobian[7][10] = 0.0;
        rJacobian[7][11] = -(var_environment__dt * (200000.0 - (200000.0 * var_chaste_interface__intracellular_Ca_buffering__O_C)));
        rJacobian[7][12] = 0.0;
        rJacobian[7][13] = 0.0;
        rJacobian[8][0] = 0.0;
        rJacobian[8][1] = 0.0;
        rJacobian[8][2] = 0.0;
        rJacobian[8][3] = 0.0;
        rJacobian[8][4] = 0.0;
        rJacobian[8][5] = 0.0;
        rJacobian[8][6] = 0.0;
        rJacobian[8][7] = 0.0;
        rJacobian[8][8] = 1.0 - (var_environment__dt * (( -78400.0 * var_chaste_interface__intracellular_ion_concentrations__Ca_i) - 392.0));
        rJacobian[8][9] = 0.0;
        rJacobian[8][10] = 0.0;
        rJacobian[8][11] = -(var_environment__dt * (78400.0 - (78400.0 * var_chaste_interface__intracellular_Ca_buffering__O_TC)));
        rJacobian[8][12] = 0.0;
        rJacobian[8][13] = 0.0;
        rJacobian[9][0] = 0.0;
        rJacobian[9][1] = 0.0;
        rJacobian[9][2] = 0.0;
        rJacobian[9][3] = 0.0;
        rJacobian[9][4] = 0.0;
        rJacobian[9][5] = 0.0;
        rJacobian[9][6] = 0.0;
        rJacobian[9][7] = 0.0;
        rJacobian[9][8] = 0.0;
        rJacobian[9][9] = 1.0 - (var_environment__dt * ((-var_t936) - 6.5999999999999996));
        rJacobian[9][10] = -(var_environment__dt * (-var_t936));
        rJacobian[9][11] = -(var_environment__dt * ((200000.0 - (200000.0 * var_chaste_interface__intracellular_Ca_buffering__O_TMgC)) - (200000.0 * var_chaste_interface__intracellular_Ca_buffering__O_TMgMg)));
        rJacobian[9][12] = 0.0;
        rJacobian[9][13] = 0.0;
        rJacobian[10][0] = 0.0;
        rJacobian[10][1] = 0.0;
        rJacobian[10][2] = 0.0;
        rJacobian[10][3] = 0.0;
        rJacobian[10][4] = 0.0;
        rJacobian[10][5] = 0.0;
        rJacobian[10][6] = 0.0;
        rJacobian[10][7] = 0.0;
        rJacobian[10][8] = 0.0;
        rJacobian[10][9] = -(var_environment__dt *  -5000.0);
        rJacobian[10][10] = 1.0 - (var_environment__dt *  -5666.0);
        rJacobian[10][11] = 0.0;
        rJacobian[10][12] = 0.0;
        rJacobian[10][13] = 0.0;
        rJacobian[11][0] = -(var_environment__dt * ((((0.5 * var_t849) * var_t852) * 169952.4133242692) * 1.036409049923824e-05));
        rJacobian[11][1] = -(var_environment__dt * (((0.5 * (var_t875 + var_t878)) * 169952.4133242692) * 1.036409049923824e-05));
        rJacobian[11][2] = 0.0;
        rJacobian[11][3] = -(var_environment__dt * ((var_t891 * 169952.4133242692) * 1.036409049923824e-05));
        rJacobian[11][4] = 0.0;
        rJacobian[11][5] = 0.0;
        rJacobian[11][6] = 0.0;
        rJacobian[11][7] = -(var_environment__dt * ((9000.0 * var_chaste_interface__intracellular_ion_concentrations__Ca_i) + 21.420000000000002));
        rJacobian[11][8] = -(var_environment__dt * ((6272.0 * var_chaste_interface__intracellular_ion_concentrations__Ca_i) + 31.359999999999999));
        rJacobian[11][9] = -(var_environment__dt * (var_t867 + 1.056));
        rJacobian[11][10] = -(var_environment__dt * var_t867);
        rJacobian[11][11] = 1.0 - (var_environment__dt * ((((((((0.5 * ((((((((-(0.00041136148911252295 / var_chaste_interface__intracellular_ion_concentrations__Ca_i)) - (0.0095090000000000001 / var_t270)) + ((0.0095090000000000001 * var_chaste_interface__intracellular_ion_concentrations__Ca_i) / pow(var_t270, 2.0))) - (2.0 * var_t279)) - (2.0 * var_t282)) - var_t837) + var_t847) - var_t853)) * 169952.4133242692) * 1.036409049923824e-05) - 47272.0) + (6272.0 * var_chaste_interface__intracellular_Ca_buffering__O_TC)) + (32000.0 * var_chaste_interface__intracellular_Ca_buffering__O_TMgC)) + (32000.0 * var_chaste_interface__intracellular_Ca_buffering__O_TMgMg)) + (9000.0 * var_chaste_interface__intracellular_Ca_buffering__O_C)));
        rJacobian[11][12] = 0.0;
        rJacobian[11][13] = -(var_environment__dt * (((3.0 * (var_t250 - var_t261)) * 169952.4133242692) * 1.036409049923824e-05));
        rJacobian[12][0] = 0.0;
        rJacobian[12][1] = 0.0;
        rJacobian[12][2] = 0.0;
        rJacobian[12][3] = 0.0;
        rJacobian[12][4] = 0.0;
        rJacobian[12][5] = 0.0;
        rJacobian[12][6] = -(var_environment__dt * ((var_t932 * 79365.079365079364) * 1.036409049923824e-05));
        rJacobian[12][7] = 0.0;
        rJacobian[12][8] = 0.0;
        rJacobian[12][9] = 0.0;
        rJacobian[12][10] = 0.0;
        rJacobian[12][11] = 0.0;
        rJacobian[12][12] = 1.0 - (var_environment__dt * (((-var_t302) * 79365.079365079364) * 1.036409049923824e-05));
        rJacobian[12][13] = -(var_environment__dt * ((var_t925 * 79365.079365079364) * 1.036409049923824e-05));
        rJacobian[13][0] = 0.0;
        rJacobian[13][1] = 0.0;
        rJacobian[13][2] = 0.0;
        rJacobian[13][3] = 0.0;
        rJacobian[13][4] = 0.0;
        rJacobian[13][5] = 0.0;
        rJacobian[13][6] = -(var_environment__dt * (((( -4.7999999999999998 * var_t332) + (4.7999999999999998 * var_t337)) * 79365.079365079364) * 1.036409049923824e-05));
        rJacobian[13][7] = 0.0;
        rJacobian[13][8] = 0.0;
        rJacobian[13][9] = 0.0;
        rJacobian[13][10] = 0.0;
        rJacobian[13][11] = -(var_environment__dt * (((3.0 * (var_t279 + var_t282)) * 79365.079365079364) * 1.036409049923824e-05));
        rJacobian[13][12] = 0.0;
        rJacobian[13][13] = 1.0 - (var_environment__dt * ((((((((-(((((var_t40 * 1119766.79925427) * 0.003246753246753247) * var_t19) * var_t28) * var_t35)) - (0.0016985248582710626 * var_t19)) - (7.2000000000000002 * var_t238)) + (7.2000000000000002 * var_t245)) - (9.0 * var_t250)) + (9.0 * var_t261)) * 79365.079365079364) * 1.036409049923824e-05));
    }
    
    void Dynamicaslanidi_model_2009FromCellMLBackwardEuler::UpdateTransmembranePotential(double var_chaste_interface__environment__time)
    {
        // Time units: millisecond
        std::vector<double>& rY = rGetStateVariables();
        double var_chaste_interface__membrane__V = (mSetVoltageDerivativeToZero ? this->mFixedVoltage : rY[0]);
        // Units: millivolt; Initial value: -80
        double var_chaste_interface__sodium_current_m_gate__m = rY[1];
        // Units: dimensionless; Initial value: 0.01309
        double var_chaste_interface__sodium_current_h1_gate__h1 = rY[2];
        // Units: dimensionless; Initial value: 0.706
        double var_chaste_interface__sodium_current_h2_gate__h2 = rY[3];
        // Units: dimensionless; Initial value: 0.61493
        double var_chaste_interface__L_type_Ca_channel_d_L_gate__d_L = rY[4];
        // Units: dimensionless; Initial value: 0.00003
        double var_chaste_interface__L_type_Ca_channel_f_L_gate__f_L = rY[5];
        // Units: dimensionless; Initial value: 0.99981
        double var_chaste_interface__T_type_Ca_channel_d_T_gate__d_T = rY[6];
        // Units: dimensionless; Initial value: 0.00046
        double var_chaste_interface__T_type_Ca_channel_f_T_gate__f_T = rY[7];
        // Units: dimensionless; Initial value: 0.30752
        double var_chaste_interface__Ca_independent_transient_outward_K_current_r_gate__r = rY[8];
        // Units: dimensionless; Initial value: 0.00006
        double var_chaste_interface__Ca_independent_transient_outward_K_current_s1_gate__s1 = rY[9];
        // Units: dimensionless; Initial value: 0.5753
        double var_chaste_interface__Ca_independent_transient_outward_K_current_s2_gate__s2 = rY[10];
        // Units: dimensionless; Initial value: 0.39871
        double var_chaste_interface__Ca_independent_transient_outward_K_current_s3_gate__s3 = rY[11];
        // Units: dimensionless; Initial value: 0.57363
        double var_chaste_interface__delayed_rectifier_K_current_z_gate__z = rY[12];
        // Units: dimensionless; Initial value: 0.02032
        double var_chaste_interface__delayed_rectifier_K_current_pa_gate__p_a = rY[13];
        // Units: dimensionless; Initial value: 0.00016
        double var_chaste_interface__delayed_rectifier_K_current_pi_gate__p_i = rY[14];
        // Units: dimensionless; Initial value: 0.76898
        double var_chaste_interface__intracellular_ion_concentrations__Na_i = rY[15];
        // Units: millimolar; Initial value: 8.4
        double var_chaste_interface__intracellular_ion_concentrations__Ca_i = rY[16];
        // Units: millimolar; Initial value: 0.000071
        double var_chaste_interface__intracellular_ion_concentrations__K_i = rY[17];
        // Units: millimolar; Initial value: 100
        double var_chaste_interface__cleft_space_ion_concentrations__K_c = rY[22];
        // Units: millimolar; Initial value: 5
        
        const double var_membrane__Cm = 5.0000000000000002e-05; // nanoF
        const double var_sodium_current__E_Na = 26.53945091048535 * log(140.0 / var_chaste_interface__intracellular_ion_concentrations__Na_i); // millivolt
        const double var_sodium_current__i_Na = (((pow(var_chaste_interface__sodium_current_m_gate__m, 3.0) * ((0.63500000000000001 * var_chaste_interface__sodium_current_h1_gate__h1) + (0.36499999999999999 * var_chaste_interface__sodium_current_h2_gate__h2)) * var_chaste_interface__membrane__V * 1824709.2691239999) * 3.9051638762969049e-07) * (exp(((var_chaste_interface__membrane__V - var_sodium_current__E_Na) * 96487.0) * 3.9051638762969049e-07) - 1.0)) / (exp((var_chaste_interface__membrane__V * 96487.0) * 3.9051638762969049e-07) - 1.0); // picoA
        const double var_L_type_Ca_channel__i_Ca_L = ((var_chaste_interface__L_type_Ca_channel_d_L_gate__d_L * var_chaste_interface__L_type_Ca_channel_f_L_gate__f_L) + (1.0 / (1.0 + exp((var_chaste_interface__membrane__V - 23.0) *  -0.083333333333333329)))) * (var_chaste_interface__membrane__V - 50.0) * 0.0072000000000000007; // picoA
        const double var_T_type_Ca_channel__i_Ca_T = 0.0060000000000000001 * var_chaste_interface__T_type_Ca_channel_d_T_gate__d_T * var_chaste_interface__T_type_Ca_channel_f_T_gate__f_T * (var_chaste_interface__membrane__V - 38.0); // picoA
        const double var_Ca_independent_transient_outward_K_current__E_K = 26.53945091048535 * log(var_chaste_interface__cleft_space_ion_concentrations__K_c / var_chaste_interface__intracellular_ion_concentrations__K_i); // millivolt
        const double var_Ca_independent_transient_outward_K_current__i_to = var_chaste_interface__Ca_independent_transient_outward_K_current_r_gate__r * ((0.58999999999999997 * pow(var_chaste_interface__Ca_independent_transient_outward_K_current_s1_gate__s1, 3.0)) + (0.40999999999999998 * pow(var_chaste_interface__Ca_independent_transient_outward_K_current_s2_gate__s2, 3.0))) * ((0.59999999999999998 * pow(var_chaste_interface__Ca_independent_transient_outward_K_current_s3_gate__s3, 6.0)) + 0.40000000000000002) * (var_chaste_interface__membrane__V - var_Ca_independent_transient_outward_K_current__E_K) * 0.0100004; // picoA
        const double var_Ca_independent_transient_outward_K_current__i_sus = 0.0014 * (var_chaste_interface__membrane__V + 70.0); // picoA
        const double var_inward_rectifier__i_K1 = ((var_chaste_interface__membrane__V - var_Ca_independent_transient_outward_K_current__E_K) * pow(var_chaste_interface__cleft_space_ion_concentrations__K_c / (var_chaste_interface__cleft_space_ion_concentrations__K_c + 0.58999999999999997), 3.0) * 0.010160000000000001) / (1.0 + exp((((var_chaste_interface__membrane__V - var_Ca_independent_transient_outward_K_current__E_K) -  -3.6000000000000001) * 134406.391) * 3.9051638762969049e-07)); // picoA
        const double var_delayed_rectifier_K_current__i_Kr = 0.0035000000000000001 * var_chaste_interface__delayed_rectifier_K_current_pa_gate__p_a * var_chaste_interface__delayed_rectifier_K_current_pi_gate__p_i * (var_chaste_interface__membrane__V - var_Ca_independent_transient_outward_K_current__E_K); // picoA
        const double var_delayed_rectifier_K_current__i_Ks = 0.0025000000000000001 * var_chaste_interface__delayed_rectifier_K_current_z_gate__z * (var_chaste_interface__membrane__V - var_Ca_independent_transient_outward_K_current__E_K); // picoA
        const double var_background_currents__i_B_Na = 2.0000000000000002e-05 * (var_chaste_interface__membrane__V - var_sodium_current__E_Na); // picoA
        const double var_background_currents__i_B_Ca = 2.0000000000000002e-05 * (var_chaste_interface__membrane__V - (13.269725455242675 * log(2.5 / var_chaste_interface__intracellular_ion_concentrations__Ca_i))); // picoA
        const double var_sodium_potassium_pump__i_p = (((((0.064409999999999995 * var_chaste_interface__cleft_space_ion_concentrations__K_c) / (var_chaste_interface__cleft_space_ion_concentrations__K_c + 1.0)) * pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 1.5)) / (pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 1.5) + 36.4828726939094)) * 1.6000000000000001) / (1.5 + exp((var_chaste_interface__membrane__V + 60.0) *  -0.025000000000000001)); // picoA
        const double var_sarcolemmal_calcium_pump_current__i_CaP = (0.0095090000000000001 * var_chaste_interface__intracellular_ion_concentrations__Ca_i) / (var_chaste_interface__intracellular_ion_concentrations__Ca_i + 0.00020000000000000001); // picoA
        const double var_Na_Ca_ion_exchanger_current__i_NaCa = (2.0000000000000002e-05 * ((pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 3.0) * 2.5 * exp((var_chaste_interface__membrane__V * 43419.150000000001) * 3.9051638762969049e-07)) - (2744000.0 * var_chaste_interface__intracellular_ion_concentrations__Ca_i * exp((var_chaste_interface__membrane__V *  -53067.850000000006) * 3.9051638762969049e-07)))) / (1.0 + (0.00029999999999999997 * ((2744000.0 * var_chaste_interface__intracellular_ion_concentrations__Ca_i) + (pow(var_chaste_interface__intracellular_ion_concentrations__Na_i, 3.0) * 2.5)))); // picoA
        const double var_chaste_interface__membrane__i_Stim = GetIntracellularAreaStimulus(var_chaste_interface__environment__time);
        const double d_dt_chaste_interface__membrane__V = 0.001 * (( -1.0 / var_membrane__Cm) * (var_delayed_rectifier_K_current__i_Kr + var_delayed_rectifier_K_current__i_Ks + var_sodium_current__i_Na + var_L_type_Ca_channel__i_Ca_L + var_T_type_Ca_channel__i_Ca_T + var_Ca_independent_transient_outward_K_current__i_to + var_Ca_independent_transient_outward_K_current__i_sus + var_inward_rectifier__i_K1 + var_background_currents__i_B_Na + var_background_currents__i_B_Ca + var_sodium_potassium_pump__i_p + var_sarcolemmal_calcium_pump_current__i_CaP + var_Na_Ca_ion_exchanger_current__i_NaCa + (1000.0 * ((var_chaste_interface__membrane__i_Stim * var_membrane__Cm) / HeartConfig::Instance()->GetCapacitance())))); // 'millivolt per millisecond'
        
        rY[0] += mDt*d_dt_chaste_interface__membrane__V;
    }
    
    void Dynamicaslanidi_model_2009FromCellMLBackwardEuler::ComputeOneStepExceptVoltage(double var_chaste_interface__environment__time)
    {
        // Time units: millisecond
        std::vector<double>& rY = rGetStateVariables();
        double var_chaste_interface__membrane__V = (mSetVoltageDerivativeToZero ? this->mFixedVoltage : rY[0]);
        // Units: millivolt; Initial value: -80
        double var_chaste_interface__sodium_current_m_gate__m = rY[1];
        // Units: dimensionless; Initial value: 0.01309
        double var_chaste_interface__sodium_current_h1_gate__h1 = rY[2];
        // Units: dimensionless; Initial value: 0.706
        double var_chaste_interface__sodium_current_h2_gate__h2 = rY[3];
        // Units: dimensionless; Initial value: 0.61493
        double var_chaste_interface__L_type_Ca_channel_d_L_gate__d_L = rY[4];
        // Units: dimensionless; Initial value: 0.00003
        double var_chaste_interface__L_type_Ca_channel_f_L_gate__f_L = rY[5];
        // Units: dimensionless; Initial value: 0.99981
        double var_chaste_interface__T_type_Ca_channel_d_T_gate__d_T = rY[6];
        // Units: dimensionless; Initial value: 0.00046
        double var_chaste_interface__T_type_Ca_channel_f_T_gate__f_T = rY[7];
        // Units: dimensionless; Initial value: 0.30752
        double var_chaste_interface__Ca_independent_transient_outward_K_current_r_gate__r = rY[8];
        // Units: dimensionless; Initial value: 0.00006
        double var_chaste_interface__Ca_independent_transient_outward_K_current_s1_gate__s1 = rY[9];
        // Units: dimensionless; Initial value: 0.5753
        double var_chaste_interface__Ca_independent_transient_outward_K_current_s2_gate__s2 = rY[10];
        // Units: dimensionless; Initial value: 0.39871
        double var_chaste_interface__Ca_independent_transient_outward_K_current_s3_gate__s3 = rY[11];
        // Units: dimensionless; Initial value: 0.57363
        double var_chaste_interface__delayed_rectifier_K_current_z_gate__z = rY[12];
        // Units: dimensionless; Initial value: 0.02032
        double var_chaste_interface__delayed_rectifier_K_current_pa_gate__p_a = rY[13];
        // Units: dimensionless; Initial value: 0.00016
        double var_chaste_interface__delayed_rectifier_K_current_pi_gate__p_i = rY[14];
        // Units: dimensionless; Initial value: 0.76898
        
        const double var_chaste_interface__environment__dt = mDt;

        const double var_sodium_current_m_gate__E0_m = var_chaste_interface__membrane__V + 44.399999999999999; // millivolt
        const double var_sodium_current_m_gate__alpha_m = ( -460.0 * var_sodium_current_m_gate__E0_m) / (exp(var_sodium_current_m_gate__E0_m *  -0.078907914463820727) - 1.0); // per_second
        const double var_sodium_current_h1_gate__alpha_h = 44.899999999999999 * exp((var_chaste_interface__membrane__V + 66.900000000000006) *  -0.17953321364452424); // per_second
        const double var_sodium_current_h1_gate__h_infinity = var_sodium_current_h1_gate__alpha_h / (var_sodium_current_h1_gate__alpha_h + (1491.0 / (1.0 + (323.30000000000001 * exp((var_chaste_interface__membrane__V + 94.599999999999994) *  -0.077519379844961239))))); // dimensionless
        const double var_sodium_current_h1_gate__tau_h1 = (0.029999999999999999 / (1.0 + exp((var_chaste_interface__membrane__V + 40.0) * 0.16666666666666666))) + 0.00014999999999999999; // second
        const double var_sodium_current_h2_gate__tau_h2 = (0.12 / (1.0 + exp((var_chaste_interface__membrane__V + 60.0) * 0.5))) + 0.00044999999999999999; // second
        const double var_L_type_Ca_channel_d_L_gate__E10 = var_chaste_interface__membrane__V + 10.0; // millivolt
        const double var_L_type_Ca_channel_d_L_gate__E0_beta_d_L = var_chaste_interface__membrane__V + 5.0; // millivolt
        const double var_L_type_Ca_channel_d_L_gate__E0_alpha_d_L = var_chaste_interface__membrane__V + 45.0; // millivolt
        const double var_L_type_Ca_channel_d_L_gate__tau_d_L = 1.0 / (((( -16.719999999999999 * var_L_type_Ca_channel_d_L_gate__E0_alpha_d_L) / (exp(var_L_type_Ca_channel_d_L_gate__E0_alpha_d_L *  -0.40000000000000002) - 1.0)) + (( -50.0 * var_L_type_Ca_channel_d_L_gate__E10) / (exp(var_L_type_Ca_channel_d_L_gate__E10 *  -0.20798668885191349) - 1.0))) + ((4.4800000000000004 * var_L_type_Ca_channel_d_L_gate__E0_beta_d_L) / (exp(var_L_type_Ca_channel_d_L_gate__E0_beta_d_L * 0.40000000000000002) - 1.0))); // second
        const double var_L_type_Ca_channel_f_L_gate__E0_f_L = var_chaste_interface__membrane__V + 18.0; // millivolt
        const double var_L_type_Ca_channel_f_L_gate__beta_f_L = 67.921999999999997 / (1.0 + exp(var_L_type_Ca_channel_f_L_gate__E0_f_L *  -0.25)); // per_second
        const double var_L_type_Ca_channel_f_L_gate__alpha_f_L = (8.4900000000000002 * var_L_type_Ca_channel_f_L_gate__E0_f_L) / (exp(var_L_type_Ca_channel_f_L_gate__E0_f_L * 0.25) - 1.0); // per_second
        const double var_L_type_Ca_channel_f_L_gate__tau_f_L = 1.0 / (var_L_type_Ca_channel_f_L_gate__alpha_f_L + var_L_type_Ca_channel_f_L_gate__beta_f_L); // second
        const double var_T_type_Ca_channel_d_T_gate__E0_d_T = var_chaste_interface__membrane__V + 23.300000000000001; // millivolt
        const double var_T_type_Ca_channel_d_T_gate__tau_d_T = 1.0 / ((674.173 * exp(var_T_type_Ca_channel_d_T_gate__E0_d_T * 0.033333333333333333)) + (674.173 * exp(var_T_type_Ca_channel_d_T_gate__E0_d_T *  -0.033333333333333333))); // second
        const double var_T_type_Ca_channel_f_T_gate__E0_f_T = var_chaste_interface__membrane__V + 75.0; // millivolt
        const double var_T_type_Ca_channel_f_T_gate__beta_f_T = 9.6370000000000005 * exp(var_T_type_Ca_channel_f_T_gate__E0_f_T * 0.065019505851755519); // per_second
        const double var_T_type_Ca_channel_f_T_gate__alpha_f_T = 9.6370000000000005 * exp(var_T_type_Ca_channel_f_T_gate__E0_f_T *  -0.012004801920768308); // per_second
        const double var_T_type_Ca_channel_f_T_gate__tau_f_T = 1.0 / (var_T_type_Ca_channel_f_T_gate__alpha_f_T + var_T_type_Ca_channel_f_T_gate__beta_f_T); // second
        const double var_Ca_independent_transient_outward_K_current_r_gate__tau_r = (1.0 / ((386.60000000000002 * exp(var_chaste_interface__membrane__V * 0.083333333333333329)) + (8.0109999999999992 * exp(var_chaste_interface__membrane__V *  -0.1388888888888889)))) + 0.00040000000000000002; // second
        const double var_Ca_independent_transient_outward_K_current_s1_gate__tau_s1 = (0.54659999999999997 / (1.0 + exp((var_chaste_interface__membrane__V + 32.799999999999997) * 10.0))) + 0.020400000000000001; // second
        const double var_Ca_independent_transient_outward_K_current_s2_gate__tau_s2 = (5.75 / (1.0 + exp((var_chaste_interface__membrane__V + 32.799999999999997) * 10.0))) + (0.45000000000000001 / (1.0 + exp((var_chaste_interface__membrane__V - 13.539999999999999) *  -0.071581961345740866))); // second
        const double var_Ca_independent_transient_outward_K_current_s3_gate__tau_s3 = (7.5 / (1.0 + exp((var_chaste_interface__membrane__V + 23.0) * 2.0))) + 0.5; // second
        const double var_delayed_rectifier_K_current_z_gate__tau_z = (1.0 / ((1.6599999999999999 * exp(var_chaste_interface__membrane__V * 0.014398433450440593)) + (0.29999999999999999 * exp(var_chaste_interface__membrane__V *  -0.045816915605241454)))) + 0.059999999999999998; // second
        const double var_delayed_rectifier_K_current_pa_gate__tau_p_a = 1.0 / ((9.0 * exp(var_chaste_interface__membrane__V * 0.03941508020968823)) + (1.3 * exp(var_chaste_interface__membrane__V *  -0.076769537847382163))); // second
        const double var_delayed_rectifier_K_current_pi_gate__tau_p_i = 1.0 / ((100.0 * exp(var_chaste_interface__membrane__V *  -0.018299935950224173)) + (656.0 * exp(var_chaste_interface__membrane__V * 0.009420009985210585))); // second
        
        rY[8] = (var_chaste_interface__Ca_independent_transient_outward_K_current_r_gate__r + ((0.001 * ((1.0 / (1.0 + exp((var_chaste_interface__membrane__V + 15.0) *  -0.17752529735487307))) / var_Ca_independent_transient_outward_K_current_r_gate__tau_r)) * var_chaste_interface__environment__dt)) / (1.0 - ((0.001 * ( -1.0 / var_Ca_independent_transient_outward_K_current_r_gate__tau_r)) * var_chaste_interface__environment__dt));
        rY[9] = (var_chaste_interface__Ca_independent_transient_outward_K_current_s1_gate__s1 + ((0.001 * ((1.0 / (1.0 + exp((var_chaste_interface__membrane__V + 28.289999999999999) * 0.14164305949008499))) / var_Ca_independent_transient_outward_K_current_s1_gate__tau_s1)) * var_chaste_interface__environment__dt)) / (1.0 - ((0.001 * ( -1.0 / var_Ca_independent_transient_outward_K_current_s1_gate__tau_s1)) * var_chaste_interface__environment__dt));
        rY[10] = (var_chaste_interface__Ca_independent_transient_outward_K_current_s2_gate__s2 + ((0.001 * ((1.0 / (1.0 + exp((var_chaste_interface__membrane__V + 28.289999999999999) * 0.14164305949008499))) / var_Ca_independent_transient_outward_K_current_s2_gate__tau_s2)) * var_chaste_interface__environment__dt)) / (1.0 - ((0.001 * ( -1.0 / var_Ca_independent_transient_outward_K_current_s2_gate__tau_s2)) * var_chaste_interface__environment__dt));
        rY[11] = (var_chaste_interface__Ca_independent_transient_outward_K_current_s3_gate__s3 + ((0.001 * ((((1.0 / (1.0 + exp((var_chaste_interface__membrane__V + 50.670000000000002) * 0.036523009495982472))) + 0.66600000000000004) * 0.60024009603841544) / var_Ca_independent_transient_outward_K_current_s3_gate__tau_s3)) * var_chaste_interface__environment__dt)) / (1.0 - ((0.001 * ( -1.0 / var_Ca_independent_transient_outward_K_current_s3_gate__tau_s3)) * var_chaste_interface__environment__dt));
        rY[4] = (var_chaste_interface__L_type_Ca_channel_d_L_gate__d_L + ((0.001 * ((1.0 / (1.0 + exp((var_L_type_Ca_channel_d_L_gate__E10 + 0.94999999999999996) *  -0.15151515151515152))) / var_L_type_Ca_channel_d_L_gate__tau_d_L)) * var_chaste_interface__environment__dt)) / (1.0 - ((0.001 * ( -1.0 / var_L_type_Ca_channel_d_L_gate__tau_d_L)) * var_chaste_interface__environment__dt));
        rY[5] = (var_chaste_interface__L_type_Ca_channel_f_L_gate__f_L + ((0.001 * ((var_L_type_Ca_channel_f_L_gate__alpha_f_L / (var_L_type_Ca_channel_f_L_gate__alpha_f_L + var_L_type_Ca_channel_f_L_gate__beta_f_L)) / var_L_type_Ca_channel_f_L_gate__tau_f_L)) * var_chaste_interface__environment__dt)) / (1.0 - ((0.001 * ( -1.0 / var_L_type_Ca_channel_f_L_gate__tau_f_L)) * var_chaste_interface__environment__dt));
        rY[6] = (var_chaste_interface__T_type_Ca_channel_d_T_gate__d_T + ((0.001 * ((1.0 / (1.0 + exp((var_T_type_Ca_channel_d_T_gate__E0_d_T - 0.29999999999999999) *  -0.16393442622950821))) / var_T_type_Ca_channel_d_T_gate__tau_d_T)) * var_chaste_interface__environment__dt)) / (1.0 - ((0.001 * ( -1.0 / var_T_type_Ca_channel_d_T_gate__tau_d_T)) * var_chaste_interface__environment__dt));
        rY[7] = (var_chaste_interface__T_type_Ca_channel_f_T_gate__f_T + ((0.001 * ((var_T_type_Ca_channel_f_T_gate__alpha_f_T / (var_T_type_Ca_channel_f_T_gate__alpha_f_T + var_T_type_Ca_channel_f_T_gate__beta_f_T)) / var_T_type_Ca_channel_f_T_gate__tau_f_T)) * var_chaste_interface__environment__dt)) / (1.0 - ((0.001 * ( -1.0 / var_T_type_Ca_channel_f_T_gate__tau_f_T)) * var_chaste_interface__environment__dt));
        rY[13] = (var_chaste_interface__delayed_rectifier_K_current_pa_gate__p_a + ((0.001 * ((1.0 / (1.0 + exp((var_chaste_interface__membrane__V + 5.0999999999999996) *  -0.13513513513513511))) / var_delayed_rectifier_K_current_pa_gate__tau_p_a)) * var_chaste_interface__environment__dt)) / (1.0 - ((0.001 * ( -1.0 / var_delayed_rectifier_K_current_pa_gate__tau_p_a)) * var_chaste_interface__environment__dt));
        rY[14] = (var_chaste_interface__delayed_rectifier_K_current_pi_gate__p_i + ((0.001 * ((1.0 / (1.0 + exp((var_chaste_interface__membrane__V + 47.392099999999999) * 0.05358970648917756))) / var_delayed_rectifier_K_current_pi_gate__tau_p_i)) * var_chaste_interface__environment__dt)) / (1.0 - ((0.001 * ( -1.0 / var_delayed_rectifier_K_current_pi_gate__tau_p_i)) * var_chaste_interface__environment__dt));
        rY[12] = (var_chaste_interface__delayed_rectifier_K_current_z_gate__z + ((0.001 * ((1.0 / (1.0 + exp((var_chaste_interface__membrane__V - 0.90000000000000002) *  -0.072463768115942032))) / var_delayed_rectifier_K_current_z_gate__tau_z)) * var_chaste_interface__environment__dt)) / (1.0 - ((0.001 * ( -1.0 / var_delayed_rectifier_K_current_z_gate__tau_z)) * var_chaste_interface__environment__dt));
        rY[2] = (var_chaste_interface__sodium_current_h1_gate__h1 + ((0.001 * (var_sodium_current_h1_gate__h_infinity / var_sodium_current_h1_gate__tau_h1)) * var_chaste_interface__environment__dt)) / (1.0 - ((0.001 * ( -1.0 / var_sodium_current_h1_gate__tau_h1)) * var_chaste_interface__environment__dt));
        rY[3] = (var_chaste_interface__sodium_current_h2_gate__h2 + ((0.001 * (var_sodium_current_h1_gate__h_infinity / var_sodium_current_h2_gate__tau_h2)) * var_chaste_interface__environment__dt)) / (1.0 - ((0.001 * ( -1.0 / var_sodium_current_h2_gate__tau_h2)) * var_chaste_interface__environment__dt));
        rY[1] = (var_chaste_interface__sodium_current_m_gate__m + ((0.001 * (var_sodium_current_m_gate__alpha_m * 1.0)) * var_chaste_interface__environment__dt)) / (1.0 - ((0.001 * ((var_sodium_current_m_gate__alpha_m *  -1.0) - ((18400.0 * exp(var_sodium_current_m_gate__E0_m *  -0.078907914463820727)) * 1.0))) * var_chaste_interface__environment__dt));
        
        double _guess[14] = {rY[23],rY[24],rY[26],rY[27],rY[28],rY[25],rY[22],rY[18],rY[19],rY[20],rY[21],rY[16],rY[17],rY[15]};
        CardiacNewtonSolver<14,Dynamicaslanidi_model_2009FromCellMLBackwardEuler>* _p_solver = CardiacNewtonSolver<14,Dynamicaslanidi_model_2009FromCellMLBackwardEuler>::Instance();
        _p_solver->Solve(*this, var_chaste_interface__environment__time, _guess);
        rY[23] = _guess[0];
        rY[24] = _guess[1];
        rY[26] = _guess[2];
        rY[27] = _guess[3];
        rY[28] = _guess[4];
        rY[25] = _guess[5];
        rY[22] = _guess[6];
        rY[18] = _guess[7];
        rY[19] = _guess[8];
        rY[20] = _guess[9];
        rY[21] = _guess[10];
        rY[16] = _guess[11];
        rY[17] = _guess[12];
        rY[15] = _guess[13];
    }
    
template<>
void OdeSystemInformation<Dynamicaslanidi_model_2009FromCellMLBackwardEuler>::Initialise(void)
{
    this->mSystemName = "aslanidi_model_2009";
    this->mFreeVariableName = "environment__time";
    this->mFreeVariableUnits = "millisecond";
    
    // rY[0]:
    this->mVariableNames.push_back("membrane_voltage");
    this->mVariableUnits.push_back("millivolt");
    this->mInitialConditions.push_back(-80);

    // rY[1]:
    this->mVariableNames.push_back("sodium_current_m_gate__m");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.01309);

    // rY[2]:
    this->mVariableNames.push_back("sodium_current_h1_gate__h1");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.706);

    // rY[3]:
    this->mVariableNames.push_back("sodium_current_h2_gate__h2");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.61493);

    // rY[4]:
    this->mVariableNames.push_back("L_type_Ca_channel_d_L_gate__d_L");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.00003);

    // rY[5]:
    this->mVariableNames.push_back("L_type_Ca_channel_f_L_gate__f_L");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.99981);

    // rY[6]:
    this->mVariableNames.push_back("T_type_Ca_channel_d_T_gate__d_T");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.00046);

    // rY[7]:
    this->mVariableNames.push_back("T_type_Ca_channel_f_T_gate__f_T");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.30752);

    // rY[8]:
    this->mVariableNames.push_back("Ca_independent_transient_outward_K_current_r_gate__r");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.00006);

    // rY[9]:
    this->mVariableNames.push_back("Ca_independent_transient_outward_K_current_s1_gate__s1");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.5753);

    // rY[10]:
    this->mVariableNames.push_back("Ca_independent_transient_outward_K_current_s2_gate__s2");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.39871);

    // rY[11]:
    this->mVariableNames.push_back("Ca_independent_transient_outward_K_current_s3_gate__s3");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.57363);

    // rY[12]:
    this->mVariableNames.push_back("delayed_rectifier_K_current_z_gate__z");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.02032);

    // rY[13]:
    this->mVariableNames.push_back("delayed_rectifier_K_current_pa_gate__p_a");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.00016);

    // rY[14]:
    this->mVariableNames.push_back("delayed_rectifier_K_current_pi_gate__p_i");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.76898);

    // rY[15]:
    this->mVariableNames.push_back("intracellular_ion_concentrations__Na_i");
    this->mVariableUnits.push_back("millimolar");
    this->mInitialConditions.push_back(8.4);

    // rY[16]:
    this->mVariableNames.push_back("intracellular_ion_concentrations__Ca_i");
    this->mVariableUnits.push_back("millimolar");
    this->mInitialConditions.push_back(0.000071);

    // rY[17]:
    this->mVariableNames.push_back("intracellular_ion_concentrations__K_i");
    this->mVariableUnits.push_back("millimolar");
    this->mInitialConditions.push_back(100);

    // rY[18]:
    this->mVariableNames.push_back("intracellular_Ca_buffering__O_C");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.029108);

    // rY[19]:
    this->mVariableNames.push_back("intracellular_Ca_buffering__O_TC");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.014071);

    // rY[20]:
    this->mVariableNames.push_back("intracellular_Ca_buffering__O_TMgC");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.214036);

    // rY[21]:
    this->mVariableNames.push_back("intracellular_Ca_buffering__O_TMgMg");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.693565);

    // rY[22]:
    this->mVariableNames.push_back("cleft_space_ion_concentrations__K_c");
    this->mVariableUnits.push_back("millimolar");
    this->mInitialConditions.push_back(5);

    // rY[23]:
    this->mVariableNames.push_back("Ca_handling_by_the_SR__Ca_rel");
    this->mVariableUnits.push_back("millimolar");
    this->mInitialConditions.push_back(0.726776);

    // rY[24]:
    this->mVariableNames.push_back("Ca_handling_by_the_SR__Ca_up");
    this->mVariableUnits.push_back("millimolar");
    this->mInitialConditions.push_back(0.730866);

    // rY[25]:
    this->mVariableNames.push_back("Ca_handling_by_the_SR__O_Calse");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.465921);

    // rY[26]:
    this->mVariableNames.push_back("Ca_handling_by_the_SR__F1");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.288039);

    // rY[27]:
    this->mVariableNames.push_back("Ca_handling_by_the_SR__F2");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.002262);

    // rY[28]:
    this->mVariableNames.push_back("Ca_handling_by_the_SR__F3");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.612697);

    this->mInitialised = true;
}


// Serialization for Boost >= 1.36
#include "SerializationExportWrapperForCpp.hpp"
CHASTE_CLASS_EXPORT(Dynamicaslanidi_model_2009FromCellMLBackwardEuler)
extern "C"
{
    AbstractCardiacCellInterface* MakeCardiacCell(
            boost::shared_ptr<AbstractIvpOdeSolver> pSolver,
            boost::shared_ptr<AbstractStimulusFunction> pStimulus)
    {
        return new Dynamicaslanidi_model_2009FromCellMLBackwardEuler(pSolver, pStimulus);
    }
    
}

