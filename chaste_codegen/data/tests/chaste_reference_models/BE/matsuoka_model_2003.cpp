//! @file
//! 
//! This source file was generated from CellML.
//! 
//! Model: matsuoka_model_2003
//! 
//! Processed by pycml - CellML Tools in Python
//!     (translators: , pycml: , optimize: )
//! on Wed Mar 11 16:50:47 2020
//! 
//! <autogenerated>

#include "matsuoka_model_2003.hpp"
#include <cmath>
#include <cassert>
#include <memory>
#include "CardiacNewtonSolver.hpp"
#include "Exception.hpp"
#include "OdeSystemInformation.hpp"
#include "RegularStimulus.hpp"
#include "HeartConfig.hpp"
#include "IsNan.hpp"
#include "MathsCustomFunctions.hpp"

    boost::shared_ptr<RegularStimulus> Dynamicmatsuoka_model_2003FromCellMLBackwardEuler::UseCellMLDefaultStimulus()
    {
        // Use the default stimulus specified by CellML metadata
        const double var_membrane__Cm = 132.0; // picoF
        const double var_chaste_interface__membrane__stim_start = 50.0; // millisecond
        const double var_chaste_interface__membrane__stim_period = 400.0; // millisecond
        const double var_chaste_interface__membrane__stim_duration = 2.0; // millisecond
        const double var_chaste_interface__membrane__stim_amplitude = ( -4000.0 / var_membrane__Cm) * HeartConfig::Instance()->GetCapacitance(); // uA_per_cm2
        boost::shared_ptr<RegularStimulus> p_cellml_stim(new RegularStimulus(
                -fabs(var_chaste_interface__membrane__stim_amplitude),
                var_chaste_interface__membrane__stim_duration,
                var_chaste_interface__membrane__stim_period,
                var_chaste_interface__membrane__stim_start
                ));
        mpIntracellularStimulus = p_cellml_stim;
        return p_cellml_stim;
    }
    
    Dynamicmatsuoka_model_2003FromCellMLBackwardEuler::Dynamicmatsuoka_model_2003FromCellMLBackwardEuler(boost::shared_ptr<AbstractIvpOdeSolver> /* unused; should be empty */, boost::shared_ptr<AbstractStimulusFunction> pIntracellularStimulus)
        : AbstractBackwardEulerCardiacCell<25>(
                37,
                0,
                pIntracellularStimulus)
    {
        // Time units: millisecond
        // 
        this->mpSystemInfo = OdeSystemInformation<Dynamicmatsuoka_model_2003FromCellMLBackwardEuler>::Instance();
        Init();

        // We have a default stimulus specified in the CellML file metadata
        this->mHasDefaultStimulusFromCellML = true;
    }
    
    Dynamicmatsuoka_model_2003FromCellMLBackwardEuler::~Dynamicmatsuoka_model_2003FromCellMLBackwardEuler()
    {
    }
    
    double Dynamicmatsuoka_model_2003FromCellMLBackwardEuler::GetIIonic(const std::vector<double>* pStateVariables)
    {
        // For state variable interpolation (SVI) we read in interpolated state variables,
        // otherwise for ionic current interpolation (ICI) we use the state variables of this model (node).
        if (!pStateVariables) pStateVariables = &rGetStateVariables();
        const std::vector<double>& rY = *pStateVariables;
        double var_chaste_interface__membrane__Vm = (mSetVoltageDerivativeToZero ? this->mFixedVoltage : rY[0]);
        // Units: millivolt; Initial value: -85.95752434460744
        double var_chaste_interface__internal_ion_concentrations__Nai = rY[1];
        // Units: millimolar; Initial value: 4.925761439682025
        double var_chaste_interface__internal_ion_concentrations__Ki = rY[2];
        // Units: millimolar; Initial value: 143.1837333000449
        double var_chaste_interface__internal_ion_concentrations__Ca_Total = rY[3];
        // Units: millimolar; Initial value: 4.0180173572968586e-4
        double var_chaste_interface__ATP_production__ATPi = rY[4];
        // Units: millimolar; Initial value: 4.657102729020499
        double var_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na = rY[5];
        // Units: dimensionless; Initial value: 1.779648367445368e-5
        double var_chaste_interface__sodium_current_ultra_slow_gate__y = rY[8];
        // Units: dimensionless; Initial value: 0.5861887862983165
        double var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL = rY[9];
        // Units: dimensionless; Initial value: 1.5445004166497696e-6
        double var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_U = rY[12];
        // Units: dimensionless; Initial value: 0.17246483915629204
        double var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_UCa = rY[13];
        // Units: dimensionless; Initial value: 6.098246017787626e-5
        double var_chaste_interface__L_type_Ca_channel_ultra_slow_gate__y = rY[15];
        // Units: dimensionless; Initial value: 0.9985266538252986
        double var_chaste_interface__T_type_Ca_channel_y1_gate__y1 = rY[16];
        // Units: dimensionless; Initial value: 1.6882718240109127e-5
        double var_chaste_interface__T_type_Ca_channel_y2_gate__y2 = rY[17];
        // Units: dimensionless; Initial value: 0.8585352091865849
        double var_chaste_interface__time_independent_potassium_current_y_gate__y = rY[18];
        // Units: dimensionless; Initial value: 0.6080573900752752
        double var_chaste_interface__rapid_time_dependent_potassium_current_y1_gate__y1 = rY[19];
        // Units: dimensionless; Initial value: 0.0018339931180983765
        double var_chaste_interface__rapid_time_dependent_potassium_current_y2_gate__y2 = rY[20];
        // Units: dimensionless; Initial value: 0.20443083454225305
        double var_chaste_interface__rapid_time_dependent_potassium_current_y3_gate__y3 = rY[21];
        // Units: dimensionless; Initial value: 0.967887666264921
        double var_chaste_interface__slow_time_dependent_potassium_current_y1_gate__y1 = rY[22];
        // Units: dimensionless; Initial value: 0.09738789658609195
        double var_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2 = rY[23];
        // Units: dimensionless; Initial value: 0.09745345578743213
        double var_chaste_interface__transient_outward_current_y1_gate__y1 = rY[24];
        // Units: dimensionless; Initial value: 7.956883250874798e-4
        double var_chaste_interface__transient_outward_current_y2_gate__y2 = rY[25];
        // Units: dimensionless; Initial value: 0.9999125083105881
        double var_chaste_interface__sodium_calcium_exchanger_y_gate__y = rY[26];
        // Units: dimensionless; Initial value: 0.9891789193465331
        double var_chaste_interface__sodium_potassium_pump_y_gate__y = rY[27];
        // Units: dimensionless; Initial value: 0.5910747147428818
        
        const double var_membrane__Cm = 132.0; // picoF
        const double var_constant_field_equations__CF_Na = (var_chaste_interface__membrane__Vm == 0.0) ?  -140.0 : ((((96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715) * (var_chaste_interface__internal_ion_concentrations__Nai - (140.0 * exp(( -96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715)))) / (1.0 - exp(( -96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715))); // millimolar
        const double var_sodium_current__i_Na_Na = 2860.0 * var_constant_field_equations__CF_Na * var_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na * var_chaste_interface__sodium_current_ultra_slow_gate__y; // picoA
        const double var_constant_field_equations__CF_K = (var_chaste_interface__membrane__Vm == 0.0) ? var_chaste_interface__internal_ion_concentrations__Ki : ((((96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715) * (var_chaste_interface__internal_ion_concentrations__Ki - (5.4000000000000004 * exp(( -96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715)))) / (1.0 - exp(( -96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715))); // millimolar
        const double var_sodium_current__i_Na_K = var_constant_field_equations__CF_K * var_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na * var_chaste_interface__sodium_current_ultra_slow_gate__y * 286.0; // picoA
        const double var_internal_ion_concentrations__b1 = (0.050000000000000003 - var_chaste_interface__internal_ion_concentrations__Ca_Total) + 0.0023800000000000002; // millimolar
        const double var_internal_ion_concentrations__Cai = (sqrt(pow(var_internal_ion_concentrations__b1, 2.0) + (4.0 * (0.0023800000000000002 * var_chaste_interface__internal_ion_concentrations__Ca_Total))) - var_internal_ion_concentrations__b1) * 0.5; // millimolar
        const double var_constant_field_equations__CF_Ca = (var_chaste_interface__membrane__Vm == 0.0) ?  -1.8 : ((((var_chaste_interface__membrane__Vm * 192.9734) * 0.0003879829271992715) * (var_internal_ion_concentrations__Cai - (1.8 * exp((var_chaste_interface__membrane__Vm *  -192.9734) * 0.0003879829271992715)))) / (1.0 - exp((var_chaste_interface__membrane__Vm *  -192.9734) * 0.0003879829271992715))); // millimolar
        const double var_L_type_Ca_channel__p_open_CaL = (var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL * (var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_U + var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_UCa) * var_chaste_interface__L_type_Ca_channel_ultra_slow_gate__y) / (1.0 + pow(1.3999999999999999 / var_chaste_interface__ATP_production__ATPi, 3.0)); // dimensionless
        const double var_L_type_Ca_channel__i_CaL_Ca = 8712.0 * var_constant_field_equations__CF_Ca * var_L_type_Ca_channel__p_open_CaL; // picoA
        const double var_L_type_Ca_channel__i_CaL_Na = var_constant_field_equations__CF_Na * var_L_type_Ca_channel__p_open_CaL * 0.16117199999999998; // picoA
        const double var_L_type_Ca_channel__i_CaL_K = var_constant_field_equations__CF_K * var_L_type_Ca_channel__p_open_CaL * 3.1798799999999998; // picoA
        const double var_time_independent_potassium_current__E_K = 26.71283192398538 * log(5.4000000000000004 / var_chaste_interface__internal_ion_concentrations__Ki); // millivolt
        const double var_rapid_time_dependent_potassium_current__i_Kr = (var_membrane__Cm * 0.0086400000000000001) * (var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) * ((0.59999999999999998 * var_chaste_interface__rapid_time_dependent_potassium_current_y1_gate__y1) + (0.40000000000000002 * var_chaste_interface__rapid_time_dependent_potassium_current_y2_gate__y2)) * var_chaste_interface__rapid_time_dependent_potassium_current_y3_gate__y3; // picoA
        const double var_sodium_calcium_exchanger__p_E1Na = 1.0 / (1.0 + (pow(8.75 / var_chaste_interface__internal_ion_concentrations__Nai, 3.0) * (1.0 + (var_internal_ion_concentrations__Cai * 724.63768115942037)))); // dimensionless
        const double var_sodium_calcium_exchanger__k2 = 1.0 * exp((var_chaste_interface__membrane__Vm *  -65.610955999999987) * 0.0003879829271992715); // per_millisecond
        const double var_sodium_calcium_exchanger__k1 = 1.0 * exp((var_chaste_interface__membrane__Vm * 30.875744000000001) * 0.0003879829271992715); // per_millisecond
        const double var_sodium_calcium_exchanger__i_NaCa = var_membrane__Cm * ((var_sodium_calcium_exchanger__k1 * var_sodium_calcium_exchanger__p_E1Na * var_chaste_interface__sodium_calcium_exchanger_y_gate__y) - (var_sodium_calcium_exchanger__k2 * 0.63996521928156069 * (1.0 - var_chaste_interface__sodium_calcium_exchanger_y_gate__y))) * 6.8099999999999996; // picoA
        const double var_sodium_potassium_pump__Nao_Eff = 140.0 * exp((var_chaste_interface__membrane__Vm *  -79.11909399999999) * 0.0003879829271992715); // millimolar
        const double var_sodium_potassium_pump__p_E2Na = 1.0 / (1.0 + (pow(69.799999999999997 / var_sodium_potassium_pump__Nao_Eff, 1.0600000000000001) * 31.148585460707125)); // dimensionless
        const double var_sodium_potassium_pump__p_E1Na = 1.0 / (1.0 + (pow(4.0499999999999998 / var_chaste_interface__internal_ion_concentrations__Nai, 1.0600000000000001) * (1.0 + pow(var_chaste_interface__internal_ion_concentrations__Ki * 0.030413625304136251, 1.1200000000000001)))); // dimensionless
        const double var_sodium_potassium_pump__k1 = 0.37 / (1.0 + (0.094 / var_chaste_interface__ATP_production__ATPi)); // per_millisecond
        const double var_sodium_potassium_pump__i_NaK = var_membrane__Cm * ((var_sodium_potassium_pump__k1 * var_sodium_potassium_pump__p_E1Na * var_chaste_interface__sodium_potassium_pump_y_gate__y) - (0.040000000000000001 * var_sodium_potassium_pump__p_E2Na * (1.0 - var_chaste_interface__sodium_potassium_pump_y_gate__y))) * 21.0; // picoA
        const double var_background_Kpl_current__i_Kpl = (var_chaste_interface__membrane__Vm ==  -3.0) ? (var_constant_field_equations__CF_K * 0.0014308470000000001) : ((0.00011 * var_constant_field_equations__CF_K * (var_chaste_interface__membrane__Vm + 3.0)) / (1.0 - exp((-(var_chaste_interface__membrane__Vm + 3.0)) * 0.076923076923076927))); // picoA
        const double var_background_lCa_current__p_open = 1.0 / (1.0 + pow(0.0011999999999999999 / var_internal_ion_concentrations__Cai, 3.0)); // dimensionless
        const double var_background_lCa_current__i_lCa_Na = 0.11 * var_constant_field_equations__CF_Na * var_background_lCa_current__p_open; // picoA
        const double var_background_lCa_current__i_lCa_K = 0.11 * var_constant_field_equations__CF_K * var_background_lCa_current__p_open; // picoA
        const double var_background_KATP_current__i_KATP = 82.527985493953864 * (var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) * (0.80000000000000004 / (1.0 + pow(var_chaste_interface__ATP_production__ATPi * 10.0, 2.0))); // picoA
        const double var_background_Cab_current__i_Cab = 0.040000000000000001 * var_constant_field_equations__CF_Ca; // picoA
        const double var_background_NSC_current__i_bNSC_K = var_constant_field_equations__CF_K * 0.15400000000000003; // picoA
        const double var_background_NSC_current__i_bNSC_Na = 0.38500000000000001 * var_constant_field_equations__CF_Na; // picoA
        const double var_T_type_Ca_channel__i_Ca_T = 612.0 * var_constant_field_equations__CF_Ca * var_chaste_interface__T_type_Ca_channel_y1_gate__y1 * var_chaste_interface__T_type_Ca_channel_y2_gate__y2; // picoA
        const double var_transient_outward_current__i_to_Na = 0.00297 * var_constant_field_equations__CF_Na * pow(var_chaste_interface__transient_outward_current_y1_gate__y1, 3.0) * var_chaste_interface__transient_outward_current_y2_gate__y2; // picoA
        const double var_transient_outward_current__i_to_K = 0.033000000000000002 * var_constant_field_equations__CF_K * pow(var_chaste_interface__transient_outward_current_y1_gate__y1, 3.0) * var_chaste_interface__transient_outward_current_y2_gate__y2; // picoA
        const double var_slow_time_dependent_potassium_current__i_Ks_Na = 0.2016 * var_constant_field_equations__CF_Na * pow(var_chaste_interface__slow_time_dependent_potassium_current_y1_gate__y1, 2.0) * ((0.90000000000000002 * var_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2) + 0.10000000000000001); // picoA
        const double var_slow_time_dependent_potassium_current__i_Ks_K = 5.04 * var_constant_field_equations__CF_K * pow(var_chaste_interface__slow_time_dependent_potassium_current_y1_gate__y1, 2.0) * ((0.90000000000000002 * var_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2) + 0.10000000000000001); // picoA
        const double var_time_independent_potassium_current__mu = (0.75 * exp(0.035000000000000003 * ((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 10.0))) / (1.0 + exp(0.014999999999999999 * ((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 140.0))); // per_millisecond
        const double var_time_independent_potassium_current__lambda = (3.0 * exp( -0.048000000000000001 * ((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 10.0)) * (1.0 + exp(0.064000000000000001 * ((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 38.0)))) / (1.0 + exp(0.029999999999999999 * ((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 70.0))); // per_millisecond
        const double var_time_independent_potassium_current__fO = var_time_independent_potassium_current__lambda / (var_time_independent_potassium_current__mu + var_time_independent_potassium_current__lambda); // dimensionless
        const double var_time_independent_potassium_current__fB = var_time_independent_potassium_current__mu / (var_time_independent_potassium_current__mu + var_time_independent_potassium_current__lambda); // dimensionless
        const double var_time_independent_potassium_current__i_K1 = (var_membrane__Cm * 1.1459999999999999) * (var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) * (pow(var_time_independent_potassium_current__fO, 4.0) + (2.6666666666666665 * pow(var_time_independent_potassium_current__fO, 3.0) * var_time_independent_potassium_current__fB) + (2.0 * pow(var_time_independent_potassium_current__fO, 2.0) * pow(var_time_independent_potassium_current__fB, 2.0))) * var_chaste_interface__time_independent_potassium_current_y_gate__y; // picoA
        const double var_membrane__i_tot = (var_sodium_current__i_Na_Na + var_sodium_current__i_Na_K) + (var_L_type_Ca_channel__i_CaL_Na + var_L_type_Ca_channel__i_CaL_Ca + var_L_type_Ca_channel__i_CaL_K) + var_T_type_Ca_channel__i_Ca_T + var_time_independent_potassium_current__i_K1 + var_rapid_time_dependent_potassium_current__i_Kr + (var_slow_time_dependent_potassium_current__i_Ks_Na + var_slow_time_dependent_potassium_current__i_Ks_K) + (var_transient_outward_current__i_to_Na + var_transient_outward_current__i_to_K) + ((var_background_NSC_current__i_bNSC_K + var_background_NSC_current__i_bNSC_Na) + var_background_Cab_current__i_Cab + var_background_Kpl_current__i_Kpl + (var_background_lCa_current__i_lCa_K + var_background_lCa_current__i_lCa_Na) + var_background_KATP_current__i_KATP) + var_sodium_potassium_pump__i_NaK + var_sodium_calcium_exchanger__i_NaCa; // picoA
        const double var_chaste_interface__i_ionic = ((var_membrane__i_tot) / var_membrane__Cm) * HeartConfig::Instance()->GetCapacitance(); // uA_per_cm2
        
        const double i_ionic = var_chaste_interface__i_ionic;
        EXCEPT_IF_NOT(!std::isnan(i_ionic));
        return i_ionic;
    }
    
    void Dynamicmatsuoka_model_2003FromCellMLBackwardEuler::ComputeResidual(double var_chaste_interface__environment__time, const double rCurrentGuess[25], double rResidual[25])
    {
        std::vector<double>& rY = rGetStateVariables();
        double var_chaste_interface__membrane__Vm = (mSetVoltageDerivativeToZero ? this->mFixedVoltage : rY[0]);
        // Units: millivolt; Initial value: -85.95752434460744
        double var_chaste_interface__sodium_current_ultra_slow_gate__y = rY[8];
        // Units: dimensionless; Initial value: 0.5861887862983165
        double var_chaste_interface__L_type_Ca_channel_ultra_slow_gate__y = rY[15];
        // Units: dimensionless; Initial value: 0.9985266538252986
        double var_chaste_interface__T_type_Ca_channel_y1_gate__y1 = rY[16];
        // Units: dimensionless; Initial value: 1.6882718240109127e-5
        double var_chaste_interface__T_type_Ca_channel_y2_gate__y2 = rY[17];
        // Units: dimensionless; Initial value: 0.8585352091865849
        double var_chaste_interface__rapid_time_dependent_potassium_current_y1_gate__y1 = rY[19];
        // Units: dimensionless; Initial value: 0.0018339931180983765
        double var_chaste_interface__rapid_time_dependent_potassium_current_y2_gate__y2 = rY[20];
        // Units: dimensionless; Initial value: 0.20443083454225305
        double var_chaste_interface__rapid_time_dependent_potassium_current_y3_gate__y3 = rY[21];
        // Units: dimensionless; Initial value: 0.967887666264921
        double var_chaste_interface__slow_time_dependent_potassium_current_y1_gate__y1 = rY[22];
        // Units: dimensionless; Initial value: 0.09738789658609195
        double var_chaste_interface__transient_outward_current_y1_gate__y1 = rY[24];
        // Units: dimensionless; Initial value: 7.956883250874798e-4
        double var_chaste_interface__transient_outward_current_y2_gate__y2 = rY[25];
        // Units: dimensionless; Initial value: 0.9999125083105881
        double var_chaste_interface__NL_model__X = rY[36];
        // Units: micrometre; Initial value: 0.9573749975411884
        
        //output_nonlinear_state_assignments
        double var_chaste_interface__ATP_production__ATPi = rCurrentGuess[0];
        double var_chaste_interface__Ca_concentrations_in_SR__Ca_Total = rCurrentGuess[1];
        double var_chaste_interface__Ca_concentrations_in_SR__Caup = rCurrentGuess[2];
        double var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_C = rCurrentGuess[3];
        double var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_U = rCurrentGuess[4];
        double var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_UCa = rCurrentGuess[5];
        double var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AI_CaL = rCurrentGuess[6];
        double var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL = rCurrentGuess[7];
        double var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_RP_CaL = rCurrentGuess[8];
        double var_chaste_interface__NL_model__pCB = rCurrentGuess[9];
        double var_chaste_interface__NL_model__pCa = rCurrentGuess[10];
        double var_chaste_interface__NL_model__pCaCB = rCurrentGuess[11];
        double var_chaste_interface__RyR_channel__p_close_RyR = rCurrentGuess[12];
        double var_chaste_interface__RyR_channel__p_open_RyR = rCurrentGuess[13];
        double var_chaste_interface__SR_calcium_pump_y_gate__y = rCurrentGuess[14];
        double var_chaste_interface__internal_ion_concentrations__Ca_Total = rCurrentGuess[15];
        double var_chaste_interface__internal_ion_concentrations__Ki = rCurrentGuess[16];
        double var_chaste_interface__internal_ion_concentrations__Nai = rCurrentGuess[17];
        double var_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2 = rCurrentGuess[18];
        double var_chaste_interface__sodium_calcium_exchanger_y_gate__y = rCurrentGuess[19];
        double var_chaste_interface__sodium_current_voltage_dependent_gate__p_AI_Na = rCurrentGuess[20];
        double var_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na = rCurrentGuess[21];
        double var_chaste_interface__sodium_current_voltage_dependent_gate__p_RP_Na = rCurrentGuess[22];
        double var_chaste_interface__sodium_potassium_pump_y_gate__y = rCurrentGuess[23];
        double var_chaste_interface__time_independent_potassium_current_y_gate__y = rCurrentGuess[24];
        
        //output_equations
        const double var_membrane__Cm = 132.0; // picoF
        const double var_chaste_interface__membrane__i_ext = GetIntracellularAreaStimulus(var_chaste_interface__environment__time);
        const double var_constant_field_equations__CF_Na = (var_chaste_interface__membrane__Vm == 0.0) ?  -140.0 : ((((96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715) * (var_chaste_interface__internal_ion_concentrations__Nai - (140.0 * exp(( -96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715)))) / (1.0 - exp(( -96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715))); // millimolar
        const double var_sodium_current__i_Na_Na = 2860.0 * var_constant_field_equations__CF_Na * var_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na * var_chaste_interface__sodium_current_ultra_slow_gate__y; // picoA
        const double var_constant_field_equations__CF_K = (var_chaste_interface__membrane__Vm == 0.0) ? var_chaste_interface__internal_ion_concentrations__Ki : ((((96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715) * (var_chaste_interface__internal_ion_concentrations__Ki - (5.4000000000000004 * exp(( -96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715)))) / (1.0 - exp(( -96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715))); // millimolar
        const double var_sodium_current__i_Na_K = var_constant_field_equations__CF_K * var_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na * var_chaste_interface__sodium_current_ultra_slow_gate__y * 286.0; // picoA
        const double var_internal_ion_concentrations__b1 = (0.050000000000000003 - var_chaste_interface__internal_ion_concentrations__Ca_Total) + 0.0023800000000000002; // millimolar
        const double var_internal_ion_concentrations__Cai = (sqrt(pow(var_internal_ion_concentrations__b1, 2.0) + (4.0 * (0.0023800000000000002 * var_chaste_interface__internal_ion_concentrations__Ca_Total))) - var_internal_ion_concentrations__b1) * 0.5; // millimolar
        const double var_constant_field_equations__CF_Ca = (var_chaste_interface__membrane__Vm == 0.0) ?  -1.8 : ((((var_chaste_interface__membrane__Vm * 192.9734) * 0.0003879829271992715) * (var_internal_ion_concentrations__Cai - (1.8 * exp((var_chaste_interface__membrane__Vm *  -192.9734) * 0.0003879829271992715)))) / (1.0 - exp((var_chaste_interface__membrane__Vm *  -192.9734) * 0.0003879829271992715))); // millimolar
        const double var_L_type_Ca_channel__p_open_CaL = (var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL * (var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_U + var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_UCa) * var_chaste_interface__L_type_Ca_channel_ultra_slow_gate__y) / (1.0 + pow(1.3999999999999999 / var_chaste_interface__ATP_production__ATPi, 3.0)); // dimensionless
        const double var_L_type_Ca_channel__i_CaL_Ca = 8712.0 * var_constant_field_equations__CF_Ca * var_L_type_Ca_channel__p_open_CaL; // picoA
        const double var_L_type_Ca_channel__i_CaL_Na = var_constant_field_equations__CF_Na * var_L_type_Ca_channel__p_open_CaL * 0.16117199999999998; // picoA
        const double var_L_type_Ca_channel__i_CaL_K = var_constant_field_equations__CF_K * var_L_type_Ca_channel__p_open_CaL * 3.1798799999999998; // picoA
        const double var_time_independent_potassium_current__E_K = 26.71283192398538 * log(5.4000000000000004 / var_chaste_interface__internal_ion_concentrations__Ki); // millivolt
        const double var_rapid_time_dependent_potassium_current__i_Kr = (var_membrane__Cm * 0.0086400000000000001) * (var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) * ((0.59999999999999998 * var_chaste_interface__rapid_time_dependent_potassium_current_y1_gate__y1) + (0.40000000000000002 * var_chaste_interface__rapid_time_dependent_potassium_current_y2_gate__y2)) * var_chaste_interface__rapid_time_dependent_potassium_current_y3_gate__y3; // picoA
        const double var_sodium_calcium_exchanger__p_E1Na = 1.0 / (1.0 + (pow(8.75 / var_chaste_interface__internal_ion_concentrations__Nai, 3.0) * (1.0 + (var_internal_ion_concentrations__Cai * 724.63768115942037)))); // dimensionless
        const double var_sodium_calcium_exchanger__k2 = 1.0 * exp((var_chaste_interface__membrane__Vm *  -65.610955999999987) * 0.0003879829271992715); // per_millisecond
        const double var_sodium_calcium_exchanger__k1 = 1.0 * exp((var_chaste_interface__membrane__Vm * 30.875744000000001) * 0.0003879829271992715); // per_millisecond
        const double var_sodium_calcium_exchanger__i_NaCa = var_membrane__Cm * ((var_sodium_calcium_exchanger__k1 * var_sodium_calcium_exchanger__p_E1Na * var_chaste_interface__sodium_calcium_exchanger_y_gate__y) - (var_sodium_calcium_exchanger__k2 * 0.63996521928156069 * (1.0 - var_chaste_interface__sodium_calcium_exchanger_y_gate__y))) * 6.8099999999999996; // picoA
        const double var_sodium_potassium_pump__Nao_Eff = 140.0 * exp((var_chaste_interface__membrane__Vm *  -79.11909399999999) * 0.0003879829271992715); // millimolar
        const double var_sodium_potassium_pump__p_E2Na = 1.0 / (1.0 + (pow(69.799999999999997 / var_sodium_potassium_pump__Nao_Eff, 1.0600000000000001) * 31.148585460707125)); // dimensionless
        const double var_sodium_potassium_pump__p_E1Na = 1.0 / (1.0 + (pow(4.0499999999999998 / var_chaste_interface__internal_ion_concentrations__Nai, 1.0600000000000001) * (1.0 + pow(var_chaste_interface__internal_ion_concentrations__Ki * 0.030413625304136251, 1.1200000000000001)))); // dimensionless
        const double var_sodium_potassium_pump__k1 = 0.37 / (1.0 + (0.094 / var_chaste_interface__ATP_production__ATPi)); // per_millisecond
        const double var_sodium_potassium_pump__i_NaK = var_membrane__Cm * ((var_sodium_potassium_pump__k1 * var_sodium_potassium_pump__p_E1Na * var_chaste_interface__sodium_potassium_pump_y_gate__y) - (0.040000000000000001 * var_sodium_potassium_pump__p_E2Na * (1.0 - var_chaste_interface__sodium_potassium_pump_y_gate__y))) * 21.0; // picoA
        const double var_background_Kpl_current__i_Kpl = (var_chaste_interface__membrane__Vm ==  -3.0) ? (var_constant_field_equations__CF_K * 0.0014308470000000001) : ((0.00011 * var_constant_field_equations__CF_K * (var_chaste_interface__membrane__Vm + 3.0)) / (1.0 - exp((-(var_chaste_interface__membrane__Vm + 3.0)) * 0.076923076923076927))); // picoA
        const double var_background_lCa_current__p_open = 1.0 / (1.0 + pow(0.0011999999999999999 / var_internal_ion_concentrations__Cai, 3.0)); // dimensionless
        const double var_background_lCa_current__i_lCa_Na = 0.11 * var_constant_field_equations__CF_Na * var_background_lCa_current__p_open; // picoA
        const double var_background_lCa_current__i_lCa_K = 0.11 * var_constant_field_equations__CF_K * var_background_lCa_current__p_open; // picoA
        const double var_background_KATP_current__i_KATP = 82.527985493953864 * (var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) * (0.80000000000000004 / (1.0 + pow(var_chaste_interface__ATP_production__ATPi * 10.0, 2.0))); // picoA
        const double var_background_Cab_current__i_Cab = 0.040000000000000001 * var_constant_field_equations__CF_Ca; // picoA
        const double var_background_NSC_current__i_bNSC_K = var_constant_field_equations__CF_K * 0.15400000000000003; // picoA
        const double var_background_NSC_current__i_bNSC_Na = 0.38500000000000001 * var_constant_field_equations__CF_Na; // picoA
        const double var_T_type_Ca_channel__i_Ca_T = 612.0 * var_constant_field_equations__CF_Ca * var_chaste_interface__T_type_Ca_channel_y1_gate__y1 * var_chaste_interface__T_type_Ca_channel_y2_gate__y2; // picoA
        const double var_transient_outward_current__i_to_Na = 0.00297 * var_constant_field_equations__CF_Na * pow(var_chaste_interface__transient_outward_current_y1_gate__y1, 3.0) * var_chaste_interface__transient_outward_current_y2_gate__y2; // picoA
        const double var_transient_outward_current__i_to_K = 0.033000000000000002 * var_constant_field_equations__CF_K * pow(var_chaste_interface__transient_outward_current_y1_gate__y1, 3.0) * var_chaste_interface__transient_outward_current_y2_gate__y2; // picoA
        const double var_slow_time_dependent_potassium_current__i_Ks_Na = 0.2016 * var_constant_field_equations__CF_Na * pow(var_chaste_interface__slow_time_dependent_potassium_current_y1_gate__y1, 2.0) * ((0.90000000000000002 * var_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2) + 0.10000000000000001); // picoA
        const double var_slow_time_dependent_potassium_current__i_Ks_K = 5.04 * var_constant_field_equations__CF_K * pow(var_chaste_interface__slow_time_dependent_potassium_current_y1_gate__y1, 2.0) * ((0.90000000000000002 * var_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2) + 0.10000000000000001); // picoA
        const double var_time_independent_potassium_current__mu = (0.75 * exp(0.035000000000000003 * ((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 10.0))) / (1.0 + exp(0.014999999999999999 * ((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 140.0))); // per_millisecond
        const double var_time_independent_potassium_current__lambda = (3.0 * exp( -0.048000000000000001 * ((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 10.0)) * (1.0 + exp(0.064000000000000001 * ((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 38.0)))) / (1.0 + exp(0.029999999999999999 * ((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 70.0))); // per_millisecond
        const double var_time_independent_potassium_current__fO = var_time_independent_potassium_current__lambda / (var_time_independent_potassium_current__mu + var_time_independent_potassium_current__lambda); // dimensionless
        const double var_time_independent_potassium_current__fB = var_time_independent_potassium_current__mu / (var_time_independent_potassium_current__mu + var_time_independent_potassium_current__lambda); // dimensionless
        const double var_time_independent_potassium_current__i_K1 = (var_membrane__Cm * 1.1459999999999999) * (var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) * (pow(var_time_independent_potassium_current__fO, 4.0) + (2.6666666666666665 * pow(var_time_independent_potassium_current__fO, 3.0) * var_time_independent_potassium_current__fB) + (2.0 * pow(var_time_independent_potassium_current__fO, 2.0) * pow(var_time_independent_potassium_current__fB, 2.0))) * var_chaste_interface__time_independent_potassium_current_y_gate__y; // picoA
        const double var_Ca_concentrations_in_SR__b1 = (10.0 - var_chaste_interface__Ca_concentrations_in_SR__Ca_Total) + 0.80000000000000004; // millimolar
        const double var_Ca_concentrations_in_SR__Carel = (sqrt(pow(var_Ca_concentrations_in_SR__b1, 2.0) + (4.0 * (0.80000000000000004 * var_chaste_interface__Ca_concentrations_in_SR__Ca_Total))) - var_Ca_concentrations_in_SR__b1) * 0.5; // millimolar
        const double var_RyR_channel__i_RyR = 62000.0 * (var_Ca_concentrations_in_SR__Carel - var_internal_ion_concentrations__Cai) * var_chaste_interface__RyR_channel__p_open_RyR; // picoA
        const double var_SR_calcium_pump__p_E1Ca = 1.0 / (1.0 + (0.080000000000000002 / var_chaste_interface__Ca_concentrations_in_SR__Caup)); // dimensionless
        const double var_SR_calcium_pump__k2 = 1.0 / (1.0 + (0.10000000000000001 / var_chaste_interface__ATP_production__ATPi)); // per_millisecond
        const double var_SR_calcium_pump__p_E2Ca = 1.0 / (1.0 + (0.00080000000000000004 / var_internal_ion_concentrations__Cai)); // dimensionless
        const double var_SR_calcium_pump__i_SR_U = ((0.01 * var_SR_calcium_pump__p_E1Ca * var_chaste_interface__SR_calcium_pump_y_gate__y) - (var_SR_calcium_pump__k2 * var_SR_calcium_pump__p_E2Ca * (1.0 - var_chaste_interface__SR_calcium_pump_y_gate__y))) * 162500.0; // picoA
        const double var_SR_L_current__i_SR_L = 459.0 * (var_chaste_interface__Ca_concentrations_in_SR__Caup - var_internal_ion_concentrations__Cai); // picoA
        const double var_NL_model__Q_r = (0.029999999999999999 * var_chaste_interface__NL_model__pCaCB) - (1560.0 * var_chaste_interface__NL_model__pCB * var_internal_ion_concentrations__Cai); // per_millisecond
        const double var_NL_model__h = 0.96237999754118841 - var_chaste_interface__NL_model__X; // micrometre
        const double var_NL_model__d_X_d_environment__time = 1.2 * (var_NL_model__h - 0.0050000000000000001); // micrometre_per_millisecond
        const double var_NL_model__Q_d2 = 0.027 * pow(var_NL_model__d_X_d_environment__time, 2.0) * var_chaste_interface__NL_model__pCaCB; // per_millisecond
        const double var_NL_model__Q_b = (39.0 * var_internal_ion_concentrations__Cai * (((1.0 - var_chaste_interface__NL_model__pCa) - var_chaste_interface__NL_model__pCaCB) - var_chaste_interface__NL_model__pCB)) - (0.029999999999999999 * var_chaste_interface__NL_model__pCa); // per_millisecond
        const double var_sodium_current_voltage_dependent_gate__k_RP_AP = 1.0 / ((0.1027 * exp((-var_chaste_interface__membrane__Vm) * 0.125)) + (0.25 * exp((-var_chaste_interface__membrane__Vm) * 0.02))); // per_millisecond
        const double var_sodium_current_voltage_dependent_gate__k_AP_AI = 1.0 / (0.80000000000000004 * exp((-var_chaste_interface__membrane__Vm) * 0.0025000000000000001)); // per_millisecond
        const double var_sodium_current_voltage_dependent_gate__k_AP_RP = 1.0 / ((26.0 * exp(var_chaste_interface__membrane__Vm * 0.058823529411764705)) + (0.02 * exp(var_chaste_interface__membrane__Vm * 0.00125))); // per_millisecond
        const double var_sodium_current_voltage_dependent_gate__p_RI_Na = ((1.0 - var_chaste_interface__sodium_current_voltage_dependent_gate__p_RP_Na) - var_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na) - var_chaste_interface__sodium_current_voltage_dependent_gate__p_AI_Na; // dimensionless
        const double var_sodium_current_voltage_dependent_gate__k_RI_AI = 1.0 / ((0.0001027 * exp((-var_chaste_interface__membrane__Vm) * 0.125)) + (5.0 * exp((-var_chaste_interface__membrane__Vm) * 0.0025000000000000001))); // per_millisecond
        const double var_sodium_current_voltage_dependent_gate__k_AI_RI = 1.0 / ((1300.0 * exp(var_chaste_interface__membrane__Vm * 0.050000000000000003)) + (0.040000000000000001 * exp(var_chaste_interface__membrane__Vm * 0.00125))); // per_millisecond
        const double var_sodium_current_voltage_dependent_gate__k_RP_RI = 0.01 / (1.0 + ((8.7499999999999999e-05 * var_sodium_current_voltage_dependent_gate__k_AP_RP * var_sodium_current_voltage_dependent_gate__k_RI_AI) / (var_sodium_current_voltage_dependent_gate__k_AP_AI * var_sodium_current_voltage_dependent_gate__k_RP_AP * var_sodium_current_voltage_dependent_gate__k_AI_RI))); // per_millisecond
        const double var_L_type_Ca_channel_Ca_dependent_gate__iCaL = 0.067599999999999993 * var_constant_field_equations__CF_Ca; // picoA
        const double var_L_type_Ca_channel_voltage_dependent_gate__k_RP_AP = 1.0 / ((0.27000000000000002 * exp((-var_chaste_interface__membrane__Vm) * 0.16949152542372881)) + (1.5 * exp((-var_chaste_interface__membrane__Vm) * 0.015384615384615385))); // per_millisecond
        const double var_L_type_Ca_channel_voltage_dependent_gate__k_AP_RP = 1.0 / ((480.0 * exp(var_chaste_interface__membrane__Vm * 0.14285714285714285)) + (2.2000000000000002 * exp(var_chaste_interface__membrane__Vm * 0.015384615384615385))); // per_millisecond
        const double var_L_type_Ca_channel_voltage_dependent_gate__k_RI_AI = 1.0 / ((0.0018 * exp((-var_chaste_interface__membrane__Vm) * 0.13513513513513511)) + (2.0 * exp((-var_chaste_interface__membrane__Vm) * 0.01))); // per_millisecond
        const double var_L_type_Ca_channel_voltage_dependent_gate__k_AI_RI = 1.0 / ((2200000.0 * exp(var_chaste_interface__membrane__Vm * 0.13513513513513511)) + (11.0 * exp(var_chaste_interface__membrane__Vm * 0.01))); // per_millisecond
        const double var_L_type_Ca_channel_voltage_dependent_gate__k_RP_RI = 0.040000000000000001 / (1.0 + ((0.001 * var_L_type_Ca_channel_voltage_dependent_gate__k_AP_RP * var_L_type_Ca_channel_voltage_dependent_gate__k_RI_AI) / (0.0040000000000000001 * var_L_type_Ca_channel_voltage_dependent_gate__k_RP_AP * var_L_type_Ca_channel_voltage_dependent_gate__k_AI_RI))); // per_millisecond
        const double var_L_type_Ca_channel_voltage_dependent_gate__p_RI_CaL = ((1.0 - var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL) - var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_RP_CaL) - var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AI_CaL; // dimensionless
        const double var_L_type_Ca_channel_Ca_dependent_gate__Cacm = var_internal_ion_concentrations__Cai - (0.29999999999999999 * var_L_type_Ca_channel_Ca_dependent_gate__iCaL); // millimolar
        const double var_L_type_Ca_channel_Ca_dependent_gate__CaEffC = var_L_type_Ca_channel_Ca_dependent_gate__Cacm * var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL; // millimolar
        const double var_L_type_Ca_channel_Ca_dependent_gate__k_UUCa_Ca = 6.9539999999999997 * (var_L_type_Ca_channel_Ca_dependent_gate__CaEffC + (var_internal_ion_concentrations__Cai * (1.0 - var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL))); // per_millisecond
        const double var_L_type_Ca_channel_Ca_dependent_gate__p_CCa = ((1.0 - var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_C) - var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_U) - var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_UCa; // dimensionless
        const double var_RyR_channel__k1 = (280000.0 * pow(var_internal_ion_concentrations__Cai * 1.0, 2.0)) + ( -150.0 * (var_L_type_Ca_channel_Ca_dependent_gate__iCaL * var_L_type_Ca_channel__p_open_CaL)); // per_millisecond
        const double var_SR_T_current__i_SR_T = 386.0 * (var_chaste_interface__Ca_concentrations_in_SR__Caup - var_Ca_concentrations_in_SR__Carel); // picoA
        const double var_NL_model__Q_a = (var_chaste_interface__NL_model__pCa * 0.0016468349681964688) - (0.0038999999999999998 * var_chaste_interface__NL_model__pCaCB); // per_millisecond
        const double d_dt_chaste_interface__internal_ion_concentrations__Nai = (-(var_sodium_current__i_Na_Na + var_slow_time_dependent_potassium_current__i_Ks_Na + var_transient_outward_current__i_to_Na + var_L_type_Ca_channel__i_CaL_Na + var_background_NSC_current__i_bNSC_Na + var_background_lCa_current__i_lCa_Na + (3.0 * var_sodium_potassium_pump__i_NaK) + (3.0 * var_sodium_calcium_exchanger__i_NaCa))) * 1.2955153404562495e-06; // 'millimole per litre per millisecond'
        const double d_dt_chaste_interface__internal_ion_concentrations__Ki = (-(((var_time_independent_potassium_current__i_K1 + var_rapid_time_dependent_potassium_current__i_Kr + var_transient_outward_current__i_to_K + var_background_KATP_current__i_KATP + var_slow_time_dependent_potassium_current__i_Ks_K + var_sodium_current__i_Na_K + var_L_type_Ca_channel__i_CaL_K + var_background_NSC_current__i_bNSC_K + var_background_lCa_current__i_lCa_K + var_background_Kpl_current__i_Kpl) - (2.0 * var_sodium_potassium_pump__i_NaK)) + ((var_chaste_interface__membrane__i_ext * var_membrane__Cm) / HeartConfig::Instance()->GetCapacitance()))) * 1.2955153404562495e-06; // 'millimole per litre per millisecond'
        const double d_dt_chaste_interface__internal_ion_concentrations__Ca_Total = ((-(((((var_L_type_Ca_channel__i_CaL_Ca + var_T_type_Ca_channel__i_Ca_T + var_background_Cab_current__i_Cab) - (2.0 * var_sodium_calcium_exchanger__i_NaCa)) - var_SR_calcium_pump__i_SR_U) - var_RyR_channel__i_RyR) - var_SR_L_current__i_SR_L)) * 6.4775767022812476e-07) + (0.070000000000000007 * ((var_NL_model__Q_d2 + var_NL_model__Q_r) - var_NL_model__Q_b)); // 'millimole per litre per millisecond'
        const double d_dt_chaste_interface__ATP_production__ATPi = (((0.0030000000000000001 * (5.0 - var_chaste_interface__ATP_production__ATPi)) + (var_chaste_interface__NL_model__pCaCB *  -0.028000000000000004)) - (var_sodium_potassium_pump__i_NaK * 1.2955153404562495e-06)) + (var_SR_calcium_pump__i_SR_U * 3.2387883511406238e-07); // 'millimole per litre per millisecond'
        const double d_dt_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na = ((var_chaste_interface__sodium_current_voltage_dependent_gate__p_RP_Na * var_sodium_current_voltage_dependent_gate__k_RP_AP) + (var_chaste_interface__sodium_current_voltage_dependent_gate__p_AI_Na * 8.7499999999999999e-05)) - (var_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na * (var_sodium_current_voltage_dependent_gate__k_AP_RP + var_sodium_current_voltage_dependent_gate__k_AP_AI)); // per_millisecond
        const double d_dt_chaste_interface__sodium_current_voltage_dependent_gate__p_RP_Na = ((var_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na * var_sodium_current_voltage_dependent_gate__k_AP_RP) + (var_sodium_current_voltage_dependent_gate__p_RI_Na * (0.01 - var_sodium_current_voltage_dependent_gate__k_RP_RI))) - (var_chaste_interface__sodium_current_voltage_dependent_gate__p_RP_Na * (var_sodium_current_voltage_dependent_gate__k_RP_RI + var_sodium_current_voltage_dependent_gate__k_RP_AP)); // per_millisecond
        const double d_dt_chaste_interface__sodium_current_voltage_dependent_gate__p_AI_Na = ((var_sodium_current_voltage_dependent_gate__p_RI_Na * var_sodium_current_voltage_dependent_gate__k_RI_AI) + (var_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na * var_sodium_current_voltage_dependent_gate__k_AP_AI)) - (var_chaste_interface__sodium_current_voltage_dependent_gate__p_AI_Na * (var_sodium_current_voltage_dependent_gate__k_AI_RI + 8.7499999999999999e-05)); // per_millisecond
        const double d_dt_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL = ((var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_RP_CaL * var_L_type_Ca_channel_voltage_dependent_gate__k_RP_AP) + (var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AI_CaL * 0.001)) - (var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL * (var_L_type_Ca_channel_voltage_dependent_gate__k_AP_RP + 0.0040000000000000001)); // per_millisecond
        const double d_dt_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_RP_CaL = ((var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL * var_L_type_Ca_channel_voltage_dependent_gate__k_AP_RP) + (var_L_type_Ca_channel_voltage_dependent_gate__p_RI_CaL * (0.040000000000000001 - var_L_type_Ca_channel_voltage_dependent_gate__k_RP_RI))) - (var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_RP_CaL * (var_L_type_Ca_channel_voltage_dependent_gate__k_RP_RI + var_L_type_Ca_channel_voltage_dependent_gate__k_RP_AP)); // per_millisecond
        const double d_dt_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AI_CaL = ((var_L_type_Ca_channel_voltage_dependent_gate__p_RI_CaL * var_L_type_Ca_channel_voltage_dependent_gate__k_RI_AI) + (var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL * 0.0040000000000000001)) - (var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AI_CaL * (var_L_type_Ca_channel_voltage_dependent_gate__k_AI_RI + 0.001)); // per_millisecond
        const double d_dt_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_U = ((var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_C * 0.14299999999999999) + (var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_UCa * 2.0019999999999998)) - (var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_U * (var_L_type_Ca_channel_Ca_dependent_gate__k_UUCa_Ca + 0.34999999999999998)); // per_millisecond
        const double d_dt_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_UCa = ((var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_U * var_L_type_Ca_channel_Ca_dependent_gate__k_UUCa_Ca) + (var_L_type_Ca_channel_Ca_dependent_gate__p_CCa * 0.00029999999999999997)) - (var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_UCa * 2.3519999999999999); // per_millisecond
        const double d_dt_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_C = ((var_L_type_Ca_channel_Ca_dependent_gate__p_CCa * 0.0041999999999999997) + (var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_U * 0.34999999999999998)) - (var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_C * (0.14299999999999999 + (6.9539999999999997 * var_L_type_Ca_channel_Ca_dependent_gate__Cacm * var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL))); // per_millisecond
        const double d_dt_chaste_interface__time_independent_potassium_current_y_gate__y = ((1.0 / ((8000.0 * exp(((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 97.0) * 0.11764705882352941)) + (7.0 * exp(((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 97.0) * 0.0033333333333333335)))) * (1.0 - var_chaste_interface__time_independent_potassium_current_y_gate__y)) - (((pow(var_time_independent_potassium_current__fO, 4.0) * 1.0) / ((0.00013999999999999999 * exp((-((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 97.0)) * 0.10989010989010989)) + (0.20000000000000001 * exp((-((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 97.0)) * 0.002)))) * var_chaste_interface__time_independent_potassium_current_y_gate__y); // per_millisecond
        const double d_dt_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2 = ((3.7000000000000002 * var_internal_ion_concentrations__Cai) * (1.0 - var_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2)) - (0.004444 * var_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2); // per_millisecond
        const double d_dt_chaste_interface__sodium_calcium_exchanger_y_gate__y = (((var_sodium_calcium_exchanger__k2 * 0.63996521928156069) + 0.20379327210477691) * (1.0 - var_chaste_interface__sodium_calcium_exchanger_y_gate__y)) - (((var_sodium_calcium_exchanger__k1 * var_sodium_calcium_exchanger__p_E1Na) + (1.0 * (1.0 / (1.0 + ((0.0013799999999999999 / var_internal_ion_concentrations__Cai) * (1.0 + pow(var_chaste_interface__internal_ion_concentrations__Nai * 0.11428571428571428, 3.0))))))) * var_chaste_interface__sodium_calcium_exchanger_y_gate__y); // per_millisecond
        const double d_dt_chaste_interface__sodium_potassium_pump_y_gate__y = (((0.040000000000000001 * var_sodium_potassium_pump__p_E2Na) + (0.16500000000000001 * (1.0 / (1.0 + (0.033169052037393509 * (1.0 + pow(var_sodium_potassium_pump__Nao_Eff * 0.014326647564469915, 1.0600000000000001))))))) * (1.0 - var_chaste_interface__sodium_potassium_pump_y_gate__y)) - (((var_sodium_potassium_pump__k1 * var_sodium_potassium_pump__p_E1Na) + (0.01 * (1.0 / (1.0 + (pow(32.880000000000003 / var_chaste_interface__internal_ion_concentrations__Ki, 1.1200000000000001) * (1.0 + pow(var_chaste_interface__internal_ion_concentrations__Nai * 0.24691358024691359, 1.0600000000000001))))))) * var_chaste_interface__sodium_potassium_pump_y_gate__y); // per_millisecond
        const double d_dt_chaste_interface__SR_calcium_pump_y_gate__y = (((var_SR_calcium_pump__k2 * var_SR_calcium_pump__p_E2Ca) + (0.01 * (1.0 - var_SR_calcium_pump__p_E2Ca))) * (1.0 - var_chaste_interface__SR_calcium_pump_y_gate__y)) - (((0.01 * var_SR_calcium_pump__p_E1Ca) + (1.0 * (1.0 - var_SR_calcium_pump__p_E1Ca))) * var_chaste_interface__SR_calcium_pump_y_gate__y); // per_millisecond
        const double d_dt_chaste_interface__RyR_channel__p_open_RyR = (var_chaste_interface__RyR_channel__p_close_RyR * var_RyR_channel__k1) - (var_chaste_interface__RyR_channel__p_open_RyR * (0.080000000000000002 / (1.0 + (0.35999999999999999 / var_Ca_concentrations_in_SR__Carel)))); // per_millisecond
        const double d_dt_chaste_interface__RyR_channel__p_close_RyR = ((0.000377 * pow(var_Ca_concentrations_in_SR__Carel * 1.0, 2.0)) * (1.0 - (var_chaste_interface__RyR_channel__p_open_RyR + var_chaste_interface__RyR_channel__p_close_RyR))) - ((var_RyR_channel__k1 + 0.00084900000000000004) * var_chaste_interface__RyR_channel__p_close_RyR); // per_millisecond
        const double d_dt_chaste_interface__Ca_concentrations_in_SR__Ca_Total = (var_SR_T_current__i_SR_T - var_RyR_channel__i_RyR) * 3.2387883511406234e-05; // 'millimole per litre per millisecond'
        const double d_dt_chaste_interface__Ca_concentrations_in_SR__Caup = (((-var_SR_calcium_pump__i_SR_U) - var_SR_T_current__i_SR_T) - var_SR_L_current__i_SR_L) * 1.2955153404562494e-05; // 'millimole per litre per millisecond'
        const double d_dt_chaste_interface__NL_model__pCa = var_NL_model__Q_b - var_NL_model__Q_a; // per_millisecond
        const double d_dt_chaste_interface__NL_model__pCaCB = (var_NL_model__Q_a - var_NL_model__Q_r) - var_NL_model__Q_d2; // per_millisecond
        const double d_dt_chaste_interface__NL_model__pCB = (var_NL_model__Q_r - (0.12 * var_chaste_interface__NL_model__pCB)) - (0.027 * pow(var_NL_model__d_X_d_environment__time, 2.0) * var_chaste_interface__NL_model__pCB); // per_millisecond
        
        rResidual[17] = rCurrentGuess[17] - rY[1] - mDt*d_dt_chaste_interface__internal_ion_concentrations__Nai;
        rResidual[16] = rCurrentGuess[16] - rY[2] - mDt*d_dt_chaste_interface__internal_ion_concentrations__Ki;
        rResidual[15] = rCurrentGuess[15] - rY[3] - mDt*d_dt_chaste_interface__internal_ion_concentrations__Ca_Total;
        rResidual[0] = rCurrentGuess[0] - rY[4] - mDt*d_dt_chaste_interface__ATP_production__ATPi;
        rResidual[21] = rCurrentGuess[21] - rY[5] - mDt*d_dt_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na;
        rResidual[22] = rCurrentGuess[22] - rY[6] - mDt*d_dt_chaste_interface__sodium_current_voltage_dependent_gate__p_RP_Na;
        rResidual[20] = rCurrentGuess[20] - rY[7] - mDt*d_dt_chaste_interface__sodium_current_voltage_dependent_gate__p_AI_Na;
        rResidual[7] = rCurrentGuess[7] - rY[9] - mDt*d_dt_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL;
        rResidual[8] = rCurrentGuess[8] - rY[10] - mDt*d_dt_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_RP_CaL;
        rResidual[6] = rCurrentGuess[6] - rY[11] - mDt*d_dt_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AI_CaL;
        rResidual[4] = rCurrentGuess[4] - rY[12] - mDt*d_dt_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_U;
        rResidual[5] = rCurrentGuess[5] - rY[13] - mDt*d_dt_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_UCa;
        rResidual[3] = rCurrentGuess[3] - rY[14] - mDt*d_dt_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_C;
        rResidual[24] = rCurrentGuess[24] - rY[18] - mDt*d_dt_chaste_interface__time_independent_potassium_current_y_gate__y;
        rResidual[18] = rCurrentGuess[18] - rY[23] - mDt*d_dt_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2;
        rResidual[19] = rCurrentGuess[19] - rY[26] - mDt*d_dt_chaste_interface__sodium_calcium_exchanger_y_gate__y;
        rResidual[23] = rCurrentGuess[23] - rY[27] - mDt*d_dt_chaste_interface__sodium_potassium_pump_y_gate__y;
        rResidual[14] = rCurrentGuess[14] - rY[28] - mDt*d_dt_chaste_interface__SR_calcium_pump_y_gate__y;
        rResidual[13] = rCurrentGuess[13] - rY[29] - mDt*d_dt_chaste_interface__RyR_channel__p_open_RyR;
        rResidual[12] = rCurrentGuess[12] - rY[30] - mDt*d_dt_chaste_interface__RyR_channel__p_close_RyR;
        rResidual[1] = rCurrentGuess[1] - rY[31] - mDt*d_dt_chaste_interface__Ca_concentrations_in_SR__Ca_Total;
        rResidual[2] = rCurrentGuess[2] - rY[32] - mDt*d_dt_chaste_interface__Ca_concentrations_in_SR__Caup;
        rResidual[10] = rCurrentGuess[10] - rY[33] - mDt*d_dt_chaste_interface__NL_model__pCa;
        rResidual[11] = rCurrentGuess[11] - rY[34] - mDt*d_dt_chaste_interface__NL_model__pCaCB;
        rResidual[9] = rCurrentGuess[9] - rY[35] - mDt*d_dt_chaste_interface__NL_model__pCB;
    }
    
    void Dynamicmatsuoka_model_2003FromCellMLBackwardEuler::ComputeJacobian(double var_chaste_interface__environment__time, const double rCurrentGuess[25], double rJacobian[25][25])
    {
        std::vector<double>& rY = rGetStateVariables();
        double var_chaste_interface__membrane__Vm = (mSetVoltageDerivativeToZero ? this->mFixedVoltage : rY[0]);
        // Units: millivolt; Initial value: -85.95752434460744
        double var_chaste_interface__sodium_current_ultra_slow_gate__y = rY[8];
        // Units: dimensionless; Initial value: 0.5861887862983165
        double var_chaste_interface__L_type_Ca_channel_ultra_slow_gate__y = rY[15];
        // Units: dimensionless; Initial value: 0.9985266538252986
        double var_chaste_interface__T_type_Ca_channel_y1_gate__y1 = rY[16];
        // Units: dimensionless; Initial value: 1.6882718240109127e-5
        double var_chaste_interface__T_type_Ca_channel_y2_gate__y2 = rY[17];
        // Units: dimensionless; Initial value: 0.8585352091865849
        double var_chaste_interface__rapid_time_dependent_potassium_current_y1_gate__y1 = rY[19];
        // Units: dimensionless; Initial value: 0.0018339931180983765
        double var_chaste_interface__rapid_time_dependent_potassium_current_y2_gate__y2 = rY[20];
        // Units: dimensionless; Initial value: 0.20443083454225305
        double var_chaste_interface__rapid_time_dependent_potassium_current_y3_gate__y3 = rY[21];
        // Units: dimensionless; Initial value: 0.967887666264921
        double var_chaste_interface__slow_time_dependent_potassium_current_y1_gate__y1 = rY[22];
        // Units: dimensionless; Initial value: 0.09738789658609195
        double var_chaste_interface__transient_outward_current_y1_gate__y1 = rY[24];
        // Units: dimensionless; Initial value: 7.956883250874798e-4
        double var_chaste_interface__transient_outward_current_y2_gate__y2 = rY[25];
        // Units: dimensionless; Initial value: 0.9999125083105881
        double var_chaste_interface__NL_model__X = rY[36];
        // Units: micrometre; Initial value: 0.9573749975411884
        
        double var_chaste_interface__ATP_production__ATPi = rCurrentGuess[0];
        double var_chaste_interface__Ca_concentrations_in_SR__Ca_Total = rCurrentGuess[1];
        double var_chaste_interface__Ca_concentrations_in_SR__Caup = rCurrentGuess[2];
        double var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_C = rCurrentGuess[3];
        double var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_U = rCurrentGuess[4];
        double var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_UCa = rCurrentGuess[5];
        double var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL = rCurrentGuess[7];
        double var_chaste_interface__NL_model__pCB = rCurrentGuess[9];
        double var_chaste_interface__NL_model__pCa = rCurrentGuess[10];
        double var_chaste_interface__NL_model__pCaCB = rCurrentGuess[11];
        double var_chaste_interface__RyR_channel__p_close_RyR = rCurrentGuess[12];
        double var_chaste_interface__RyR_channel__p_open_RyR = rCurrentGuess[13];
        double var_chaste_interface__SR_calcium_pump_y_gate__y = rCurrentGuess[14];
        double var_chaste_interface__internal_ion_concentrations__Ca_Total = rCurrentGuess[15];
        double var_chaste_interface__internal_ion_concentrations__Ki = rCurrentGuess[16];
        double var_chaste_interface__internal_ion_concentrations__Nai = rCurrentGuess[17];
        double var_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2 = rCurrentGuess[18];
        double var_chaste_interface__sodium_calcium_exchanger_y_gate__y = rCurrentGuess[19];
        double var_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na = rCurrentGuess[21];
        double var_chaste_interface__sodium_potassium_pump_y_gate__y = rCurrentGuess[23];
        double var_chaste_interface__time_independent_potassium_current_y_gate__y = rCurrentGuess[24];
        
        const double var_chaste_interface__environment__dt = mDt;

        const double var_membrane__Cm = 132.0; // picoF
        const double var_t1 = var_chaste_interface__membrane__Vm == 0.0; // dimensionless
        const double var_t5 = 96.486699999999999 * var_chaste_interface__membrane__Vm; // dimensionless
        const double var_t7 = 0.00038798292719927156 * var_t5; // dimensionless
        const double var_t8 = exp(-var_t7); // dimensionless
        const double var_t10 = var_chaste_interface__internal_ion_concentrations__Nai - (var_t8 * 140.0); // dimensionless
        const double var_t12 = 1.0 - var_t8; // dimensionless
        const double var_t13 = 1.0 / var_t12; // dimensionless
        const double var_t14 = (var_t13 * var_t10) * 0.0032258064516129032; // dimensionless
        const double var_t36 = var_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na * var_chaste_interface__sodium_current_ultra_slow_gate__y; // dimensionless
        const double var_t39 = var_chaste_interface__internal_ion_concentrations__Ki - (var_t8 * 5.4000000000000004); // dimensionless
        const double var_t41 = (var_t13 * var_t39) * 0.0032258064516129032; // dimensionless
        const double var_t56 = var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_U + var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_UCa; // dimensionless
        const double var_t57 = var_chaste_interface__L_type_Ca_channel_ultra_slow_gate__y * var_t56; // dimensionless
        const double var_t58 = pow(var_chaste_interface__ATP_production__ATPi, 2.0); // dimensionless
        const double var_t62 = 1.0 + ((2.7440000000000002 / var_t58) / var_chaste_interface__ATP_production__ATPi); // dimensionless
        const double var_t63 = 1.0 / var_t62; // dimensionless
        const double var_t64 = var_t63 * var_t57; // dimensionless
        const double var_t77 = pow(((((0.0025000000000000005 - (0.10000000000000001 * var_chaste_interface__internal_ion_concentrations__Ca_Total)) + 0.00023800000000000004) + pow(var_chaste_interface__internal_ion_concentrations__Ca_Total, 2.0)) + (0.0047600000000000003 * var_chaste_interface__internal_ion_concentrations__Ca_Total)) + 5.6644000000000012e-06, 0.5); // dimensionless
        const double var_t78 = 0.5 * var_t77; // dimensionless
        const double var_t80 = 0.5 * var_chaste_interface__internal_ion_concentrations__Ca_Total; // dimensionless
        const double var_t83 = exp( -2.0 * var_t7); // dimensionless
        const double var_t85 = (((var_t78 - 0.025000000000000001) + var_t80) - 0.0011900000000000001) - (var_t83 * 1.8); // dimensionless
        const double var_t87 = 1.0 - var_t83; // dimensionless
        const double var_t88 = 1.0 / var_t87; // dimensionless
        const double var_t89 = (var_t88 * var_t85) * 0.0032258064516129032; // dimensionless
        const double var_t114 = var_chaste_interface__T_type_Ca_channel_y1_gate__y1 * var_chaste_interface__T_type_Ca_channel_y2_gate__y2; // dimensionless
        const double var_t116 = 1.1459999999999999 * var_membrane__Cm; // dimensionless
        const double var_t121 = 1.0 / var_chaste_interface__internal_ion_concentrations__Ki; // dimensionless
        const double var_t125 = (log(var_t121 * 5.4000000000000004) * 0.010364122723649996) * 2577.433; // dimensionless
        const double var_t128 = exp((( -0.048000000000000001 * var_chaste_interface__membrane__Vm) + (0.048000000000000001 * var_t125)) + 0.47999999999999998); // dimensionless
        const double var_t129 = pow(var_t128, 2.0); // dimensionless
        const double var_t130 = pow(var_t129, 2.0); // dimensionless
        const double var_t134 = exp(((0.064000000000000001 * var_chaste_interface__membrane__Vm) - (0.064000000000000001 * var_t125)) - 2.4319999999999999); // dimensionless
        const double var_t135 = 1.0 + var_t134; // dimensionless
        const double var_t136 = pow(var_t135, 2.0); // dimensionless
        const double var_t138 = pow(var_t136, 2.0) * var_t130; // dimensionless
        const double var_t142 = exp(((0.029999999999999999 * var_chaste_interface__membrane__Vm) - (0.029999999999999999 * var_t125)) - 2.1000000000000001); // dimensionless
        const double var_t143 = 1.0 + var_t142; // dimensionless
        const double var_t144 = pow(var_t143, 2.0); // dimensionless
        const double var_t145 = pow(var_t144, 2.0); // dimensionless
        const double var_t146 = 1.0 / var_t145; // dimensionless
        const double var_t150 = exp(((0.035000000000000003 * var_chaste_interface__membrane__Vm) - (0.035000000000000003 * var_t125)) - 0.34999999999999998); // dimensionless
        const double var_t154 = exp(((0.014999999999999999 * var_chaste_interface__membrane__Vm) - (0.014999999999999999 * var_t125)) - 2.1000000000000001); // dimensionless
        const double var_t155 = 1.0 + var_t154; // dimensionless
        const double var_t156 = 1.0 / var_t155; // dimensionless
        const double var_t157 = var_t156 * var_t150; // dimensionless
        const double var_t159 = var_t135 * var_t128; // dimensionless
        const double var_t160 = 1.0 / var_t143; // dimensionless
        const double var_t161 = var_t160 * var_t159; // dimensionless
        const double var_t163 = (0.75 * var_t157) + (3.0 * var_t161); // dimensionless
        const double var_t165 = pow(pow(var_t163, 2.0), 2.0); // dimensionless
        const double var_t166 = 1.0 / var_t165; // dimensionless
        const double var_t167 = var_t166 * var_t146; // dimensionless
        const double var_t168 = var_t167 * var_t138; // dimensionless
        const double var_t170 = var_t129 * var_t128; // dimensionless
        const double var_t171 = var_t136 * var_t135; // dimensionless
        const double var_t172 = var_t171 * var_t170; // dimensionless
        const double var_t174 = (1.0 / var_t144) / var_t143; // dimensionless
        const double var_t175 = var_t174 * var_t172; // dimensionless
        const double var_t176 = var_t150 * var_t166; // dimensionless
        const double var_t178 = (var_t156 * var_t176) * var_t175; // dimensionless
        const double var_t180 = var_t136 * var_t129; // dimensionless
        const double var_t181 = 1.0 / var_t144; // dimensionless
        const double var_t182 = var_t181 * var_t180; // dimensionless
        const double var_t183 = pow(var_t150, 2.0); // dimensionless
        const double var_t184 = var_t183 * var_t166; // dimensionless
        const double var_t185 = pow(var_t155, 2.0); // dimensionless
        const double var_t186 = 1.0 / var_t185; // dimensionless
        const double var_t188 = (var_t186 * var_t184) * var_t182; // dimensionless
        const double var_t190 = ((81.0 * var_t168) + (54.0 * var_t178)) + (10.125 * var_t188); // dimensionless
        const double var_t195 = 1.9631681698237122 * var_t116; // dimensionless
        const double var_t196 = var_chaste_interface__membrane__Vm - var_t125; // dimensionless
        const double var_t198 = var_t171 * var_t130; // dimensionless
        const double var_t204 = var_t166 * ((1.0 / var_t145) / var_t143); // dimensionless
        const double var_t209 = (1.0 / var_t165) / var_t163; // dimensionless
        const double var_t210 = var_t209 * var_t146; // dimensionless
        const double var_t212 = var_t186 * var_t150; // dimensionless
        const double var_t227 = var_t136 * var_t170; // dimensionless
        const double var_t238 = var_t150 * var_t209; // dimensionless
        const double var_t248 = var_t135 * var_t129; // dimensionless
        const double var_t259 = var_t183 * var_t209; // dimensionless
        const double var_t265 = (1.0 / var_t185) / var_t155; // dimensionless
        const double var_t275 = 0.0086400000000000001 * var_membrane__Cm; // dimensionless
        const double var_t279 = (0.59999999999999998 * var_chaste_interface__rapid_time_dependent_potassium_current_y1_gate__y1) + (0.40000000000000002 * var_chaste_interface__rapid_time_dependent_potassium_current_y2_gate__y2); // dimensionless
        const double var_t285 = pow(var_chaste_interface__slow_time_dependent_potassium_current_y1_gate__y1, 2.0); // dimensionless
        const double var_t287 = (0.90000000000000002 * var_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2) + 0.10000000000000001; // dimensionless
        const double var_t288 = var_t287 * var_t285; // dimensionless
        const double var_t294 = pow(var_chaste_interface__transient_outward_current_y1_gate__y1, 2.0); // dimensionless
        const double var_t295 = var_t294 * var_chaste_interface__transient_outward_current_y1_gate__y1; // dimensionless
        const double var_t296 = var_chaste_interface__transient_outward_current_y2_gate__y2 * var_t295; // dimensionless
        const double var_t367 = ((var_t77 - 0.050000000000000003) + var_chaste_interface__internal_ion_concentrations__Ca_Total) - 0.0023800000000000002; // dimensionless
        const double var_t368 = 0.25 * pow(var_t367, 2.0); // dimensionless
        const double var_t373 = 1.0 + ((3.4560000000000001e-09 / var_t368) / var_t367); // dimensionless
        const double var_t374 = 1.0 / var_t373; // dimensionless
        const double var_t381 = 1.0 + (100.0 * var_t58); // dimensionless
        const double var_t382 = 1.0 / var_t381; // dimensionless
        const double var_t386 = var_membrane__Cm * 21.0; // dimensionless
        const double var_t391 = exp( -0.81999999999999995 * var_t7); // dimensionless
        const double var_t392 = 1.0 / var_t391; // dimensionless
        const double var_t393 = (var_t392 * 0.0071428571428571426) * 69.799999999999997; // dimensionless
        const double var_t400 = 1.0 + (31.148585460707125 * pow(var_t393, 1.0600000000000001)); // dimensionless
        const double var_t415 = var_membrane__Cm * 6.8099999999999996; // dimensionless
        const double var_t419 = 0.00038798292719927156 * var_chaste_interface__membrane__Vm; // dimensionless
        const double var_t421 = exp(var_t419 * 30.875744000000001); // dimensionless
        const double var_t425 = pow(var_chaste_interface__internal_ion_concentrations__Nai, 2.0); // dimensionless
        const double var_t426 = var_t425 * var_chaste_interface__internal_ion_concentrations__Nai; // dimensionless
        const double var_t427 = 1.0 / var_t426; // dimensionless
        const double var_t431 = 1.0 + (362.31884057971018 * var_t367); // dimensionless
        const double var_t433 = 1.0 + ((var_t431 * var_t427) * 669.921875); // dimensionless
        const double var_t434 = 1.0 / var_t433; // dimensionless
        const double var_t442 = exp(var_t419 *  -65.610955999999987); // dimensionless
        const double var_t467 = (var_t13 * 0.00038798292719927156) * var_t5; // dimensionless
        const double var_t468 = var_t1 ? 0.0 : var_t467; // dimensionless
        const double var_t482 = 1.0 / var_chaste_interface__ATP_production__ATPi; // dimensionless
        const double var_t484 = 1.0 + (var_t482 * 0.094); // dimensionless
        const double var_t485 = 1.0 / var_t484; // dimensionless
        const double var_t487 = 4.0499999999999998 / var_chaste_interface__internal_ion_concentrations__Nai; // dimensionless
        const double var_t488 = pow(var_t487, 1.0600000000000001); // dimensionless
        const double var_t490 = 0.030413625304136251 * var_chaste_interface__internal_ion_concentrations__Ki; // dimensionless
        const double var_t492 = 1.0 + pow(var_t490, 1.1200000000000001); // dimensionless
        const double var_t494 = 1.0 + (var_t492 * var_t488); // dimensionless
        const double var_t497 = (1.0 / pow(var_t494, 2.0)) * var_t485; // dimensionless
        const double var_t498 = var_t497 * var_t386; // dimensionless
        const double var_t499 = pow(var_t487, 0.059999999999999998); // dimensionless
        const double var_t502 = 1.0 / var_t425; // dimensionless
        const double var_t503 = (var_t502 * 4.0499999999999998) * var_t492; // dimensionless
        const double var_t509 = (1.0 / pow(var_t433, 2.0)) * var_t421; // dimensionless
        const double var_t510 = var_t509 * var_t415; // dimensionless
        const double var_t511 = 669.921875 * var_chaste_interface__sodium_calcium_exchanger_y_gate__y; // dimensionless
        const double var_t513 = 1.0 / pow(var_t425, 2.0); // dimensionless
        const double var_t520 = var_t1 ? 1.0 : var_t467; // dimensionless
        const double var_t523 = ((0.10000000000000001 * var_t36) * var_t520) * 2860.0; // dimensionless
        const double var_t527 = (((0.00036499999999999998 * var_t64) * var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL) * var_t520) * 8712.0; // dimensionless
        const double var_t535 = ((((((0.50938071200000001 * var_chaste_interface__time_independent_potassium_current_y_gate__y) * var_t190) * var_t121) * 3.2128780443314988) * 8.3142999999999994) * 1.9631681698237122) * var_t116; // dimensionless
        const double var_t536 = var_t121 * 0.010364122723649996; // dimensionless
        const double var_t541 = var_t134 * var_t536; // dimensionless
        const double var_t546 = var_t142 * var_t536; // dimensionless
        const double var_t577 = (((((((0.026249999999999999 * var_t156) * var_t150) * var_t121) * 26.71283192398538) - (((((0.01125 * var_t154) * var_t121) * 3.2128780443314988) * 8.3142999999999994) * var_t212)) - (((((0.14399999999999999 * var_t160) * var_t135) * var_t128) * var_t121) * 26.71283192398538)) + ((((((0.192 * var_t160) * var_t134) * var_t536) * 310.0) * 8.3142999999999994) * var_t128)) - ((((((0.089999999999999997 * var_t142) * var_t121) * 3.2128780443314988) * 8.3142999999999994) * var_t181) * var_t159); // dimensionless
        const double var_t581 = var_t166 * var_t174; // dimensionless
        const double var_t582 = var_t150 * var_t581; // dimensionless
        const double var_t583 = var_t582 * var_t172; // dimensionless
        const double var_t584 = 8.3142999999999994 * var_t156; // dimensionless
        const double var_t585 = var_t121 * 3.2128780443314988; // dimensionless
        const double var_t590 = 310.0 * var_t584; // dimensionless
        const double var_t603 = 8.3142999999999994 * var_t186; // dimensionless
        const double var_t604 = 310.0 * var_t603; // dimensionless
        const double var_t605 = var_t154 * var_t536; // dimensionless
        const double var_t610 = (var_t183 * var_t166) * var_t181; // dimensionless
        const double var_t611 = var_t610 * var_t180; // dimensionless
        const double var_t637 = (((0.50938071200000001 * var_chaste_interface__time_independent_potassium_current_y_gate__y) * (((((((((((((((( -15.552 * var_t536) * 2577.433) * var_t168) + ((((20.736000000000001 * var_t541) * 2577.433) * var_t167) * var_t198)) - ((((9.7200000000000006 * var_t546) * 2577.433) * var_t204) * var_t138)) - (((324.0 * var_t577) * var_t210) * var_t138)) - (((5.8860000000000001 * var_t585) * var_t584) * var_t583)) + ((((10.368 * var_t541) * var_t590) * var_t582) * var_t227)) - (((((4.8600000000000003 * var_t546) * var_t590) * var_t150) * var_t167) * var_t172)) - ((((216.0 * var_t577) * var_t156) * var_t238) * var_t175)) - (((0.81000000000000005 * var_t605) * var_t604) * var_t583)) - (((0.26324999999999998 * var_t585) * var_t603) * var_t611)) + ((((1.296 * var_t541) * var_t604) * var_t610) * var_t248)) - (((((0.60750000000000004 * var_t546) * var_t604) * var_t183) * var_t581) * var_t180)) - ((((40.5 * var_t577) * var_t186) * var_t259) * var_t182)) - (((((0.30375000000000002 * var_t605) * 310.0) * 8.3142999999999994) * var_t265) * var_t611))) * var_t196) * var_t195; // dimensionless
        const double var_t644 = ((((((0.71370912279999998 * var_chaste_interface__rapid_time_dependent_potassium_current_y3_gate__y3) * var_t279) * var_t121) * 3.2128780443314988) * 8.3142999999999994) * 1.4011310323534027) * var_t275; // dimensionless
        const double var_t646 = (var_t288 * var_t520) * 5.04; // dimensionless
        const double var_t648 = (var_t296 * var_t520) * 0.033000000000000002; // dimensionless
        const double var_t650 = (0.40000000000000002 * var_t520) * 0.38500000000000001; // dimensionless
        const double var_t653 = var_t520 * 1.3097336979903458; // dimensionless
        const double var_t656 = 0.076923076923076927 * var_chaste_interface__membrane__Vm; // dimensionless
        const double var_t664 = (var_chaste_interface__membrane__Vm ==  -3.0) ? (0.0010924717 * var_t653) : (((8.398653877e-05 / (1.0 - exp((-var_t656) - 0.23076923076923078))) * (3.0 + var_chaste_interface__membrane__Vm)) * var_t653); // dimensionless
        const double var_t666 = (var_t374 * var_t520) * 0.11; // dimensionless
        const double var_t672 = (((((0.80000000000000004 * var_t382) * var_t121) * 3.2128780443314988) * 8.3142999999999994) * 1.4989063599997432) * 55.058799999999998; // dimensionless
        const double var_t674 = pow(var_t490, 0.12); // dimensionless
        const double var_t677 = (((0.030413625304136251 * var_t674) * var_t488) * var_chaste_interface__sodium_potassium_pump_y_gate__y) * var_t498; // dimensionless
        const double var_t681 = 0.12027470743177418 * var_t5; // dimensionless
        const double var_t684 = (2.0 * (( -0.050000000000000003 + var_chaste_interface__internal_ion_concentrations__Ca_Total) + 0.0023800000000000002)) / var_t77; // dimensionless
        const double var_t685 = 0.25 * var_t684; // dimensionless
        const double var_t686 = var_t685 + 0.5; // dimensionless
        const double var_t691 = var_t1 ? 0.0 : ((((2.0 * var_t88) * var_t686) * 0.0032258064516129032) * var_t681); // dimensionless
        const double var_t699 = var_t1 ? var_chaste_interface__internal_ion_concentrations__Ki : (var_t41 * var_t681); // dimensionless
        const double var_t702 = 1.0 / pow(var_t373, 2.0); // dimensionless
        const double var_t704 = 1.0 / pow(var_t368, 2.0); // dimensionless
        const double var_t710 = var_t1 ?  -140.0 : (var_t14 * var_t681); // dimensionless
        const double var_t715 = (724.63768115942037 * var_t686) * var_t427; // dimensionless
        const double var_t717 = (var_t715 * var_t511) * var_t510; // dimensionless
        const double var_t720 = var_t710 * 8712.0; // dimensionless
        const double var_t721 = var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL * var_t720; // dimensionless
        const double var_t727 = ((1.0 / pow(var_t58, 2.0)) / pow(var_t62, 2.0)) * var_t57; // dimensionless
        const double var_t732 = var_t1 ?  -1.8 : ((2.0 * var_t89) * var_t681); // dimensionless
        const double var_t733 = var_t732 * 8712.0; // dimensionless
        const double var_t734 = var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL * var_t733; // dimensionless
        const double var_t737 = var_t699 * 8712.0; // dimensionless
        const double var_t738 = var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL * var_t737; // dimensionless
        const double var_t749 = 1.0 / pow(var_t484, 2.0); // dimensionless
        const double var_t751 = 1.0 / var_t494; // dimensionless
        const double var_t753 = 1.0 / var_t58; // dimensionless
        const double var_t756 = ((((var_t753 * 0.094) * var_chaste_interface__sodium_potassium_pump_y_gate__y) * var_t751) * var_t749) * var_t386; // dimensionless
        const double var_t780 = (var_t63 * var_chaste_interface__L_type_Ca_channel_ultra_slow_gate__y) * var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL; // dimensionless
        const double var_t838 = var_t434 * var_t421; // dimensionless
        const double var_t839 = 0.63996521928156069 * var_t442; // dimensionless
        const double var_t843 = (0.37 * var_t751) * var_t485; // dimensionless
        const double var_t845 = (1.0 / var_t400) * 0.040000000000000001; // dimensionless
        const double var_t860 = (var_chaste_interface__sodium_potassium_pump_y_gate__y * var_t497) * var_t386; // dimensionless
        const double var_t861 = var_t674 * var_t488; // dimensionless
        const double var_t865 = (3.9401318140396881e-08 * var_t861) * var_t860; // dimensionless
        const double var_t876 = 1.2955153404562495e-06 * var_chaste_interface__sodium_current_ultra_slow_gate__y; // dimensionless
        const double var_t882 = var_t63 * var_chaste_interface__L_type_Ca_channel_ultra_slow_gate__y; // dimensionless
        const double var_t884 = 1.2955153404562495e-06 * var_t882; // dimensionless
        const double var_t888 = (1.8499999999999999e-05 * var_t884) * var_t721; // dimensionless
        const double var_t899 = 1.2955153404562495e-06 * var_t285; // dimensionless
        const double var_t912 = (1.2955153404562495e-06 * (var_t838 + var_t839)) * var_t415; // dimensionless
        const double var_t916 = (1.2955153404562495e-06 * (var_t843 + var_t845)) * var_t386; // dimensionless
        const double var_t927 = ((((1.2955153404562495e-06 * var_t502) * 4.0499999999999998) * var_t492) * var_t499) * var_t860; // dimensionless
        const double var_t950 = (0.00036499999999999998 * var_t884) * var_t738; // dimensionless
        const double var_t981 = var_t513 * 669.921875; // dimensionless
        const double var_t989 = 1.0 + (var_t482 * 0.10000000000000001); // dimensionless
        const double var_t990 = 1.0 / var_t989; // dimensionless
        const double var_t991 = var_t990 * 162500.0; // dimensionless
        const double var_t992 = 2.0 / var_t367; // dimensionless
        const double var_t994 = 1.0 + (var_t992 * 0.00080000000000000004); // dimensionless
        const double var_t996 = 1.0 / pow(var_t994, 2.0); // dimensionless
        const double var_t998 = 1.0 - var_chaste_interface__SR_calcium_pump_y_gate__y; // dimensionless
        const double var_t1000 = 1.0 / var_t368; // dimensionless
        const double var_t1003 = ((((var_t686 * var_t1000) * 0.00080000000000000004) * var_t998) * var_t996) * var_t991; // dimensionless
        const double var_t1004 = (-var_t686) * 62000.0; // dimensionless
        const double var_t1006 = (-var_t686) * 459.0; // dimensionless
        const double var_t1012 = (var_t686 * var_chaste_interface__NL_model__pCB) * 1560.0; // dimensionless
        const double var_t1015 = ((((1.0 - var_chaste_interface__NL_model__pCa) - var_chaste_interface__NL_model__pCaCB) - var_chaste_interface__NL_model__pCB) * var_t686) * 39.0; // dimensionless
        const double var_t1020 = 1.0 / pow(var_t989, 2.0); // dimensionless
        const double var_t1021 = var_t1020 * 162500.0; // dimensionless
        const double var_t1022 = 1.0 / var_t994; // dimensionless
        const double var_t1025 = (var_t753 * 0.10000000000000001) * var_t998; // dimensionless
        const double var_t1035 = (0.5 * var_t884) * var_t734; // dimensionless
        const double var_t1048 = 1.0 + (0.080000000000000002 / var_chaste_interface__Ca_concentrations_in_SR__Caup); // dimensionless
        const double var_t1049 = 1.0 / var_t1048; // dimensionless
        const double var_t1050 = var_t1049 * 0.01; // dimensionless
        const double var_t1051 = var_t1022 * var_t990; // dimensionless
        const double var_t1053 = (var_t1050 + var_t1051) * 162500.0; // dimensionless
        const double var_t1054 = 1.2955153404562495e-06 * var_t1053; // dimensionless
        const double var_t1066 = pow(((((100.0 - (20.0 * var_chaste_interface__Ca_concentrations_in_SR__Ca_Total)) + 16.0) + pow(var_chaste_interface__Ca_concentrations_in_SR__Ca_Total, 2.0)) + (1.6000000000000001 * var_chaste_interface__Ca_concentrations_in_SR__Ca_Total)) + 0.64000000000000012, 0.5); // dimensionless
        const double var_t1068 = (0.5 * (((((((var_t1066 - 10.0) + var_chaste_interface__Ca_concentrations_in_SR__Ca_Total) - 0.80000000000000004) - var_t77) + 0.050000000000000003) - var_chaste_interface__internal_ion_concentrations__Ca_Total) + 0.0023800000000000002)) * 62000.0; // dimensionless
        const double var_t1075 = ((0.5 * (( -10.0 + var_chaste_interface__Ca_concentrations_in_SR__Ca_Total) + 0.80000000000000004)) / var_t1066) + 0.5; // dimensionless
        const double var_t1076 = var_t1075 * 62000.0; // dimensionless
        const double var_t1077 = 0.010364122723649996 * var_chaste_interface__RyR_channel__p_open_RyR; // dimensionless
        const double var_t1083 = 1.0 / pow(var_t1048, 2.0); // dimensionless
        const double var_t1087 = 1.0 / pow(var_chaste_interface__Ca_concentrations_in_SR__Caup, 2.0); // dimensionless
        const double var_t1089 = (((var_t1087 * 0.080000000000000002) * var_chaste_interface__SR_calcium_pump_y_gate__y) * var_t1083) * 1625.0; // dimensionless
        const double var_t1094 = (0.5 * var_t367) * 39.0; // dimensionless
        const double var_t1101 = pow((0.96237999754118841 - var_chaste_interface__NL_model__X) - 0.0050000000000000001, 2.0) * 0.038879999999999998; // dimensionless
        const double var_t1104 = (0.5 * var_t367) * 1560.0; // dimensionless
        const double var_t1122 = var_t1000 * 0.00080000000000000004; // dimensionless
        const double var_t1128 = var_t751 * var_t749; // dimensionless
        const double var_t1130 = var_chaste_interface__sodium_potassium_pump_y_gate__y * 0.094; // dimensionless
        const double var_t1137 = (var_t998 * var_t1022) * var_t1021; // dimensionless
        const double var_t1138 = var_t753 * 0.10000000000000001; // dimensionless
        const double var_t1146 = var_t1087 * 0.080000000000000002; // dimensionless
        const double var_t1152 = exp( -0.125 * var_chaste_interface__membrane__Vm); // dimensionless
        const double var_t1155 = exp( -0.02 * var_chaste_interface__membrane__Vm); // dimensionless
        const double var_t1157 = (0.1027 * var_t1152) + (0.25 * var_t1155); // dimensionless
        const double var_t1165 = 0.058823529411764705 * var_chaste_interface__membrane__Vm; // dimensionless
        const double var_t1166 = exp(var_t1165); // dimensionless
        const double var_t1169 = exp(0.00125 * var_chaste_interface__membrane__Vm); // dimensionless
        const double var_t1171 = (26.0 * var_t1166) + (0.02 * var_t1169); // dimensionless
        const double var_t1179 = exp( -0.0025000000000000001 * var_chaste_interface__membrane__Vm); // dimensionless
        const double var_t1185 = 1.0 / var_t1171; // dimensionless
        const double var_t1186 = 1.25 * (1.0 / var_t1179); // dimensionless
        const double var_t1188 = 1.0 / var_t1157; // dimensionless
        const double var_t1192 = var_t1185 * 8.7499999999999999e-05; // dimensionless
        const double var_t1195 = (0.0001027 * var_t1152) + (5.0 * var_t1179); // dimensionless
        const double var_t1196 = 1.0 / var_t1195; // dimensionless
        const double var_t1197 = var_t1196 * var_t1192; // dimensionless
        const double var_t1198 = var_t1157 * var_t1179; // dimensionless
        const double var_t1200 = exp(0.050000000000000003 * var_chaste_interface__membrane__Vm); // dimensionless
        const double var_t1203 = (1300.0 * var_t1200) + (0.040000000000000001 * var_t1169); // dimensionless
        const double var_t1205 = (var_t1203 * var_t1198) * var_t1197; // dimensionless
        const double var_t1207 = 1.0 + (0.80000000000000004 * var_t1205); // dimensionless
        const double var_t1248 = 0.01 / var_t1207; // dimensionless
        const double var_t1267 = 0.01 * var_chaste_interface__membrane__Vm; // dimensionless
        const double var_t1268 = exp(var_t1267); // dimensionless
        const double var_t1281 = exp(-var_t1267); // dimensionless
        const double var_t1296 = exp( -0.16949152540000001 * var_chaste_interface__membrane__Vm); // dimensionless
        const double var_t1298 = 0.015384615384615385 * var_chaste_interface__membrane__Vm; // dimensionless
        const double var_t1299 = exp(-var_t1298); // dimensionless
        const double var_t1301 = (0.27000000000000002 * var_t1296) + (1.5 * var_t1299); // dimensionless
        const double var_t1310 = exp(0.14285714285714285 * var_chaste_interface__membrane__Vm); // dimensionless
        const double var_t1312 = exp(var_t1298); // dimensionless
        const double var_t1314 = (480.0 * var_t1310) + (2.2000000000000002 * var_t1312); // dimensionless
        const double var_t1323 = 1.0 / var_t1314; // dimensionless
        const double var_t1325 = 1.0 / var_t1301; // dimensionless
        const double var_t1327 = var_t1323 * 0.001; // dimensionless
        const double var_t1328 = 0.1351351351 * var_chaste_interface__membrane__Vm; // dimensionless
        const double var_t1329 = exp(-var_t1328); // dimensionless
        const double var_t1332 = (0.0018 * var_t1329) + (2.0 * var_t1281); // dimensionless
        const double var_t1333 = 1.0 / var_t1332; // dimensionless
        const double var_t1334 = var_t1333 * var_t1327; // dimensionless
        const double var_t1336 = var_t1301 * 250.0; // dimensionless
        const double var_t1337 = exp(var_t1328); // dimensionless
        const double var_t1340 = (2200000.0 * var_t1337) + (11.0 * var_t1268); // dimensionless
        const double var_t1343 = 1.0 + ((var_t1340 * var_t1336) * var_t1334); // dimensionless
        const double var_t1379 = 0.040000000000000001 / var_t1343; // dimensionless
        const double var_t1393 = var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_U * 6.9539999999999997; // dimensionless
        const double var_t1399 = var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL * ((var_t685 + 0.5) - (0.020279999999999999 * var_t691)); // dimensionless
        const double var_t1400 = 1.0 - var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL; // dimensionless
        const double var_t1403 = (var_t1399 + (var_t1400 * var_t686)) * var_t1393; // dimensionless
        const double var_t1405 = (0.020279999999999999 * var_t732) * var_t1393; // dimensionless
        const double var_t1407 = (((var_t78 - 0.025000000000000001) + var_t80) - 0.0011900000000000001) - (0.020279999999999999 * var_t732); // dimensionless
        const double var_t1411 = ((var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL * var_t1407) + ((0.5 * var_t1400) * var_t367)) * 6.9539999999999997; // dimensionless
        const double var_t1424 = var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_C * 6.9539999999999997; // dimensionless
        const double var_t1531 = exp(((0.1176470588 * var_chaste_interface__membrane__Vm) - (0.1176470588 * var_t125)) - 11.411764700000001); // dimensionless
        const double var_t1533 = 0.0033333333333333335 * var_chaste_interface__membrane__Vm; // dimensionless
        const double var_t1536 = exp((var_t1533 - (0.0033333333333333335 * var_t125)) - 0.32333333333333331); // dimensionless
        const double var_t1538 = (8000.0 * var_t1531) + (7.0 * var_t1536); // dimensionless
        const double var_t1547 = var_t146 * var_t138; // dimensionless
        const double var_t1551 = exp((( -0.1098901099 * var_chaste_interface__membrane__Vm) + (0.1098901099 * var_t125)) + 10.65934066); // dimensionless
        const double var_t1553 = 0.002 * var_chaste_interface__membrane__Vm; // dimensionless
        const double var_t1556 = exp(((-var_t1553) + (0.002 * var_t125)) + 0.19400000000000001); // dimensionless
        const double var_t1558 = (0.00013999999999999999 * var_t1551) + (0.20000000000000001 * var_t1556); // dimensionless
        const double var_t1559 = 1.0 / var_t1558; // dimensionless
        const double var_t1598 = var_t1559 * var_t167; // dimensionless
        const double var_t1599 = var_t1598 * var_t138; // dimensionless
        const double var_t1600 = var_chaste_interface__time_independent_potassium_current_y_gate__y * 8.3142999999999994; // dimensionless
        const double var_t1605 = 310.0 * var_t1600; // dimensionless
        const double var_t1832 = 1.0 + (0.0014927113702623907 * var_t426); // dimensionless
        const double var_t1834 = 1.0 + ((var_t1832 * var_t992) * 0.0013799999999999999); // dimensionless
        const double var_t1838 = (0.0013799999999999999 / pow(var_t1834, 2.0)) * 1.0; // dimensionless
        const double var_t1877 = (0.014326647564469915 * var_t391) * 140.0; // dimensionless
        const double var_t1881 = 1.0 + ((1.0 + pow(var_t1877, 1.0600000000000001)) * 0.033169052037393509); // dimensionless
        const double var_t1899 = var_t121 * 32.880000000000003; // dimensionless
        const double var_t1900 = pow(var_t1899, 1.1200000000000001); // dimensionless
        const double var_t1902 = 0.24691358024691359 * var_chaste_interface__internal_ion_concentrations__Nai; // dimensionless
        const double var_t1904 = 1.0 + pow(var_t1902, 1.0600000000000001); // dimensionless
        const double var_t1906 = 1.0 + (var_t1904 * var_t1900); // dimensionless
        const double var_t1909 = (1.0 / pow(var_t1906, 2.0)) * 0.01; // dimensionless
        const double var_t1939 = var_t686 * var_t1122; // dimensionless
        const double var_t1958 =  -150.0 * var_chaste_interface__RyR_channel__p_close_RyR; // dimensionless
        const double var_t1970 = (((280000.0 * var_t686) * var_t367) + ((((0.067599999999999993 * var_t64) * var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL) * var_t691) *  -150.0)) * var_chaste_interface__RyR_channel__p_close_RyR; // dimensionless
        const double var_t1974 = (((0.55648319999999996 * var_t727) * var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL) * var_t732) * var_t1958; // dimensionless
        const double var_t1975 = var_t732 * var_t1958; // dimensionless
        const double var_t1977 = (0.067599999999999993 * var_t64) * var_t1975; // dimensionless
        const double var_t1979 = (0.067599999999999993 * var_t780) * var_t1975; // dimensionless
        const double var_t1982 = ((var_t1066 - 10.0) + var_chaste_interface__Ca_concentrations_in_SR__Ca_Total) - 0.80000000000000004; // dimensionless
        const double var_t1985 = 1.0 + (0.71999999999999997 / var_t1982); // dimensionless
        const double var_t1988 = 280000.0 * var_t368; // dimensionless
        const double var_t1992 = (((0.067599999999999993 * var_t64) * var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL) * var_t732) *  -150.0; // dimensionless
        const double var_t1997 = 0.25 * pow(var_t1982, 2.0); // dimensionless
        const double var_t2002 = 0.000377 * var_t1997; // dimensionless
        const double var_t2015 = (-var_t1075) * 386.0; // dimensionless
        
        rJacobian[0][0] = 1.0 - (var_chaste_interface__environment__dt * (( -0.0030000000000000001 - ((((4.7934067596881232e-07 * var_t753) * var_t1130) * var_t1128) * var_t386)) - ((3.2387883511406238e-07 * var_t1138) * var_t1137)));
        rJacobian[0][1] = 0.0;
        rJacobian[0][2] = -(var_chaste_interface__environment__dt * ((((3.2387883511406238e-07 * var_t1146) * var_chaste_interface__SR_calcium_pump_y_gate__y) * var_t1083) * 1625.0));
        rJacobian[0][3] = 0.0;
        rJacobian[0][4] = 0.0;
        rJacobian[0][5] = 0.0;
        rJacobian[0][6] = 0.0;
        rJacobian[0][7] = 0.0;
        rJacobian[0][8] = 0.0;
        rJacobian[0][9] = 0.0;
        rJacobian[0][10] = 0.0;
        rJacobian[0][11] = -(var_chaste_interface__environment__dt *  -0.028000000000000004);
        rJacobian[0][12] = 0.0;
        rJacobian[0][13] = 0.0;
        rJacobian[0][14] = -(var_chaste_interface__environment__dt * (0.25 * var_t1054));
        rJacobian[0][15] = -(var_chaste_interface__environment__dt * ((((( -3.2387883511406238e-07 * var_t686) * var_t1122) * var_t998) * var_t996) * var_t991));
        rJacobian[0][16] = -(var_chaste_interface__environment__dt * (0.41439999999999999 * var_t865));
        rJacobian[0][17] = -(var_chaste_interface__environment__dt * ( -0.39219999999999999 * var_t927));
        rJacobian[0][18] = 0.0;
        rJacobian[0][19] = 0.0;
        rJacobian[0][20] = 0.0;
        rJacobian[0][21] = 0.0;
        rJacobian[0][22] = 0.0;
        rJacobian[0][23] = -(var_chaste_interface__environment__dt * (-var_t916));
        rJacobian[0][24] = 0.0;
        rJacobian[1][0] = 0.0;
        rJacobian[1][1] = 1.0 - (var_chaste_interface__environment__dt * (3.2387883511406241e-05 * (var_t2015 - (var_chaste_interface__RyR_channel__p_open_RyR * var_t1076))));
        rJacobian[1][2] = -(var_chaste_interface__environment__dt * 0.012501723035402808);
        rJacobian[1][3] = 0.0;
        rJacobian[1][4] = 0.0;
        rJacobian[1][5] = 0.0;
        rJacobian[1][6] = 0.0;
        rJacobian[1][7] = 0.0;
        rJacobian[1][8] = 0.0;
        rJacobian[1][9] = 0.0;
        rJacobian[1][10] = 0.0;
        rJacobian[1][11] = 0.0;
        rJacobian[1][12] = 0.0;
        rJacobian[1][13] = -(var_chaste_interface__environment__dt * ( -3.2387883511406241e-05 * var_t1068));
        rJacobian[1][14] = 0.0;
        rJacobian[1][15] = -(var_chaste_interface__environment__dt * (( -0.0031250000000000002 * var_t1077) * var_t1004));
        rJacobian[1][16] = 0.0;
        rJacobian[1][17] = 0.0;
        rJacobian[1][18] = 0.0;
        rJacobian[1][19] = 0.0;
        rJacobian[1][20] = 0.0;
        rJacobian[1][21] = 0.0;
        rJacobian[1][22] = 0.0;
        rJacobian[1][23] = 0.0;
        rJacobian[1][24] = 0.0;
        rJacobian[2][0] = -(var_chaste_interface__environment__dt * ((1.2955153404562494e-05 * var_t1138) * var_t1137));
        rJacobian[2][1] = -(var_chaste_interface__environment__dt * ( -1.2955153404562494e-05 * var_t2015));
        rJacobian[2][2] = 1.0 - (var_chaste_interface__environment__dt * (1.2955153404562494e-05 * (((-var_t1089) - 386.0) - 459.0)));
        rJacobian[2][3] = 0.0;
        rJacobian[2][4] = 0.0;
        rJacobian[2][5] = 0.0;
        rJacobian[2][6] = 0.0;
        rJacobian[2][7] = 0.0;
        rJacobian[2][8] = 0.0;
        rJacobian[2][9] = 0.0;
        rJacobian[2][10] = 0.0;
        rJacobian[2][11] = 0.0;
        rJacobian[2][12] = 0.0;
        rJacobian[2][13] = 0.0;
        rJacobian[2][14] = -(var_chaste_interface__environment__dt * ( -1.2955153404562494e-05 * var_t1053));
        rJacobian[2][15] = -(var_chaste_interface__environment__dt * (1.2955153404562494e-05 * (var_t1003 - var_t1006)));
        rJacobian[2][16] = 0.0;
        rJacobian[2][17] = 0.0;
        rJacobian[2][18] = 0.0;
        rJacobian[2][19] = 0.0;
        rJacobian[2][20] = 0.0;
        rJacobian[2][21] = 0.0;
        rJacobian[2][22] = 0.0;
        rJacobian[2][23] = 0.0;
        rJacobian[2][24] = 0.0;
        rJacobian[3][0] = 0.0;
        rJacobian[3][1] = 0.0;
        rJacobian[3][2] = 0.0;
        rJacobian[3][3] = 1.0 - (var_chaste_interface__environment__dt * ( -0.1472 - ((var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL * var_t1407) * 6.9539999999999997)));
        rJacobian[3][4] = -(var_chaste_interface__environment__dt * 0.3458);
        rJacobian[3][5] = -(var_chaste_interface__environment__dt *  -0.0041999999999999997);
        rJacobian[3][6] = 0.0;
        rJacobian[3][7] = -(var_chaste_interface__environment__dt * ((-var_t1407) * var_t1424));
        rJacobian[3][8] = 0.0;
        rJacobian[3][9] = 0.0;
        rJacobian[3][10] = 0.0;
        rJacobian[3][11] = 0.0;
        rJacobian[3][12] = 0.0;
        rJacobian[3][13] = 0.0;
        rJacobian[3][14] = 0.0;
        rJacobian[3][15] = -(var_chaste_interface__environment__dt * ((-var_t1399) * var_t1424));
        rJacobian[3][16] = 0.0;
        rJacobian[3][17] = 0.0;
        rJacobian[3][18] = 0.0;
        rJacobian[3][19] = 0.0;
        rJacobian[3][20] = 0.0;
        rJacobian[3][21] = 0.0;
        rJacobian[3][22] = 0.0;
        rJacobian[3][23] = 0.0;
        rJacobian[3][24] = 0.0;
        rJacobian[4][0] = 0.0;
        rJacobian[4][1] = 0.0;
        rJacobian[4][2] = 0.0;
        rJacobian[4][3] = -(var_chaste_interface__environment__dt * 0.14299999999999999);
        rJacobian[4][4] = 1.0 - (var_chaste_interface__environment__dt * ((-var_t1411) - 0.34999999999999998));
        rJacobian[4][5] = -(var_chaste_interface__environment__dt * 2.0019999999999998);
        rJacobian[4][6] = 0.0;
        rJacobian[4][7] = -(var_chaste_interface__environment__dt * var_t1405);
        rJacobian[4][8] = 0.0;
        rJacobian[4][9] = 0.0;
        rJacobian[4][10] = 0.0;
        rJacobian[4][11] = 0.0;
        rJacobian[4][12] = 0.0;
        rJacobian[4][13] = 0.0;
        rJacobian[4][14] = 0.0;
        rJacobian[4][15] = -(var_chaste_interface__environment__dt * (-var_t1403));
        rJacobian[4][16] = 0.0;
        rJacobian[4][17] = 0.0;
        rJacobian[4][18] = 0.0;
        rJacobian[4][19] = 0.0;
        rJacobian[4][20] = 0.0;
        rJacobian[4][21] = 0.0;
        rJacobian[4][22] = 0.0;
        rJacobian[4][23] = 0.0;
        rJacobian[4][24] = 0.0;
        rJacobian[5][0] = 0.0;
        rJacobian[5][1] = 0.0;
        rJacobian[5][2] = 0.0;
        rJacobian[5][3] = -(var_chaste_interface__environment__dt *  -0.00029999999999999997);
        rJacobian[5][4] = -(var_chaste_interface__environment__dt * (var_t1411 - 0.00029999999999999997));
        rJacobian[5][5] = 1.0 - (var_chaste_interface__environment__dt *  -2.3522999999999996);
        rJacobian[5][6] = 0.0;
        rJacobian[5][7] = -(var_chaste_interface__environment__dt * (-var_t1405));
        rJacobian[5][8] = 0.0;
        rJacobian[5][9] = 0.0;
        rJacobian[5][10] = 0.0;
        rJacobian[5][11] = 0.0;
        rJacobian[5][12] = 0.0;
        rJacobian[5][13] = 0.0;
        rJacobian[5][14] = 0.0;
        rJacobian[5][15] = -(var_chaste_interface__environment__dt * var_t1403);
        rJacobian[5][16] = 0.0;
        rJacobian[5][17] = 0.0;
        rJacobian[5][18] = 0.0;
        rJacobian[5][19] = 0.0;
        rJacobian[5][20] = 0.0;
        rJacobian[5][21] = 0.0;
        rJacobian[5][22] = 0.0;
        rJacobian[5][23] = 0.0;
        rJacobian[5][24] = 0.0;
        rJacobian[6][0] = 0.0;
        rJacobian[6][1] = 0.0;
        rJacobian[6][2] = 0.0;
        rJacobian[6][3] = 0.0;
        rJacobian[6][4] = 0.0;
        rJacobian[6][5] = 0.0;
        rJacobian[6][6] = 1.0 - (var_chaste_interface__environment__dt * (((-var_t1333) - (1.0 / var_t1340)) - 0.001));
        rJacobian[6][7] = -(var_chaste_interface__environment__dt * ((-var_t1333) + 0.0040000000000000001));
        rJacobian[6][8] = -(var_chaste_interface__environment__dt * (-var_t1333));
        rJacobian[6][9] = 0.0;
        rJacobian[6][10] = 0.0;
        rJacobian[6][11] = 0.0;
        rJacobian[6][12] = 0.0;
        rJacobian[6][13] = 0.0;
        rJacobian[6][14] = 0.0;
        rJacobian[6][15] = 0.0;
        rJacobian[6][16] = 0.0;
        rJacobian[6][17] = 0.0;
        rJacobian[6][18] = 0.0;
        rJacobian[6][19] = 0.0;
        rJacobian[6][20] = 0.0;
        rJacobian[6][21] = 0.0;
        rJacobian[6][22] = 0.0;
        rJacobian[6][23] = 0.0;
        rJacobian[6][24] = 0.0;
        rJacobian[7][0] = 0.0;
        rJacobian[7][1] = 0.0;
        rJacobian[7][2] = 0.0;
        rJacobian[7][3] = 0.0;
        rJacobian[7][4] = 0.0;
        rJacobian[7][5] = 0.0;
        rJacobian[7][6] = -(var_chaste_interface__environment__dt * 0.001);
        rJacobian[7][7] = 1.0 - (var_chaste_interface__environment__dt * ((-var_t1323) - 0.0040000000000000001));
        rJacobian[7][8] = -(var_chaste_interface__environment__dt * var_t1325);
        rJacobian[7][9] = 0.0;
        rJacobian[7][10] = 0.0;
        rJacobian[7][11] = 0.0;
        rJacobian[7][12] = 0.0;
        rJacobian[7][13] = 0.0;
        rJacobian[7][14] = 0.0;
        rJacobian[7][15] = 0.0;
        rJacobian[7][16] = 0.0;
        rJacobian[7][17] = 0.0;
        rJacobian[7][18] = 0.0;
        rJacobian[7][19] = 0.0;
        rJacobian[7][20] = 0.0;
        rJacobian[7][21] = 0.0;
        rJacobian[7][22] = 0.0;
        rJacobian[7][23] = 0.0;
        rJacobian[7][24] = 0.0;
        rJacobian[8][0] = 0.0;
        rJacobian[8][1] = 0.0;
        rJacobian[8][2] = 0.0;
        rJacobian[8][3] = 0.0;
        rJacobian[8][4] = 0.0;
        rJacobian[8][5] = 0.0;
        rJacobian[8][6] = -(var_chaste_interface__environment__dt * ( -0.040000000000000001 + var_t1379));
        rJacobian[8][7] = -(var_chaste_interface__environment__dt * ((var_t1323 - 0.040000000000000001) + var_t1379));
        rJacobian[8][8] = 1.0 - (var_chaste_interface__environment__dt * ( -0.040000000000000001 - var_t1325));
        rJacobian[8][9] = 0.0;
        rJacobian[8][10] = 0.0;
        rJacobian[8][11] = 0.0;
        rJacobian[8][12] = 0.0;
        rJacobian[8][13] = 0.0;
        rJacobian[8][14] = 0.0;
        rJacobian[8][15] = 0.0;
        rJacobian[8][16] = 0.0;
        rJacobian[8][17] = 0.0;
        rJacobian[8][18] = 0.0;
        rJacobian[8][19] = 0.0;
        rJacobian[8][20] = 0.0;
        rJacobian[8][21] = 0.0;
        rJacobian[8][22] = 0.0;
        rJacobian[8][23] = 0.0;
        rJacobian[8][24] = 0.0;
        rJacobian[9][0] = 0.0;
        rJacobian[9][1] = 0.0;
        rJacobian[9][2] = 0.0;
        rJacobian[9][3] = 0.0;
        rJacobian[9][4] = 0.0;
        rJacobian[9][5] = 0.0;
        rJacobian[9][6] = 0.0;
        rJacobian[9][7] = 0.0;
        rJacobian[9][8] = 0.0;
        rJacobian[9][9] = 1.0 - (var_chaste_interface__environment__dt * (((-var_t1104) - 0.12) - var_t1101));
        rJacobian[9][10] = 0.0;
        rJacobian[9][11] = -(var_chaste_interface__environment__dt * 0.029999999999999999);
        rJacobian[9][12] = 0.0;
        rJacobian[9][13] = 0.0;
        rJacobian[9][14] = 0.0;
        rJacobian[9][15] = -(var_chaste_interface__environment__dt * (-var_t1012));
        rJacobian[9][16] = 0.0;
        rJacobian[9][17] = 0.0;
        rJacobian[9][18] = 0.0;
        rJacobian[9][19] = 0.0;
        rJacobian[9][20] = 0.0;
        rJacobian[9][21] = 0.0;
        rJacobian[9][22] = 0.0;
        rJacobian[9][23] = 0.0;
        rJacobian[9][24] = 0.0;
        rJacobian[10][0] = 0.0;
        rJacobian[10][1] = 0.0;
        rJacobian[10][2] = 0.0;
        rJacobian[10][3] = 0.0;
        rJacobian[10][4] = 0.0;
        rJacobian[10][5] = 0.0;
        rJacobian[10][6] = 0.0;
        rJacobian[10][7] = 0.0;
        rJacobian[10][8] = 0.0;
        rJacobian[10][9] = -(var_chaste_interface__environment__dt * (-var_t1094));
        rJacobian[10][10] = 1.0 - (var_chaste_interface__environment__dt * (((-var_t1094) - 0.029999999999999999) - 0.0016468349681964688));
        rJacobian[10][11] = -(var_chaste_interface__environment__dt * ((-var_t1094) + 0.0038999999999999998));
        rJacobian[10][12] = 0.0;
        rJacobian[10][13] = 0.0;
        rJacobian[10][14] = 0.0;
        rJacobian[10][15] = -(var_chaste_interface__environment__dt * var_t1015);
        rJacobian[10][16] = 0.0;
        rJacobian[10][17] = 0.0;
        rJacobian[10][18] = 0.0;
        rJacobian[10][19] = 0.0;
        rJacobian[10][20] = 0.0;
        rJacobian[10][21] = 0.0;
        rJacobian[10][22] = 0.0;
        rJacobian[10][23] = 0.0;
        rJacobian[10][24] = 0.0;
        rJacobian[11][0] = 0.0;
        rJacobian[11][1] = 0.0;
        rJacobian[11][2] = 0.0;
        rJacobian[11][3] = 0.0;
        rJacobian[11][4] = 0.0;
        rJacobian[11][5] = 0.0;
        rJacobian[11][6] = 0.0;
        rJacobian[11][7] = 0.0;
        rJacobian[11][8] = 0.0;
        rJacobian[11][9] = -(var_chaste_interface__environment__dt * var_t1104);
        rJacobian[11][10] = -(var_chaste_interface__environment__dt * 0.0016468349681964688);
        rJacobian[11][11] = 1.0 - (var_chaste_interface__environment__dt * ( -0.0339 - var_t1101));
        rJacobian[11][12] = 0.0;
        rJacobian[11][13] = 0.0;
        rJacobian[11][14] = 0.0;
        rJacobian[11][15] = -(var_chaste_interface__environment__dt * var_t1012);
        rJacobian[11][16] = 0.0;
        rJacobian[11][17] = 0.0;
        rJacobian[11][18] = 0.0;
        rJacobian[11][19] = 0.0;
        rJacobian[11][20] = 0.0;
        rJacobian[11][21] = 0.0;
        rJacobian[11][22] = 0.0;
        rJacobian[11][23] = 0.0;
        rJacobian[11][24] = 0.0;
        rJacobian[12][0] = -(var_chaste_interface__environment__dt * (-var_t1974));
        rJacobian[12][1] = -(var_chaste_interface__environment__dt * (((0.000377 * var_t1075) * ((1.0 - var_chaste_interface__RyR_channel__p_open_RyR) - var_chaste_interface__RyR_channel__p_close_RyR)) * var_t1982));
        rJacobian[12][2] = 0.0;
        rJacobian[12][3] = 0.0;
        rJacobian[12][4] = -(var_chaste_interface__environment__dt * (-var_t1979));
        rJacobian[12][5] = -(var_chaste_interface__environment__dt * (-var_t1979));
        rJacobian[12][6] = 0.0;
        rJacobian[12][7] = -(var_chaste_interface__environment__dt * (-var_t1977));
        rJacobian[12][8] = 0.0;
        rJacobian[12][9] = 0.0;
        rJacobian[12][10] = 0.0;
        rJacobian[12][11] = 0.0;
        rJacobian[12][12] = 1.0 - (var_chaste_interface__environment__dt * ((((-var_t2002) - var_t1988) - var_t1992) - 0.00084900000000000004));
        rJacobian[12][13] = -(var_chaste_interface__environment__dt * (-var_t2002));
        rJacobian[12][14] = 0.0;
        rJacobian[12][15] = -(var_chaste_interface__environment__dt * (-var_t1970));
        rJacobian[12][16] = 0.0;
        rJacobian[12][17] = 0.0;
        rJacobian[12][18] = 0.0;
        rJacobian[12][19] = 0.0;
        rJacobian[12][20] = 0.0;
        rJacobian[12][21] = 0.0;
        rJacobian[12][22] = 0.0;
        rJacobian[12][23] = 0.0;
        rJacobian[12][24] = 0.0;
        rJacobian[13][0] = -(var_chaste_interface__environment__dt * var_t1974);
        rJacobian[13][1] = -(var_chaste_interface__environment__dt * (((( -0.028799999999999999 * var_t1075) / var_t1997) / pow(var_t1985, 2.0)) * var_chaste_interface__RyR_channel__p_open_RyR));
        rJacobian[13][2] = 0.0;
        rJacobian[13][3] = 0.0;
        rJacobian[13][4] = -(var_chaste_interface__environment__dt * var_t1979);
        rJacobian[13][5] = -(var_chaste_interface__environment__dt * var_t1979);
        rJacobian[13][6] = 0.0;
        rJacobian[13][7] = -(var_chaste_interface__environment__dt * var_t1977);
        rJacobian[13][8] = 0.0;
        rJacobian[13][9] = 0.0;
        rJacobian[13][10] = 0.0;
        rJacobian[13][11] = 0.0;
        rJacobian[13][12] = -(var_chaste_interface__environment__dt * (var_t1988 + var_t1992));
        rJacobian[13][13] = 1.0 - (var_chaste_interface__environment__dt * ( -0.080000000000000002 / var_t1985));
        rJacobian[13][14] = 0.0;
        rJacobian[13][15] = -(var_chaste_interface__environment__dt * var_t1970);
        rJacobian[13][16] = 0.0;
        rJacobian[13][17] = 0.0;
        rJacobian[13][18] = 0.0;
        rJacobian[13][19] = 0.0;
        rJacobian[13][20] = 0.0;
        rJacobian[13][21] = 0.0;
        rJacobian[13][22] = 0.0;
        rJacobian[13][23] = 0.0;
        rJacobian[13][24] = 0.0;
        rJacobian[14][0] = -(var_chaste_interface__environment__dt * ((var_t1025 * var_t1022) * var_t1020));
        rJacobian[14][1] = 0.0;
        rJacobian[14][2] = -(var_chaste_interface__environment__dt * ((-var_chaste_interface__SR_calcium_pump_y_gate__y) * (((var_t1146 * var_t1083) * 0.01) - ((var_t1146 * var_t1083) * 1.0))));
        rJacobian[14][3] = 0.0;
        rJacobian[14][4] = 0.0;
        rJacobian[14][5] = 0.0;
        rJacobian[14][6] = 0.0;
        rJacobian[14][7] = 0.0;
        rJacobian[14][8] = 0.0;
        rJacobian[14][9] = 0.0;
        rJacobian[14][10] = 0.0;
        rJacobian[14][11] = 0.0;
        rJacobian[14][12] = 0.0;
        rJacobian[14][13] = 0.0;
        rJacobian[14][14] = 1.0 - (var_chaste_interface__environment__dt * ((((-var_t1051) - ((1.0 - var_t1022) * 0.01)) - var_t1050) - ((1.0 - var_t1049) * 1.0)));
        rJacobian[14][15] = -(var_chaste_interface__environment__dt * (var_t998 * (((var_t1939 * var_t996) * var_t990) - ((var_t1939 * var_t996) * 0.01))));
        rJacobian[14][16] = 0.0;
        rJacobian[14][17] = 0.0;
        rJacobian[14][18] = 0.0;
        rJacobian[14][19] = 0.0;
        rJacobian[14][20] = 0.0;
        rJacobian[14][21] = 0.0;
        rJacobian[14][22] = 0.0;
        rJacobian[14][23] = 0.0;
        rJacobian[14][24] = 0.0;
        rJacobian[15][0] = -(var_chaste_interface__environment__dt * (6.4775767022812476e-07 * ((-((8.2319999999999993 * var_t727) * var_t734)) - ((var_t1025 * var_t1022) * var_t1021))));
        rJacobian[15][1] = -(var_chaste_interface__environment__dt * ((6.2500000000000001e-05 * var_t1077) * var_t1076));
        rJacobian[15][2] = -(var_chaste_interface__environment__dt * (6.4775767022812476e-07 * (var_t1089 + 459.0)));
        rJacobian[15][3] = 0.0;
        rJacobian[15][4] = -(var_chaste_interface__environment__dt * (-var_t1035));
        rJacobian[15][5] = -(var_chaste_interface__environment__dt * (-var_t1035));
        rJacobian[15][6] = 0.0;
        rJacobian[15][7] = -(var_chaste_interface__environment__dt * ((( -0.5 * var_t884) * var_t56) * var_t733));
        rJacobian[15][8] = 0.0;
        rJacobian[15][9] = -(var_chaste_interface__environment__dt * (((-var_t1104) + var_t1094) * 0.070000000000000007));
        rJacobian[15][10] = -(var_chaste_interface__environment__dt * ((var_t1094 + 0.029999999999999999) * 0.070000000000000007));
        rJacobian[15][11] = -(var_chaste_interface__environment__dt * (((var_t1101 + 0.029999999999999999) + var_t1094) * 0.070000000000000007));
        rJacobian[15][12] = 0.0;
        rJacobian[15][13] = -(var_chaste_interface__environment__dt * (6.4775767022812476e-07 * var_t1068));
        rJacobian[15][14] = -(var_chaste_interface__environment__dt * (0.5 * var_t1054));
        rJacobian[15][15] = 1.0 - (var_chaste_interface__environment__dt * ((6.4775767022812476e-07 * (((((((-(((var_t64 * var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL) * var_t691) * 8712.0)) - ((var_t114 * var_t691) * 612.0)) - (var_t691 * 0.040000000000000001)) - (2.0 * var_t717)) - var_t1003) + (var_chaste_interface__RyR_channel__p_open_RyR * var_t1004)) + var_t1006)) + (((-var_t1012) - var_t1015) * 0.070000000000000007)));
        rJacobian[15][16] = 0.0;
        rJacobian[15][17] = -(var_chaste_interface__environment__dt * (((((3.8865460213687481e-06 * var_t431) * var_t981) * var_chaste_interface__sodium_calcium_exchanger_y_gate__y) * var_t509) * var_t415));
        rJacobian[15][18] = 0.0;
        rJacobian[15][19] = -(var_chaste_interface__environment__dt * var_t912);
        rJacobian[15][20] = 0.0;
        rJacobian[15][21] = 0.0;
        rJacobian[15][22] = 0.0;
        rJacobian[15][23] = 0.0;
        rJacobian[15][24] = 0.0;
        rJacobian[16][0] = -(var_chaste_interface__environment__dt * (1.2955153404562495e-06 * (((((((160.0 * var_chaste_interface__ATP_production__ATPi) / pow(var_t381, 2.0)) * var_t196) * 1.4989063599997432) * 55.058799999999998) - ((0.00300468 * var_t727) * var_t738)) + (0.73999999999999999 * var_t756))));
        rJacobian[16][1] = 0.0;
        rJacobian[16][2] = 0.0;
        rJacobian[16][3] = 0.0;
        rJacobian[16][4] = -(var_chaste_interface__environment__dt * (-var_t950));
        rJacobian[16][5] = -(var_chaste_interface__environment__dt * (-var_t950));
        rJacobian[16][6] = 0.0;
        rJacobian[16][7] = -(var_chaste_interface__environment__dt * ((( -0.00036499999999999998 * var_t884) * var_t56) * var_t737));
        rJacobian[16][8] = 0.0;
        rJacobian[16][9] = 0.0;
        rJacobian[16][10] = 0.0;
        rJacobian[16][11] = 0.0;
        rJacobian[16][12] = 0.0;
        rJacobian[16][13] = 0.0;
        rJacobian[16][14] = 0.0;
        rJacobian[16][15] = -(var_chaste_interface__environment__dt * (((( -6.7159515249251982e-15 * var_t686) * var_t704) * var_t702) * (var_t699 * 0.11)));
        rJacobian[16][16] = 1.0 - (var_chaste_interface__environment__dt * (1.2955153404562495e-06 * ((((((((((((-var_t535) - var_t637) - var_t644) - var_t648) - var_t672) - var_t646) - var_t523) - var_t527) - var_t650) - var_t666) - var_t664) - (0.82879999999999998 * var_t677))));
        rJacobian[16][17] = -(var_chaste_interface__environment__dt * (0.78439999999999999 * var_t927));
        rJacobian[16][18] = -(var_chaste_interface__environment__dt * (( -0.90000000000000002 * var_t899) * (var_t699 * 5.04)));
        rJacobian[16][19] = 0.0;
        rJacobian[16][20] = 0.0;
        rJacobian[16][21] = -(var_chaste_interface__environment__dt * (( -0.10000000000000001 * var_t876) * (var_t699 * 2860.0)));
        rJacobian[16][22] = 0.0;
        rJacobian[16][23] = -(var_chaste_interface__environment__dt * (2.0 * var_t916));
        rJacobian[16][24] = -(var_chaste_interface__environment__dt * (( -6.5991052652852684e-07 * (var_t190 * var_t196)) * var_t195));
        rJacobian[17][0] = -(var_chaste_interface__environment__dt * ( -1.2955153404562495e-06 * (((0.000152292 * var_t727) * var_t721) + (1.1100000000000001 * var_t756))));
        rJacobian[17][1] = 0.0;
        rJacobian[17][2] = 0.0;
        rJacobian[17][3] = 0.0;
        rJacobian[17][4] = -(var_chaste_interface__environment__dt * (-var_t888));
        rJacobian[17][5] = -(var_chaste_interface__environment__dt * (-var_t888));
        rJacobian[17][6] = 0.0;
        rJacobian[17][7] = -(var_chaste_interface__environment__dt * ((( -1.8499999999999999e-05 * var_t884) * var_t56) * var_t720));
        rJacobian[17][8] = 0.0;
        rJacobian[17][9] = 0.0;
        rJacobian[17][10] = 0.0;
        rJacobian[17][11] = 0.0;
        rJacobian[17][12] = 0.0;
        rJacobian[17][13] = 0.0;
        rJacobian[17][14] = 0.0;
        rJacobian[17][15] = -(var_chaste_interface__environment__dt * ( -1.2955153404562495e-06 * ((((5.1840000000000003e-09 * ((var_t686 * var_t704) * var_t702)) * var_t710) * 0.11) - (3.0 * var_t717))));
        rJacobian[17][16] = -(var_chaste_interface__environment__dt * (1.2432000000000001 * var_t865));
        rJacobian[17][17] = 1.0 - (var_chaste_interface__environment__dt * ( -1.2955153404562495e-06 * (((((((((var_t36 * var_t468) * 2860.0) + ((var_t288 * var_t468) * 0.2016)) + ((var_t296 * var_t468) * 0.00297)) + ((((1.8499999999999999e-05 * var_t64) * var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL) * var_t468) * 8712.0)) + (var_t468 * 0.38500000000000001)) + ((var_t374 * var_t468) * 0.11)) + (1.1766000000000001 * (((var_t503 * var_t499) * var_chaste_interface__sodium_potassium_pump_y_gate__y) * var_t498))) + (9.0 * (((var_t431 * var_t513) * var_t511) * var_t510)))));
        rJacobian[17][18] = -(var_chaste_interface__environment__dt * (( -0.90000000000000002 * var_t899) * (var_t710 * 0.2016)));
        rJacobian[17][19] = -(var_chaste_interface__environment__dt * ( -3.0 * var_t912));
        rJacobian[17][20] = 0.0;
        rJacobian[17][21] = -(var_chaste_interface__environment__dt * ((-var_t876) * (var_t710 * 2860.0)));
        rJacobian[17][22] = 0.0;
        rJacobian[17][23] = -(var_chaste_interface__environment__dt * ( -3.0 * var_t916));
        rJacobian[17][24] = 0.0;
        rJacobian[18][0] = 0.0;
        rJacobian[18][1] = 0.0;
        rJacobian[18][2] = 0.0;
        rJacobian[18][3] = 0.0;
        rJacobian[18][4] = 0.0;
        rJacobian[18][5] = 0.0;
        rJacobian[18][6] = 0.0;
        rJacobian[18][7] = 0.0;
        rJacobian[18][8] = 0.0;
        rJacobian[18][9] = 0.0;
        rJacobian[18][10] = 0.0;
        rJacobian[18][11] = 0.0;
        rJacobian[18][12] = 0.0;
        rJacobian[18][13] = 0.0;
        rJacobian[18][14] = 0.0;
        rJacobian[18][15] = -(var_chaste_interface__environment__dt * ((1.0 - var_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2) * ((0.92500000000000004 * var_t684) + 1.8500000000000001)));
        rJacobian[18][16] = 0.0;
        rJacobian[18][17] = 0.0;
        rJacobian[18][18] = 1.0 - (var_chaste_interface__environment__dt * ((((( -1.8500000000000001 * var_t77) + 0.092500000000000013) - (1.8500000000000001 * var_chaste_interface__internal_ion_concentrations__Ca_Total)) + 0.0044030000000000007) - 0.004444));
        rJacobian[18][19] = 0.0;
        rJacobian[18][20] = 0.0;
        rJacobian[18][21] = 0.0;
        rJacobian[18][22] = 0.0;
        rJacobian[18][23] = 0.0;
        rJacobian[18][24] = 0.0;
        rJacobian[19][0] = 0.0;
        rJacobian[19][1] = 0.0;
        rJacobian[19][2] = 0.0;
        rJacobian[19][3] = 0.0;
        rJacobian[19][4] = 0.0;
        rJacobian[19][5] = 0.0;
        rJacobian[19][6] = 0.0;
        rJacobian[19][7] = 0.0;
        rJacobian[19][8] = 0.0;
        rJacobian[19][9] = 0.0;
        rJacobian[19][10] = 0.0;
        rJacobian[19][11] = 0.0;
        rJacobian[19][12] = 0.0;
        rJacobian[19][13] = 0.0;
        rJacobian[19][14] = 0.0;
        rJacobian[19][15] = -(var_chaste_interface__environment__dt * ((-var_chaste_interface__sodium_calcium_exchanger_y_gate__y) * ((((-var_t715) * 669.921875) * var_t509) + (((var_t686 * var_t1832) * var_t1000) * var_t1838))));
        rJacobian[19][16] = 0.0;
        rJacobian[19][17] = -(var_chaste_interface__environment__dt * (( -3.0 * var_chaste_interface__sodium_calcium_exchanger_y_gate__y) * (((var_t431 * var_t981) * var_t509) - (((0.0014927113702623907 * var_t425) * var_t992) * var_t1838))));
        rJacobian[19][18] = 0.0;
        rJacobian[19][19] = 1.0 - (var_chaste_interface__environment__dt * ((((-var_t839) - 0.20379327210477693) - var_t838) - ((1.0 / var_t1834) * 1.0)));
        rJacobian[19][20] = 0.0;
        rJacobian[19][21] = 0.0;
        rJacobian[19][22] = 0.0;
        rJacobian[19][23] = 0.0;
        rJacobian[19][24] = 0.0;
        rJacobian[20][0] = 0.0;
        rJacobian[20][1] = 0.0;
        rJacobian[20][2] = 0.0;
        rJacobian[20][3] = 0.0;
        rJacobian[20][4] = 0.0;
        rJacobian[20][5] = 0.0;
        rJacobian[20][6] = 0.0;
        rJacobian[20][7] = 0.0;
        rJacobian[20][8] = 0.0;
        rJacobian[20][9] = 0.0;
        rJacobian[20][10] = 0.0;
        rJacobian[20][11] = 0.0;
        rJacobian[20][12] = 0.0;
        rJacobian[20][13] = 0.0;
        rJacobian[20][14] = 0.0;
        rJacobian[20][15] = 0.0;
        rJacobian[20][16] = 0.0;
        rJacobian[20][17] = 0.0;
        rJacobian[20][18] = 0.0;
        rJacobian[20][19] = 0.0;
        rJacobian[20][20] = 1.0 - (var_chaste_interface__environment__dt * (((-var_t1196) - (1.0 / var_t1203)) - 8.7499999999999999e-05));
        rJacobian[20][21] = -(var_chaste_interface__environment__dt * ((-var_t1196) + var_t1186));
        rJacobian[20][22] = -(var_chaste_interface__environment__dt * (-var_t1196));
        rJacobian[20][23] = 0.0;
        rJacobian[20][24] = 0.0;
        rJacobian[21][0] = 0.0;
        rJacobian[21][1] = 0.0;
        rJacobian[21][2] = 0.0;
        rJacobian[21][3] = 0.0;
        rJacobian[21][4] = 0.0;
        rJacobian[21][5] = 0.0;
        rJacobian[21][6] = 0.0;
        rJacobian[21][7] = 0.0;
        rJacobian[21][8] = 0.0;
        rJacobian[21][9] = 0.0;
        rJacobian[21][10] = 0.0;
        rJacobian[21][11] = 0.0;
        rJacobian[21][12] = 0.0;
        rJacobian[21][13] = 0.0;
        rJacobian[21][14] = 0.0;
        rJacobian[21][15] = 0.0;
        rJacobian[21][16] = 0.0;
        rJacobian[21][17] = 0.0;
        rJacobian[21][18] = 0.0;
        rJacobian[21][19] = 0.0;
        rJacobian[21][20] = -(var_chaste_interface__environment__dt * 8.7499999999999999e-05);
        rJacobian[21][21] = 1.0 - (var_chaste_interface__environment__dt * ((-var_t1185) - var_t1186));
        rJacobian[21][22] = -(var_chaste_interface__environment__dt * var_t1188);
        rJacobian[21][23] = 0.0;
        rJacobian[21][24] = 0.0;
        rJacobian[22][0] = 0.0;
        rJacobian[22][1] = 0.0;
        rJacobian[22][2] = 0.0;
        rJacobian[22][3] = 0.0;
        rJacobian[22][4] = 0.0;
        rJacobian[22][5] = 0.0;
        rJacobian[22][6] = 0.0;
        rJacobian[22][7] = 0.0;
        rJacobian[22][8] = 0.0;
        rJacobian[22][9] = 0.0;
        rJacobian[22][10] = 0.0;
        rJacobian[22][11] = 0.0;
        rJacobian[22][12] = 0.0;
        rJacobian[22][13] = 0.0;
        rJacobian[22][14] = 0.0;
        rJacobian[22][15] = 0.0;
        rJacobian[22][16] = 0.0;
        rJacobian[22][17] = 0.0;
        rJacobian[22][18] = 0.0;
        rJacobian[22][19] = 0.0;
        rJacobian[22][20] = -(var_chaste_interface__environment__dt * ( -0.01 + var_t1248));
        rJacobian[22][21] = -(var_chaste_interface__environment__dt * ((var_t1185 - 0.01) + var_t1248));
        rJacobian[22][22] = 1.0 - (var_chaste_interface__environment__dt * ( -0.01 - var_t1188));
        rJacobian[22][23] = 0.0;
        rJacobian[22][24] = 0.0;
        rJacobian[23][0] = -(var_chaste_interface__environment__dt * ((( -0.37 * var_t753) * var_t1130) * var_t1128));
        rJacobian[23][1] = 0.0;
        rJacobian[23][2] = 0.0;
        rJacobian[23][3] = 0.0;
        rJacobian[23][4] = 0.0;
        rJacobian[23][5] = 0.0;
        rJacobian[23][6] = 0.0;
        rJacobian[23][7] = 0.0;
        rJacobian[23][8] = 0.0;
        rJacobian[23][9] = 0.0;
        rJacobian[23][10] = 0.0;
        rJacobian[23][11] = 0.0;
        rJacobian[23][12] = 0.0;
        rJacobian[23][13] = 0.0;
        rJacobian[23][14] = 0.0;
        rJacobian[23][15] = 0.0;
        rJacobian[23][16] = -(var_chaste_interface__environment__dt * ((-var_chaste_interface__sodium_potassium_pump_y_gate__y) * ((( -0.012603406326034062 * var_t861) * var_t497) + (((((1.1200000000000001 / pow(var_chaste_interface__internal_ion_concentrations__Ki, 2.0)) * 32.880000000000003) * var_t1904) * pow(var_t1899, 0.12)) * var_t1909))));
        rJacobian[23][17] = -(var_chaste_interface__environment__dt * ((-var_chaste_interface__sodium_potassium_pump_y_gate__y) * ((((0.39219999999999999 * var_t503) * var_t499) * var_t497) - (((0.2617283950617284 * pow(var_t1902, 0.059999999999999998)) * var_t1900) * var_t1909))));
        rJacobian[23][18] = 0.0;
        rJacobian[23][19] = 0.0;
        rJacobian[23][20] = 0.0;
        rJacobian[23][21] = 0.0;
        rJacobian[23][22] = 0.0;
        rJacobian[23][23] = 1.0 - (var_chaste_interface__environment__dt * ((((-var_t845) - ((1.0 / var_t1881) * 0.16500000000000001)) - var_t843) - ((1.0 / var_t1906) * 0.01)));
        rJacobian[23][24] = 0.0;
        rJacobian[24][0] = 0.0;
        rJacobian[24][1] = 0.0;
        rJacobian[24][2] = 0.0;
        rJacobian[24][3] = 0.0;
        rJacobian[24][4] = 0.0;
        rJacobian[24][5] = 0.0;
        rJacobian[24][6] = 0.0;
        rJacobian[24][7] = 0.0;
        rJacobian[24][8] = 0.0;
        rJacobian[24][9] = 0.0;
        rJacobian[24][10] = 0.0;
        rJacobian[24][11] = 0.0;
        rJacobian[24][12] = 0.0;
        rJacobian[24][13] = 0.0;
        rJacobian[24][14] = 0.0;
        rJacobian[24][15] = 0.0;
        rJacobian[24][16] = -(var_chaste_interface__environment__dt * (((((((-((((941.17647039999997 * var_t1531) * var_t536) * 2577.433) + (((0.023333333333333334 * var_t1536) * var_t536) * 2577.433))) * ((1.0 - var_chaste_interface__time_independent_potassium_current_y_gate__y) / pow(var_t1538, 2.0))) + (((15.552 * var_t585) * var_t1600) * var_t1599)) - ((((20.736000000000001 * var_t541) * var_t1605) * var_t1598) * var_t198)) + (((((9.7200000000000006 * var_t546) * var_t1605) * var_t1559) * var_t204) * var_t138)) + ((((324.0 * var_t577) * var_chaste_interface__time_independent_potassium_current_y_gate__y) * (var_t1559 * var_t209)) * var_t1547)) + ((((81.0 * (((( -1.5384615389999999e-05 * var_t1551) * var_t536) * 2577.433) - (((0.00040000000000000002 * var_t1556) * var_t536) * 2577.433))) * var_chaste_interface__time_independent_potassium_current_y_gate__y) * ((1.0 / pow(var_t1558, 2.0)) * var_t166)) * var_t1547)));
        rJacobian[24][17] = 0.0;
        rJacobian[24][18] = 0.0;
        rJacobian[24][19] = 0.0;
        rJacobian[24][20] = 0.0;
        rJacobian[24][21] = 0.0;
        rJacobian[24][22] = 0.0;
        rJacobian[24][23] = 0.0;
        rJacobian[24][24] = 1.0 - (var_chaste_interface__environment__dt * (( -1.0 / var_t1538) - (81.0 * var_t1599)));
    }
    
    void Dynamicmatsuoka_model_2003FromCellMLBackwardEuler::UpdateTransmembranePotential(double var_chaste_interface__environment__time)
    {
        // Time units: millisecond
        std::vector<double>& rY = rGetStateVariables();
        double var_chaste_interface__membrane__Vm = (mSetVoltageDerivativeToZero ? this->mFixedVoltage : rY[0]);
        // Units: millivolt; Initial value: -85.95752434460744
        double var_chaste_interface__internal_ion_concentrations__Nai = rY[1];
        // Units: millimolar; Initial value: 4.925761439682025
        double var_chaste_interface__internal_ion_concentrations__Ki = rY[2];
        // Units: millimolar; Initial value: 143.1837333000449
        double var_chaste_interface__internal_ion_concentrations__Ca_Total = rY[3];
        // Units: millimolar; Initial value: 4.0180173572968586e-4
        double var_chaste_interface__ATP_production__ATPi = rY[4];
        // Units: millimolar; Initial value: 4.657102729020499
        double var_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na = rY[5];
        // Units: dimensionless; Initial value: 1.779648367445368e-5
        double var_chaste_interface__sodium_current_ultra_slow_gate__y = rY[8];
        // Units: dimensionless; Initial value: 0.5861887862983165
        double var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL = rY[9];
        // Units: dimensionless; Initial value: 1.5445004166497696e-6
        double var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_U = rY[12];
        // Units: dimensionless; Initial value: 0.17246483915629204
        double var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_UCa = rY[13];
        // Units: dimensionless; Initial value: 6.098246017787626e-5
        double var_chaste_interface__L_type_Ca_channel_ultra_slow_gate__y = rY[15];
        // Units: dimensionless; Initial value: 0.9985266538252986
        double var_chaste_interface__T_type_Ca_channel_y1_gate__y1 = rY[16];
        // Units: dimensionless; Initial value: 1.6882718240109127e-5
        double var_chaste_interface__T_type_Ca_channel_y2_gate__y2 = rY[17];
        // Units: dimensionless; Initial value: 0.8585352091865849
        double var_chaste_interface__time_independent_potassium_current_y_gate__y = rY[18];
        // Units: dimensionless; Initial value: 0.6080573900752752
        double var_chaste_interface__rapid_time_dependent_potassium_current_y1_gate__y1 = rY[19];
        // Units: dimensionless; Initial value: 0.0018339931180983765
        double var_chaste_interface__rapid_time_dependent_potassium_current_y2_gate__y2 = rY[20];
        // Units: dimensionless; Initial value: 0.20443083454225305
        double var_chaste_interface__rapid_time_dependent_potassium_current_y3_gate__y3 = rY[21];
        // Units: dimensionless; Initial value: 0.967887666264921
        double var_chaste_interface__slow_time_dependent_potassium_current_y1_gate__y1 = rY[22];
        // Units: dimensionless; Initial value: 0.09738789658609195
        double var_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2 = rY[23];
        // Units: dimensionless; Initial value: 0.09745345578743213
        double var_chaste_interface__transient_outward_current_y1_gate__y1 = rY[24];
        // Units: dimensionless; Initial value: 7.956883250874798e-4
        double var_chaste_interface__transient_outward_current_y2_gate__y2 = rY[25];
        // Units: dimensionless; Initial value: 0.9999125083105881
        double var_chaste_interface__sodium_calcium_exchanger_y_gate__y = rY[26];
        // Units: dimensionless; Initial value: 0.9891789193465331
        double var_chaste_interface__sodium_potassium_pump_y_gate__y = rY[27];
        // Units: dimensionless; Initial value: 0.5910747147428818
        
        const double var_membrane__Cm = 132.0; // picoF
        const double var_chaste_interface__membrane__i_ext = GetIntracellularAreaStimulus(var_chaste_interface__environment__time);
        const double var_constant_field_equations__CF_Na = (var_chaste_interface__membrane__Vm == 0.0) ?  -140.0 : ((((96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715) * (var_chaste_interface__internal_ion_concentrations__Nai - (140.0 * exp(( -96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715)))) / (1.0 - exp(( -96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715))); // millimolar
        const double var_sodium_current__i_Na_Na = 2860.0 * var_constant_field_equations__CF_Na * var_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na * var_chaste_interface__sodium_current_ultra_slow_gate__y; // picoA
        const double var_constant_field_equations__CF_K = (var_chaste_interface__membrane__Vm == 0.0) ? var_chaste_interface__internal_ion_concentrations__Ki : ((((96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715) * (var_chaste_interface__internal_ion_concentrations__Ki - (5.4000000000000004 * exp(( -96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715)))) / (1.0 - exp(( -96.486699999999999 * var_chaste_interface__membrane__Vm) * 0.0003879829271992715))); // millimolar
        const double var_sodium_current__i_Na_K = var_constant_field_equations__CF_K * var_chaste_interface__sodium_current_voltage_dependent_gate__p_AP_Na * var_chaste_interface__sodium_current_ultra_slow_gate__y * 286.0; // picoA
        const double var_internal_ion_concentrations__b1 = (0.050000000000000003 - var_chaste_interface__internal_ion_concentrations__Ca_Total) + 0.0023800000000000002; // millimolar
        const double var_internal_ion_concentrations__Cai = (sqrt(pow(var_internal_ion_concentrations__b1, 2.0) + (4.0 * (0.0023800000000000002 * var_chaste_interface__internal_ion_concentrations__Ca_Total))) - var_internal_ion_concentrations__b1) * 0.5; // millimolar
        const double var_constant_field_equations__CF_Ca = (var_chaste_interface__membrane__Vm == 0.0) ?  -1.8 : ((((var_chaste_interface__membrane__Vm * 192.9734) * 0.0003879829271992715) * (var_internal_ion_concentrations__Cai - (1.8 * exp((var_chaste_interface__membrane__Vm *  -192.9734) * 0.0003879829271992715)))) / (1.0 - exp((var_chaste_interface__membrane__Vm *  -192.9734) * 0.0003879829271992715))); // millimolar
        const double var_L_type_Ca_channel__p_open_CaL = (var_chaste_interface__L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL * (var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_U + var_chaste_interface__L_type_Ca_channel_Ca_dependent_gate__p_UCa) * var_chaste_interface__L_type_Ca_channel_ultra_slow_gate__y) / (1.0 + pow(1.3999999999999999 / var_chaste_interface__ATP_production__ATPi, 3.0)); // dimensionless
        const double var_L_type_Ca_channel__i_CaL_Ca = 8712.0 * var_constant_field_equations__CF_Ca * var_L_type_Ca_channel__p_open_CaL; // picoA
        const double var_L_type_Ca_channel__i_CaL_Na = var_constant_field_equations__CF_Na * var_L_type_Ca_channel__p_open_CaL * 0.16117199999999998; // picoA
        const double var_L_type_Ca_channel__i_CaL_K = var_constant_field_equations__CF_K * var_L_type_Ca_channel__p_open_CaL * 3.1798799999999998; // picoA
        const double var_time_independent_potassium_current__E_K = 26.71283192398538 * log(5.4000000000000004 / var_chaste_interface__internal_ion_concentrations__Ki); // millivolt
        const double var_rapid_time_dependent_potassium_current__i_Kr = (var_membrane__Cm * 0.0086400000000000001) * (var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) * ((0.59999999999999998 * var_chaste_interface__rapid_time_dependent_potassium_current_y1_gate__y1) + (0.40000000000000002 * var_chaste_interface__rapid_time_dependent_potassium_current_y2_gate__y2)) * var_chaste_interface__rapid_time_dependent_potassium_current_y3_gate__y3; // picoA
        const double var_sodium_calcium_exchanger__p_E1Na = 1.0 / (1.0 + (pow(8.75 / var_chaste_interface__internal_ion_concentrations__Nai, 3.0) * (1.0 + (var_internal_ion_concentrations__Cai * 724.63768115942037)))); // dimensionless
        const double var_sodium_calcium_exchanger__k2 = 1.0 * exp((var_chaste_interface__membrane__Vm *  -65.610955999999987) * 0.0003879829271992715); // per_millisecond
        const double var_sodium_calcium_exchanger__k1 = 1.0 * exp((var_chaste_interface__membrane__Vm * 30.875744000000001) * 0.0003879829271992715); // per_millisecond
        const double var_sodium_calcium_exchanger__i_NaCa = var_membrane__Cm * ((var_sodium_calcium_exchanger__k1 * var_sodium_calcium_exchanger__p_E1Na * var_chaste_interface__sodium_calcium_exchanger_y_gate__y) - (var_sodium_calcium_exchanger__k2 * 0.63996521928156069 * (1.0 - var_chaste_interface__sodium_calcium_exchanger_y_gate__y))) * 6.8099999999999996; // picoA
        const double var_sodium_potassium_pump__Nao_Eff = 140.0 * exp((var_chaste_interface__membrane__Vm *  -79.11909399999999) * 0.0003879829271992715); // millimolar
        const double var_sodium_potassium_pump__p_E2Na = 1.0 / (1.0 + (pow(69.799999999999997 / var_sodium_potassium_pump__Nao_Eff, 1.0600000000000001) * 31.148585460707125)); // dimensionless
        const double var_sodium_potassium_pump__p_E1Na = 1.0 / (1.0 + (pow(4.0499999999999998 / var_chaste_interface__internal_ion_concentrations__Nai, 1.0600000000000001) * (1.0 + pow(var_chaste_interface__internal_ion_concentrations__Ki * 0.030413625304136251, 1.1200000000000001)))); // dimensionless
        const double var_sodium_potassium_pump__k1 = 0.37 / (1.0 + (0.094 / var_chaste_interface__ATP_production__ATPi)); // per_millisecond
        const double var_sodium_potassium_pump__i_NaK = var_membrane__Cm * ((var_sodium_potassium_pump__k1 * var_sodium_potassium_pump__p_E1Na * var_chaste_interface__sodium_potassium_pump_y_gate__y) - (0.040000000000000001 * var_sodium_potassium_pump__p_E2Na * (1.0 - var_chaste_interface__sodium_potassium_pump_y_gate__y))) * 21.0; // picoA
        const double var_background_Kpl_current__i_Kpl = (var_chaste_interface__membrane__Vm ==  -3.0) ? (var_constant_field_equations__CF_K * 0.0014308470000000001) : ((0.00011 * var_constant_field_equations__CF_K * (var_chaste_interface__membrane__Vm + 3.0)) / (1.0 - exp((-(var_chaste_interface__membrane__Vm + 3.0)) * 0.076923076923076927))); // picoA
        const double var_background_lCa_current__p_open = 1.0 / (1.0 + pow(0.0011999999999999999 / var_internal_ion_concentrations__Cai, 3.0)); // dimensionless
        const double var_background_lCa_current__i_lCa_Na = 0.11 * var_constant_field_equations__CF_Na * var_background_lCa_current__p_open; // picoA
        const double var_background_lCa_current__i_lCa_K = 0.11 * var_constant_field_equations__CF_K * var_background_lCa_current__p_open; // picoA
        const double var_background_KATP_current__i_KATP = 82.527985493953864 * (var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) * (0.80000000000000004 / (1.0 + pow(var_chaste_interface__ATP_production__ATPi * 10.0, 2.0))); // picoA
        const double var_background_Cab_current__i_Cab = 0.040000000000000001 * var_constant_field_equations__CF_Ca; // picoA
        const double var_background_NSC_current__i_bNSC_K = var_constant_field_equations__CF_K * 0.15400000000000003; // picoA
        const double var_background_NSC_current__i_bNSC_Na = 0.38500000000000001 * var_constant_field_equations__CF_Na; // picoA
        const double var_T_type_Ca_channel__i_Ca_T = 612.0 * var_constant_field_equations__CF_Ca * var_chaste_interface__T_type_Ca_channel_y1_gate__y1 * var_chaste_interface__T_type_Ca_channel_y2_gate__y2; // picoA
        const double var_transient_outward_current__i_to_Na = 0.00297 * var_constant_field_equations__CF_Na * pow(var_chaste_interface__transient_outward_current_y1_gate__y1, 3.0) * var_chaste_interface__transient_outward_current_y2_gate__y2; // picoA
        const double var_transient_outward_current__i_to_K = 0.033000000000000002 * var_constant_field_equations__CF_K * pow(var_chaste_interface__transient_outward_current_y1_gate__y1, 3.0) * var_chaste_interface__transient_outward_current_y2_gate__y2; // picoA
        const double var_slow_time_dependent_potassium_current__i_Ks_Na = 0.2016 * var_constant_field_equations__CF_Na * pow(var_chaste_interface__slow_time_dependent_potassium_current_y1_gate__y1, 2.0) * ((0.90000000000000002 * var_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2) + 0.10000000000000001); // picoA
        const double var_slow_time_dependent_potassium_current__i_Ks_K = 5.04 * var_constant_field_equations__CF_K * pow(var_chaste_interface__slow_time_dependent_potassium_current_y1_gate__y1, 2.0) * ((0.90000000000000002 * var_chaste_interface__slow_time_dependent_potassium_current_y2_gate__y2) + 0.10000000000000001); // picoA
        const double var_time_independent_potassium_current__mu = (0.75 * exp(0.035000000000000003 * ((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 10.0))) / (1.0 + exp(0.014999999999999999 * ((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 140.0))); // per_millisecond
        const double var_time_independent_potassium_current__lambda = (3.0 * exp( -0.048000000000000001 * ((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 10.0)) * (1.0 + exp(0.064000000000000001 * ((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 38.0)))) / (1.0 + exp(0.029999999999999999 * ((var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) - 70.0))); // per_millisecond
        const double var_time_independent_potassium_current__fO = var_time_independent_potassium_current__lambda / (var_time_independent_potassium_current__mu + var_time_independent_potassium_current__lambda); // dimensionless
        const double var_time_independent_potassium_current__fB = var_time_independent_potassium_current__mu / (var_time_independent_potassium_current__mu + var_time_independent_potassium_current__lambda); // dimensionless
        const double var_time_independent_potassium_current__i_K1 = (var_membrane__Cm * 1.1459999999999999) * (var_chaste_interface__membrane__Vm - var_time_independent_potassium_current__E_K) * (pow(var_time_independent_potassium_current__fO, 4.0) + (2.6666666666666665 * pow(var_time_independent_potassium_current__fO, 3.0) * var_time_independent_potassium_current__fB) + (2.0 * pow(var_time_independent_potassium_current__fO, 2.0) * pow(var_time_independent_potassium_current__fB, 2.0))) * var_chaste_interface__time_independent_potassium_current_y_gate__y; // picoA
        const double var_membrane__i_tot = (var_sodium_current__i_Na_Na + var_sodium_current__i_Na_K) + (var_L_type_Ca_channel__i_CaL_Na + var_L_type_Ca_channel__i_CaL_Ca + var_L_type_Ca_channel__i_CaL_K) + var_T_type_Ca_channel__i_Ca_T + var_time_independent_potassium_current__i_K1 + var_rapid_time_dependent_potassium_current__i_Kr + (var_slow_time_dependent_potassium_current__i_Ks_Na + var_slow_time_dependent_potassium_current__i_Ks_K) + (var_transient_outward_current__i_to_Na + var_transient_outward_current__i_to_K) + ((var_background_NSC_current__i_bNSC_K + var_background_NSC_current__i_bNSC_Na) + var_background_Cab_current__i_Cab + var_background_Kpl_current__i_Kpl + (var_background_lCa_current__i_lCa_K + var_background_lCa_current__i_lCa_Na) + var_background_KATP_current__i_KATP) + var_sodium_potassium_pump__i_NaK + var_sodium_calcium_exchanger__i_NaCa; // picoA
        const double d_dt_chaste_interface__membrane__Vm = (-(var_membrane__i_tot + ((var_chaste_interface__membrane__i_ext * var_membrane__Cm) / HeartConfig::Instance()->GetCapacitance()))) / var_membrane__Cm; // 'millivolt per millisecond'
        
        rY[0] += mDt*d_dt_chaste_interface__membrane__Vm;
    }
    
    void Dynamicmatsuoka_model_2003FromCellMLBackwardEuler::ComputeOneStepExceptVoltage(double var_chaste_interface__environment__time)
    {
        // Time units: millisecond
        std::vector<double>& rY = rGetStateVariables();
        double var_chaste_interface__membrane__Vm = (mSetVoltageDerivativeToZero ? this->mFixedVoltage : rY[0]);
        // Units: millivolt; Initial value: -85.95752434460744
        double var_chaste_interface__sodium_current_ultra_slow_gate__y = rY[8];
        // Units: dimensionless; Initial value: 0.5861887862983165
        double var_chaste_interface__L_type_Ca_channel_ultra_slow_gate__y = rY[15];
        // Units: dimensionless; Initial value: 0.9985266538252986
        double var_chaste_interface__T_type_Ca_channel_y1_gate__y1 = rY[16];
        // Units: dimensionless; Initial value: 1.6882718240109127e-5
        double var_chaste_interface__T_type_Ca_channel_y2_gate__y2 = rY[17];
        // Units: dimensionless; Initial value: 0.8585352091865849
        double var_chaste_interface__rapid_time_dependent_potassium_current_y1_gate__y1 = rY[19];
        // Units: dimensionless; Initial value: 0.0018339931180983765
        double var_chaste_interface__rapid_time_dependent_potassium_current_y2_gate__y2 = rY[20];
        // Units: dimensionless; Initial value: 0.20443083454225305
        double var_chaste_interface__rapid_time_dependent_potassium_current_y3_gate__y3 = rY[21];
        // Units: dimensionless; Initial value: 0.967887666264921
        double var_chaste_interface__slow_time_dependent_potassium_current_y1_gate__y1 = rY[22];
        // Units: dimensionless; Initial value: 0.09738789658609195
        double var_chaste_interface__transient_outward_current_y1_gate__y1 = rY[24];
        // Units: dimensionless; Initial value: 7.956883250874798e-4
        double var_chaste_interface__transient_outward_current_y2_gate__y2 = rY[25];
        // Units: dimensionless; Initial value: 0.9999125083105881
        double var_chaste_interface__NL_model__X = rY[36];
        // Units: micrometre; Initial value: 0.9573749975411884
        
        const double var_chaste_interface__environment__dt = mDt;

        const double var_sodium_current_ultra_slow_gate__alpha_y = 1.0 / ((9000000000.0 * exp(var_chaste_interface__membrane__Vm * 0.20000000000000001)) + (8000.0 * exp(var_chaste_interface__membrane__Vm * 0.01))); // per_millisecond
        const double var_L_type_Ca_channel_ultra_slow_gate__alpha_y = 1.0 / ((250000.0 * exp(var_chaste_interface__membrane__Vm * 0.1111111111111111)) + (58.0 * exp(var_chaste_interface__membrane__Vm * 0.015384615384615385))); // per_millisecond
        const double var_T_type_Ca_channel_y1_gate__alpha_y1 = 1.0 / ((0.019 * exp((-var_chaste_interface__membrane__Vm) * 0.17857142857142858)) + (0.81999999999999995 * exp((-var_chaste_interface__membrane__Vm) * 0.0040000000000000001))); // per_millisecond
        const double var_T_type_Ca_channel_y2_gate__alpha_y2 = 1.0 / ((62000.0 * exp(var_chaste_interface__membrane__Vm * 0.099009900990099015)) + (30.0 * exp(var_chaste_interface__membrane__Vm * 0.00033333333333333332))); // per_millisecond
        const double var_rapid_time_dependent_potassium_current_y1_gate__alpha_y1 = 1.0 / ((20.0 * exp((-var_chaste_interface__membrane__Vm) * 0.086956521739130432)) + (5.0 * exp((-var_chaste_interface__membrane__Vm) * 0.0033333333333333335))); // per_millisecond
        const double var_rapid_time_dependent_potassium_current_y2_gate__alpha_y2 = 1.0 / ((200.0 * exp((-var_chaste_interface__membrane__Vm) * 0.076923076923076927)) + (20.0 * exp((-var_chaste_interface__membrane__Vm) * 0.0033333333333333335))); // per_millisecond
        const double var_rapid_time_dependent_potassium_current_y3_gate__alpha_y3 = 1.0 / ((10.0 * exp(var_chaste_interface__membrane__Vm * 0.058823529411764705)) + (2.5 * exp(var_chaste_interface__membrane__Vm * 0.0033333333333333335))); // per_millisecond
        const double var_slow_time_dependent_potassium_current_y1_gate__alpha_y1 = 1.0 / ((85.0 * exp((-var_chaste_interface__membrane__Vm) * 0.095238095238095233)) + (370.0 * exp((-var_chaste_interface__membrane__Vm) * 0.016129032258064516))); // per_millisecond
        const double var_transient_outward_current_y1_gate__alpha_y1 = 1.0 / ((11.0 * exp((-var_chaste_interface__membrane__Vm) * 0.035714285714285712)) + (0.20000000000000001 * exp((-var_chaste_interface__membrane__Vm) * 0.0025000000000000001))); // per_millisecond
        const double var_transient_outward_current_y2_gate__alpha_y2 = (0.0038 * exp((-(var_chaste_interface__membrane__Vm + 13.5)) * 0.088495575221238937)) / (1.0 + (0.051334999999999999 * exp((-(var_chaste_interface__membrane__Vm + 13.5)) * 0.088495575221238937))); // per_millisecond
        
        rY[15] = (var_chaste_interface__L_type_Ca_channel_ultra_slow_gate__y + ((var_L_type_Ca_channel_ultra_slow_gate__alpha_y * 1.0) * var_chaste_interface__environment__dt)) / (1.0 - (((var_L_type_Ca_channel_ultra_slow_gate__alpha_y *  -1.0) - ((1.0 / ((1800.0 * exp((-var_chaste_interface__membrane__Vm) * 0.071428571428571425)) + (66.0 * exp((-var_chaste_interface__membrane__Vm) * 0.015384615384615385)))) * 1.0)) * var_chaste_interface__environment__dt));
        rY[36] = (var_chaste_interface__NL_model__X + (1.1488559970494261 * var_chaste_interface__environment__dt)) / (1.0 - ( -1.2 * var_chaste_interface__environment__dt));
        rY[16] = (var_chaste_interface__T_type_Ca_channel_y1_gate__y1 + ((var_T_type_Ca_channel_y1_gate__alpha_y1 * 1.0) * var_chaste_interface__environment__dt)) / (1.0 - (((var_T_type_Ca_channel_y1_gate__alpha_y1 *  -1.0) - ((1.0 / ((40.0 * exp(var_chaste_interface__membrane__Vm * 0.15873015873015872)) + (1.5 * exp(var_chaste_interface__membrane__Vm * 0.0001)))) * 1.0)) * var_chaste_interface__environment__dt));
        rY[17] = (var_chaste_interface__T_type_Ca_channel_y2_gate__y2 + ((var_T_type_Ca_channel_y2_gate__alpha_y2 * 1.0) * var_chaste_interface__environment__dt)) / (1.0 - (((var_T_type_Ca_channel_y2_gate__alpha_y2 *  -1.0) - ((1.0 / ((0.00059999999999999995 * exp((-var_chaste_interface__membrane__Vm) * 0.14925373134328357)) + (1.2 * exp((-var_chaste_interface__membrane__Vm) * 0.040000000000000001)))) * 1.0)) * var_chaste_interface__environment__dt));
        rY[19] = (var_chaste_interface__rapid_time_dependent_potassium_current_y1_gate__y1 + ((var_rapid_time_dependent_potassium_current_y1_gate__alpha_y1 * 1.0) * var_chaste_interface__environment__dt)) / (1.0 - (((var_rapid_time_dependent_potassium_current_y1_gate__alpha_y1 *  -1.0) - (((1.0 / ((160.0 * exp(var_chaste_interface__membrane__Vm * 0.035714285714285712)) + (200.0 * exp(var_chaste_interface__membrane__Vm * 0.001)))) + (1.0 / (2500.0 * exp(var_chaste_interface__membrane__Vm * 0.050000000000000003)))) * 1.0)) * var_chaste_interface__environment__dt));
        rY[20] = (var_chaste_interface__rapid_time_dependent_potassium_current_y2_gate__y2 + ((var_rapid_time_dependent_potassium_current_y2_gate__alpha_y2 * 1.0) * var_chaste_interface__environment__dt)) / (1.0 - (((var_rapid_time_dependent_potassium_current_y2_gate__alpha_y2 *  -1.0) - (((1.0 / ((1600.0 * exp(var_chaste_interface__membrane__Vm * 0.035714285714285712)) + (2000.0 * exp(var_chaste_interface__membrane__Vm * 0.001)))) + (1.0 / (10000.0 * exp(var_chaste_interface__membrane__Vm * 0.050000000000000003)))) * 1.0)) * var_chaste_interface__environment__dt));
        rY[21] = (var_chaste_interface__rapid_time_dependent_potassium_current_y3_gate__y3 + ((var_rapid_time_dependent_potassium_current_y3_gate__alpha_y3 * 1.0) * var_chaste_interface__environment__dt)) / (1.0 - (((var_rapid_time_dependent_potassium_current_y3_gate__alpha_y3 *  -1.0) - ((1.0 / ((0.34999999999999998 * exp((-var_chaste_interface__membrane__Vm) * 0.058823529411764705)) + (2.0 * exp((-var_chaste_interface__membrane__Vm) * 0.0066666666666666671)))) * 1.0)) * var_chaste_interface__environment__dt));
        rY[22] = (var_chaste_interface__slow_time_dependent_potassium_current_y1_gate__y1 + ((var_slow_time_dependent_potassium_current_y1_gate__alpha_y1 * 1.0) * var_chaste_interface__environment__dt)) / (1.0 - (((var_slow_time_dependent_potassium_current_y1_gate__alpha_y1 *  -1.0) - ((1.0 / ((1450.0 * exp(var_chaste_interface__membrane__Vm * 0.050000000000000003)) + (260.0 * exp(var_chaste_interface__membrane__Vm * 0.01)))) * 1.0)) * var_chaste_interface__environment__dt));
        rY[8] = (var_chaste_interface__sodium_current_ultra_slow_gate__y + ((var_sodium_current_ultra_slow_gate__alpha_y * 1.0) * var_chaste_interface__environment__dt)) / (1.0 - (((var_sodium_current_ultra_slow_gate__alpha_y *  -1.0) - ((1.0 / ((0.014 * exp((-var_chaste_interface__membrane__Vm) * 0.20000000000000001)) + (4000.0 * exp((-var_chaste_interface__membrane__Vm) * 0.01)))) * 1.0)) * var_chaste_interface__environment__dt));
        rY[24] = (var_chaste_interface__transient_outward_current_y1_gate__y1 + ((var_transient_outward_current_y1_gate__alpha_y1 * 1.0) * var_chaste_interface__environment__dt)) / (1.0 - (((var_transient_outward_current_y1_gate__alpha_y1 *  -1.0) - ((1.0 / ((4.4000000000000004 * exp(var_chaste_interface__membrane__Vm * 0.0625)) + (0.20000000000000001 * exp(var_chaste_interface__membrane__Vm * 0.002)))) * 1.0)) * var_chaste_interface__environment__dt));
        rY[25] = (var_chaste_interface__transient_outward_current_y2_gate__y2 + ((var_transient_outward_current_y2_gate__alpha_y2 * 1.0) * var_chaste_interface__environment__dt)) / (1.0 - (((var_transient_outward_current_y2_gate__alpha_y2 *  -1.0) - (((0.0038 * exp((var_chaste_interface__membrane__Vm + 13.5) * 0.088495575221238937)) / (1.0 + (0.067083000000000004 * exp((var_chaste_interface__membrane__Vm + 13.5) * 0.088495575221238937)))) * 1.0)) * var_chaste_interface__environment__dt));
        
        double _guess[25] = {rY[4],rY[31],rY[32],rY[14],rY[12],rY[13],rY[11],rY[9],rY[10],rY[35],rY[33],rY[34],rY[30],rY[29],rY[28],rY[3],rY[2],rY[1],rY[23],rY[26],rY[7],rY[5],rY[6],rY[27],rY[18]};
        CardiacNewtonSolver<25,Dynamicmatsuoka_model_2003FromCellMLBackwardEuler>* _p_solver = CardiacNewtonSolver<25,Dynamicmatsuoka_model_2003FromCellMLBackwardEuler>::Instance();
        _p_solver->Solve(*this, var_chaste_interface__environment__time, _guess);
        rY[4] = _guess[0];
        rY[31] = _guess[1];
        rY[32] = _guess[2];
        rY[14] = _guess[3];
        rY[12] = _guess[4];
        rY[13] = _guess[5];
        rY[11] = _guess[6];
        rY[9] = _guess[7];
        rY[10] = _guess[8];
        rY[35] = _guess[9];
        rY[33] = _guess[10];
        rY[34] = _guess[11];
        rY[30] = _guess[12];
        rY[29] = _guess[13];
        rY[28] = _guess[14];
        rY[3] = _guess[15];
        rY[2] = _guess[16];
        rY[1] = _guess[17];
        rY[23] = _guess[18];
        rY[26] = _guess[19];
        rY[7] = _guess[20];
        rY[5] = _guess[21];
        rY[6] = _guess[22];
        rY[27] = _guess[23];
        rY[18] = _guess[24];
    }
    
template<>
void OdeSystemInformation<Dynamicmatsuoka_model_2003FromCellMLBackwardEuler>::Initialise(void)
{
    this->mSystemName = "matsuoka_model_2003";
    this->mFreeVariableName = "environment__time";
    this->mFreeVariableUnits = "millisecond";
    
    // rY[0]:
    this->mVariableNames.push_back("membrane_voltage");
    this->mVariableUnits.push_back("millivolt");
    this->mInitialConditions.push_back(-85.95752434460744);

    // rY[1]:
    this->mVariableNames.push_back("internal_ion_concentrations__Nai");
    this->mVariableUnits.push_back("millimolar");
    this->mInitialConditions.push_back(4.925761439682025);

    // rY[2]:
    this->mVariableNames.push_back("internal_ion_concentrations__Ki");
    this->mVariableUnits.push_back("millimolar");
    this->mInitialConditions.push_back(143.1837333000449);

    // rY[3]:
    this->mVariableNames.push_back("internal_ion_concentrations__Ca_Total");
    this->mVariableUnits.push_back("millimolar");
    this->mInitialConditions.push_back(4.0180173572968586e-4);

    // rY[4]:
    this->mVariableNames.push_back("ATP_production__ATPi");
    this->mVariableUnits.push_back("millimolar");
    this->mInitialConditions.push_back(4.657102729020499);

    // rY[5]:
    this->mVariableNames.push_back("sodium_current_voltage_dependent_gate__p_AP_Na");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(1.779648367445368e-5);

    // rY[6]:
    this->mVariableNames.push_back("sodium_current_voltage_dependent_gate__p_RP_Na");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.3556412697995689);

    // rY[7]:
    this->mVariableNames.push_back("sodium_current_voltage_dependent_gate__p_AI_Na");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.40285968661346977);

    // rY[8]:
    this->mVariableNames.push_back("sodium_current_ultra_slow_gate__y");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.5861887862983165);

    // rY[9]:
    this->mVariableNames.push_back("L_type_Ca_channel_voltage_dependent_gate__p_AP_CaL");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(1.5445004166497696e-6);

    // rY[10]:
    this->mVariableNames.push_back("L_type_Ca_channel_voltage_dependent_gate__p_RP_CaL");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.9968480629364956);

    // rY[11]:
    this->mVariableNames.push_back("L_type_Ca_channel_voltage_dependent_gate__p_AI_CaL");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(8.77325391245903e-4);

    // rY[12]:
    this->mVariableNames.push_back("L_type_Ca_channel_Ca_dependent_gate__p_U");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.17246483915629204);

    // rY[13]:
    this->mVariableNames.push_back("L_type_Ca_channel_Ca_dependent_gate__p_UCa");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(6.098246017787626e-5);

    // rY[14]:
    this->mVariableNames.push_back("L_type_Ca_channel_Ca_dependent_gate__p_C");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.4250747299372254);

    // rY[15]:
    this->mVariableNames.push_back("L_type_Ca_channel_ultra_slow_gate__y");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.9985266538252986);

    // rY[16]:
    this->mVariableNames.push_back("T_type_Ca_channel_y1_gate__y1");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(1.6882718240109127e-5);

    // rY[17]:
    this->mVariableNames.push_back("T_type_Ca_channel_y2_gate__y2");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.8585352091865849);

    // rY[18]:
    this->mVariableNames.push_back("time_independent_potassium_current_y_gate__y");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.6080573900752752);

    // rY[19]:
    this->mVariableNames.push_back("rapid_time_dependent_potassium_current_y1_gate__y1");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.0018339931180983765);

    // rY[20]:
    this->mVariableNames.push_back("rapid_time_dependent_potassium_current_y2_gate__y2");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.20443083454225305);

    // rY[21]:
    this->mVariableNames.push_back("rapid_time_dependent_potassium_current_y3_gate__y3");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.967887666264921);

    // rY[22]:
    this->mVariableNames.push_back("slow_time_dependent_potassium_current_y1_gate__y1");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.09738789658609195);

    // rY[23]:
    this->mVariableNames.push_back("slow_time_dependent_potassium_current_y2_gate__y2");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.09745345578743213);

    // rY[24]:
    this->mVariableNames.push_back("transient_outward_current_y1_gate__y1");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(7.956883250874798e-4);

    // rY[25]:
    this->mVariableNames.push_back("transient_outward_current_y2_gate__y2");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.9999125083105881);

    // rY[26]:
    this->mVariableNames.push_back("sodium_calcium_exchanger_y_gate__y");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.9891789193465331);

    // rY[27]:
    this->mVariableNames.push_back("sodium_potassium_pump_y_gate__y");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.5910747147428818);

    // rY[28]:
    this->mVariableNames.push_back("SR_calcium_pump_y_gate__y");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.46108441538480216);

    // rY[29]:
    this->mVariableNames.push_back("RyR_channel__p_open_RyR");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(3.4314360001543243e-4);

    // rY[30]:
    this->mVariableNames.push_back("RyR_channel__p_close_RyR");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.19135178123107768);

    // rY[31]:
    this->mVariableNames.push_back("Ca_concentrations_in_SR__Ca_Total");
    this->mVariableUnits.push_back("millimolar");
    this->mInitialConditions.push_back(9.455741736977666);

    // rY[32]:
    this->mVariableNames.push_back("Ca_concentrations_in_SR__Caup");
    this->mVariableUnits.push_back("millimolar");
    this->mInitialConditions.push_back(2.611712901567567);

    // rY[33]:
    this->mVariableNames.push_back("NL_model__pCa");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.02490898775497523);

    // rY[34]:
    this->mVariableNames.push_back("NL_model__pCaCB");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(0.001990153835322864);

    // rY[35]:
    this->mVariableNames.push_back("NL_model__pCB");
    this->mVariableUnits.push_back("dimensionless");
    this->mInitialConditions.push_back(4.2941813853474524e-4);

    // rY[36]:
    this->mVariableNames.push_back("NL_model__X");
    this->mVariableUnits.push_back("micrometre");
    this->mInitialConditions.push_back(0.9573749975411884);

    this->mInitialised = true;
}


// Serialization for Boost >= 1.36
#include "SerializationExportWrapperForCpp.hpp"
CHASTE_CLASS_EXPORT(Dynamicmatsuoka_model_2003FromCellMLBackwardEuler)
extern "C"
{
    AbstractCardiacCellInterface* MakeCardiacCell(
            boost::shared_ptr<AbstractIvpOdeSolver> pSolver,
            boost::shared_ptr<AbstractStimulusFunction> pStimulus)
    {
        return new Dynamicmatsuoka_model_2003FromCellMLBackwardEuler(pSolver, pStimulus);
    }
    
}

